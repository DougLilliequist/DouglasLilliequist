{"version":3,"sources":["../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/inherits.js","../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/superPropBase.js","../../node_modules/@babel/runtime/helpers/get.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/tiny-emitter/index.js","../src/renderer.js","../src/helpers.js","../src/core.js","../src/transition.js","../src/highway.js","../../node_modules/tiny-emitter/index.js","../../utils/events.js","../../node_modules/gsap/gsap-core.js","../../node_modules/gsap/CSSPlugin.js","../../node_modules/gsap/index.js","../EventEmitter.js","View.js","../Assets/ProjectContent.js","../Assets/AboutContent.js","../ContentManager.js","Work/Work.js","About/About.js","../../node_modules/@babel/runtime/helpers/isNativeFunction.js","../../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../../node_modules/@babel/runtime/helpers/construct.js","../../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../../vendors/ogl/src/math/functions/Vec3Func.js","../../vendors/ogl/src/math/Vec3.js","../../vendors/ogl/src/math/functions/Vec4Func.js","../../vendors/ogl/src/math/functions/QuatFunc.js","../../vendors/ogl/src/math/Quat.js","../../vendors/ogl/src/math/functions/Mat4Func.js","../../vendors/ogl/src/math/Mat4.js","../../vendors/ogl/src/math/functions/EulerFunc.js","../../vendors/ogl/src/math/Euler.js","../../vendors/ogl/src/core/Transform.js","../../vendors/ogl/src/core/Renderer.js","../../vendors/ogl/src/core/Camera.js","../../vendors/ogl/src/math/functions/Vec2Func.js","../../vendors/ogl/src/math/Vec2.js","../../node_modules/ogl/src/math/functions/Vec3Func.js","../../node_modules/ogl/src/math/Vec3.js","../../node_modules/ogl/src/core/Geometry.js","../../node_modules/ogl/src/core/Program.js","../../node_modules/ogl/src/core/Renderer.js","../../node_modules/ogl/src/math/functions/Vec4Func.js","../../node_modules/ogl/src/math/functions/QuatFunc.js","../../node_modules/ogl/src/math/Quat.js","../../node_modules/ogl/src/math/functions/Mat4Func.js","../../node_modules/ogl/src/math/Mat4.js","../../node_modules/ogl/src/math/functions/EulerFunc.js","../../node_modules/ogl/src/math/Euler.js","../../node_modules/ogl/src/core/Transform.js","../../node_modules/ogl/src/core/Camera.js","../../node_modules/ogl/src/math/functions/Mat3Func.js","../../node_modules/ogl/src/math/Mat3.js","../../node_modules/ogl/src/core/Mesh.js","../../node_modules/ogl/src/core/Texture.js","../../node_modules/ogl/src/core/RenderTarget.js","../../node_modules/ogl/src/math/functions/ColorFunc.js","../../node_modules/ogl/src/math/Color.js","../../node_modules/ogl/src/math/functions/Vec2Func.js","../../node_modules/ogl/src/math/Vec2.js","../../node_modules/ogl/src/math/Vec4.js","../../node_modules/ogl/src/extras/Plane.js","../../node_modules/ogl/src/extras/Box.js","../../node_modules/ogl/src/extras/Sphere.js","../../node_modules/ogl/src/extras/Cylinder.js","../../node_modules/ogl/src/extras/Triangle.js","../../node_modules/ogl/src/extras/Orbit.js","../../node_modules/ogl/src/extras/Raycast.js","../../node_modules/ogl/src/extras/Curve.js","../../node_modules/ogl/src/extras/Post.js","../../node_modules/ogl/src/extras/Animation.js","../../node_modules/ogl/src/extras/Skin.js","../../node_modules/ogl/src/extras/Text.js","../../node_modules/ogl/src/extras/NormalProgram.js","../../node_modules/ogl/src/extras/Flowmap.js","../../node_modules/ogl/src/extras/GPGPU.js","../../node_modules/ogl/src/extras/Polyline.js","../../node_modules/ogl/src/extras/Shadow.js","../../node_modules/ogl/src/extras/KTXTexture.js","../../node_modules/ogl/src/extras/TextureLoader.js","../../node_modules/ogl/src/extras/GLTFAnimation.js","../../node_modules/ogl/src/extras/GLTFLoader.js","../../node_modules/ogl/src/index.mjs","../Webgl/utils/getCameraViewplaneSize.js","../../vendors/ogl/src/core/Program.js","../Webgl/extras/DomQuad/DomQuad.js","../../vendors/ogl/src/core/Texture.js","../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../vendors/ogl/src/core/Geometry.js","../../vendors/ogl/src/extras/Plane.js","../Webgl/DomQuads/Projects/ProjectQuad/shaders/projectQuad.vert","../Webgl/DomQuads/Projects/ProjectQuad/shaders/projectQuad.frag","../../utils/Math.js","../Webgl/DomQuads/Projects/ProjectQuad/ProjectQuad.js","../Webgl/extras/DomQuad/DomquadMediator.js","../Webgl/DomQuads/Projects/projectQuadMediator.js","../Webgl/DomQuads/About/AboutQuad/shaders/aboutQuad.vert","../Webgl/DomQuads/About/AboutQuad/shaders/aboutQuad.frag","../Webgl/DomQuads/About/AboutQuad/AboutQuad.js","../Webgl/DomQuads/About/AboutQudMediator.js","../Webgl/DomQuads/DomQuadManager.js","../../vendors/ogl/src/extras/Triangle.js","../../vendors/ogl/src/math/functions/Mat3Func.js","../../vendors/ogl/src/math/Mat3.js","../../vendors/ogl/src/core/Mesh.js","../../vendors/ogl/src/core/RenderTarget.js","../Webgl/MouseFlowmap/shaders/mouseFlowmap.vert","../Webgl/MouseFlowmap/shaders/mouseFlowmap.frag","../Webgl/MouseFlowmap/MouseFlowmap.js","../../node_modules/stats-js/build/stats.min.js","../src/dat/color/toString.js","../src/dat/utils/common.js","../src/dat/color/interpret.js","../src/dat/color/math.js","../src/dat/color/Color.js","../src/dat/controllers/Controller.js","../src/dat/dom/dom.js","../src/dat/controllers/BooleanController.js","../src/dat/controllers/OptionController.js","../src/dat/controllers/StringController.js","../src/dat/controllers/NumberController.js","../src/dat/controllers/NumberControllerBox.js","../src/dat/controllers/NumberControllerSlider.js","../src/dat/controllers/FunctionController.js","../src/dat/controllers/ColorController.js","../src/dat/utils/css.js","../src/dat/gui/saveDialogue.html.js","../src/dat/controllers/ControllerFactory.js","../src/dat/utils/requestAnimationFrame.js","../src/dat/dom/CenteredDiv.js","../src/dat/gui/GUI.js","../src/dat/index.js","../Webgl/WebGLContext.js","../LoadingScreen.js","../Navigation.js","../CanvasComponents/Cursor.js","../Transitions/Transition.js","ViewMediator.js","../index.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["E","prototype","on","name","callback","ctx","e","this","push","fn","once","self","listener","off","apply","arguments","_","emit","data","slice","call","evtArr","i","len","length","evts","liveEvents","Renderer","constructor","properties","wrap","document","querySelector","Transition","transition","class","setup","onEnter","onEnterCompleted","add","insertAdjacentHTML","view","outerHTML","update","title","page","show","datas","Promise","resolve","_this","hide","onLeaveCompleted","_this2","onLeave","const","PARSER","window","DOMParser","Helpers","renderers","transitions","getOrigin","url","match","replace","getPathname","getAnchor","getParams","search","split","object","part","getDOM","parseFromString","getView","getSlug","getAttribute","getRenderer","slug","renderer","isPrototypeOf","then","getTransition","getProperties","context","getLocation","href","anchor","origin","params","pathname","Core","Transitions","Contextual","location","cloneNode","popping","running","trigger","cache","Map","set","From","_navigate","navigate","bind","addEventListener","popState","links","querySelectorAll","attach","detach","removeEventListener","metaKey","ctrlKey","preventDefault","contextual","currentTarget","hasAttribute","dataset","redirect","beforeFetch","pushState","history","fetch","mode","method","headers","credentials","response","status","text","afterFetch","from","has","get","all","results","_this3","To","to","lastElementChild","Emitter","firstElementChild","setAttribute","removeAttribute","in","done","out","console","log","events","INIT_DOMGL","INIT_DOMGL_PROJECTS","INIT_DOMGL_ABOUT","QUADS_LOADED","SWAP_QUAD","REVEAL_QUADS","PREPARE_UNMOUNT","REMOVE_DOMGL","REMOVE_DOMGL_PROJECTS","REMOVE_DOMGL_ABOUT","LOAD_PROJECT_CONTENT","ENTER_SCROLL_MODE","EXIT_SCROLL_MODE","APPLY_SCROLL_MODE_ANIM","REMOVE_SCROLL_MODE_ANIM","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","SCROLLING","TOUCH_START","TOUCH_MOVE","TOUCH_END","UPDATE","UPDATE_SCROLL_PHASE","HOVERING_LINK","LEAVING_LINK","REPLACE_QUAD","PLAY_VIDEO","PAUSE_VIDEO","SHOW_CLICKDRAG_CTA","HIDE_CLICKDRAG_CTA","CONTENT_LOADED","UPDATE_PROGRESS","LOADING_ANIM_COMPLETED","RESIZE","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","Object","create","__proto__","_config","autoSleep","force3D","nullTargetWarn","units","lineHeight","_defaults","duration","overwrite","delay","_bigNum","_tinyNum","_2PI","Math","PI","_HALF_PI","_gsID","_sqrt","sqrt","_cos","cos","_sin","sin","_isString","value","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isArray","Array","isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_parenthesesExp","_relExp","_delimitedValueExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","scope","_merge","gsap","_missingPlugin","property","warn","_warn","message","suppress","_addGlobal","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","target","harnessPlugin","_gsap","harness","targetTest","GSCache","splice","_getCache","toArray","_getProperty","currentValue","_forEachName","names","func","forEach","_round","round","_arrayContainsAny","toSearch","toFind","l","indexOf","_parseVars","type","parent","isLegacy","varsIndex","vars","irVars","defaults","inherit","immediateRender","runBackwards","startAt","_lazyRender","a","tween","_lazy","render","_lazySafeRender","animation","time","suppressEvents","force","_numericIfPossible","n","parseFloat","_passThrough","p","_setDefaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","keyframes","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","t","_prev","_next","_dp","_removeLinkedListItem","next","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","_parentToChildTotalTime","parentTime","_start","_tDur","_setEnd","_end","abs","_rts","_postAddChecks","timeline","_time","_initted","_dur","rawTime","_clamp","totalTime","_zTime","_addToTimeline","position","skipChecks","_delay","timeScale","_sort","_recent","_attemptInitTween","_initTween","_pt","lazy","_ticker","frame","_renderZeroDurationTween","prevRatio","ratio","repeatDelay","pt","iteration","prevIteration","repeatRefresh","invalidate","_from","_callback","r","d","_startAt","_onUpdate","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","repeat","dur","min","_onUpdateTotalDuration","Timeline","_zeroPosition","endTime","_parsePosition","labels","recent","clippedDuration","offset","isNaN","charAt","substr","_conditionalReturn","max","getUnit","clamp","v","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","_wake","shuffle","sort","random","distribute","each","ease","_parseEase","isDecimal","ratios","axis","ratioX","ratioY","center","edges","end","distances","originX","originY","x","y","j","wrapAt","grid","getBoundingClientRect","left","amount","b","u","_invertEase","_roundModifier","pow","raw","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","f","unitize","unit","normalize","mapRange","_wrapArray","wrapper","index","range","wrapYoyo","total","_replaceRandom","s","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","start","progress","mutate","isString","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","init","_props","instanceDefaults","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","register","prop","toUpperCase","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","h","m1","m2","splitColor","toHSL","forceAlpha","g","wasHSL","parseInt","map","Number","_colorOrderData","c","_colorExp","_formatColors","orderMatchData","result","colors","shell","color","join","shift","RegExp","_hslExp","_colorStringFilter","combined","lastIndex","test","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_tick","elapsed","manual","overlap","dispatch","tick","wake","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","fps","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","key","val","parsedVal","lastIndexOf","trim","_configEaseFromString","exec","_CE","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","toLowerCase","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","Animation","_yoyo","yoyo","yoyoEase","reversed","reverse","paused","_proto","smoothChildTiming","startTime","_totalTime","_pTime","totalProgress","_ps","includeRepeats","wrapRepeats","seek","restart","includeDelay","play","pause","atTime","resume","isActive","hasStarted","eventCallback","onFulfilled","_resolve","_then","_Animation","sortChildren","_proto2","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","isYoyo","_lock","rewinding","doesWrap","_hasPause","_forcing","onUpdate","adjustedTime","addLabel","getChildren","nested","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","children","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","substring","m","fp","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","style","_checkPlugin","plugin","ptLookup","priority","_ptLookup","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","_ease","_yEase","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","pt2","first","last","pr","change","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","format","quickSetter","setters","isTweening","registerEffect","_ref","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","utils","install","effects","ticker","globalTimeline","core","globals","getCache","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","createElementNS","createElement","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","element","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","_getBBox","bounds","error","width","height","_isSVG","getCTM","_removeProperty","removeProperty","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","curValue","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","px","isSVG","body","_get","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","top","bottom","right","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","matrix","addedToDOM","transform","baseVal","consolidate","offsetParent","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","_ref2","a11","a21","tan","_addRotationalPropTween","cap","finalValue","direction","_addRawTransformPTs","startCache","exclude","endCache","side","CSSPlugin","specialProp","isTransformRelated","transformPropTween","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","gsapWithCSS","TweenMaxWithCSS","require","EventEmitter","emitter","passive","initEvents","onMouseDown","onMouseMove","onMouseUp","onScroll","onResize","eventEmitter","View","el","Highway","ProjectContent","description","tech","year","link","media","videoSrc","projectVideos","spiritualBeings512512","imageSrc","brightVal","sken512512","crashingdawn512512","role","letsgetphysical512512","needahand512512","gnsw512512","AboutContent","introText","contactHeader","contactMethods","img","selfportrait512512","ContentManager","contentCount","getFetchCount","viewContent","progressCounter","projects","loadViewContent","content","about","loadVideo","src","video","updateProgress","loadImage","image","res","readyState","HAVE_CURRENT_DATA","crossOrigin","playsinline","muted","loop","Image","contentLoaded","count","project","contentManager","Work","referenceElement","domGLReferenceElement","ProjectMedia","getFirstQuad","contentIndex","projectContent","Projects","getElementById","innerHTML","hoveringLink","classList","inScrollMode","enableUserInteraction","animateProjectContent","killActiveAnimations","enterAnim","startX","projectTitle","opacity","projectContentInfo","projectLink","leaveAnim","targetX","initReferences","initDomGL","playEnterAnim","removeEvents","playLeaveAnim","inTraverseMode","populateContent","enableScrollMode","disableScrollMode","updateLinkHoverState","hovering","scrollAnim","scrolling","About","AboutMedia","header","onLinkHover","onLinkLeave","aboutContent","getElementsByTagName","startY","EPSILON","subtract","multiply","divide","squaredDistance","squaredLength","negate","inverse","dot","cross","ax","ay","az","bx","by","bz","lerp","transformMat4","w","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","tempA","tempB","cosine","acos","exactEquals","Vec3","Vec3Func","va","vb","mat4","o","aw","identity","setAxisAngle","bw","rotateX","rotateY","rotateZ","slerp","omega","cosom","sinom","scale0","scale1","invert","a0","a3","invDot","conjugate","fromMat3","fTrace","fRoot","k","fromEuler","euler","order","sx","cx","sy","cy","sz","cz","vec4","Quat","onChange","QuatFunc","qA","qB","matrix3","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","transpose","a01","a02","a03","a00","a10","a20","a30","a31","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","b0","b1","b2","b3","translate","rotate","hypot","b12","b20","b21","b22","getTranslation","mat","getScaling","getMaxScaleOnAxis","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat","yx","zx","zy","fovy","aspect","near","far","nf","ortho","lr","bt","targetTo","eye","up","eyex","eyey","eyez","upx","upy","upz","z0","z1","x0","x1","multiplyScalar","Mat4","Mat4Func","ma","mb","fov","pos","fromRotationMatrix","tmpMat4","Euler","EulerFunc","fromQuaternion","Transform","visible","worldMatrix","matrixAutoUpdate","quaternion","notifyParent","addChild","notifyChild","setParent","updateMatrix","worldMatrixNeedsUpdate","updateMatrixWorld","compose","traverse","lookAt","tempVec3","canvas","dpr","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","powerPreference","autoClear","webgl","attributes","gl","getContext","isWebgl2","setSize","state","blendFunc","ONE","dst","ZERO","blendEquation","modeRGB","FUNC_ADD","cullFace","frontFace","CCW","depthMask","depthFunc","LESS","premultiplyAlpha","flipY","unpackAlignment","framebuffer","viewport","textureUnits","activeTextureUnit","boundBuffer","uniformLocations","extensions","getExtension","vertexAttribDivisor","drawArraysInstanced","drawElementsInstanced","createVertexArray","bindVertexArray","deleteVertexArray","drawBuffers","parameters","maxTextureUnits","getParameter","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","assign","enable","disable","srcAlpha","dstAlpha","undefined","blendFuncSeparate","modeAlpha","blendEquationSeparate","activeTexture","TEXTURE0","FRAMEBUFFER","buffer","bindFramebuffer","extension","webgl2Func","extFunc","renderOrder","program","zDepth","scene","camera","frustumCull","renderList","updateFrustum","node","draw","frustumCulled","frustumIntersectsMesh","opaque","ui","depthTest","applyMatrix4","projectionViewMatrix","sortOpaque","sortTransparent","sortUI","concat","setViewport","DEPTH_TEST","setDepthMask","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","getRenderList","tempMat4","tempVec3a","tempVec3b","Camera","zoom","projectionMatrix","viewMatrix","worldPosition","orthographic","fromPerspective","fromOrthogonal","frustum","constant","invLen","geometry","Infinity","computeBoundingSphere","frustumIntersectsSphere","normal","plane","transformMat2","transformMat2d","Vec2","Vec2Func","mat3","sub","squaredLen","equals","applyQuaternion","clone","fromArray","transformDirection","ID","ATTR_ID","isBoundsWarned","Geometry","VAOs","drawRange","instancedCount","currentGeometry","glState","addAttribute","attr","size","Float32Array","FLOAT","Uint16Array","UNSIGNED_SHORT","UNSIGNED_INT","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","normalized","stride","divisor","instanced","needsUpdate","createBuffer","updateAttribute","isInstanced","bindBuffer","bufferData","STATIC_DRAW","setIndex","setDrawRange","setInstancedCount","createVAO","attributeOrder","bindAttributes","attributeLocations","vertexAttribPointer","enableVertexAttribArray","TRIANGLES","drawElements","drawArrays","getPositionArray","computeBoundingBox","array","maxRadiusSq","vao","deleteBuffer","arrayCacheF32","Program","vertex","fragment","uniforms","BACK","depthWrite","setBlendFunc","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderInfoLog","addLineNumbers","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","numUniforms","ACTIVE_UNIFORMS","uIndex","uniform","getActiveUniform","getUniformLocation","uniformName","isStructArray","structIndex","structProperty","isStruct","locations","numAttribs","ACTIVE_ATTRIBUTES","aIndex","attribute","getActiveAttrib","getAttribLocation","setBlendEquation","applyState","CULL_FACE","BLEND","setCullFace","setFrontFace","setDepthFunc","use","flipFaces","textureUnit","programActive","currentProgram","useProgram","activeUniform","texture","setUniform","CW","deleteProgram","flatten","setValue","arraysEqual","setArray","uniform1fv","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform1i","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","string","lines","arrayLen","valueLen","warnCount","fromMatrix3","fromAxisAngle","setPosition","reorder","decompose","unproject","fromMat4","normalFromMat4","projection","Mat3","Mat3Func","fromMatrix4","fromBasis","vec3a","vec3b","vec3c","getNormalMatrix","Mesh","modelViewMatrix","normalMatrix","beforeRenderCallbacks","afterRenderCallbacks","onBeforeRender","onAfterRender","mesh","modelMatrix","cameraPosition","emptyPixel","Uint8Array","isPowerOf2","Texture","TEXTURE_2D","UNSIGNED_BYTE","RGBA","internalFormat","wrapS","CLAMP_TO_EDGE","wrapT","generateMipmaps","minFilter","NEAREST_MIPMAP_LINEAR","LINEAR","magFilter","anisotropy","level","createTexture","store","REPEAT","bindTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_CUBE_MAP","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","ArrayBuffer","isView","isCompressedTexture","compressedTexImage2D","generateMipmap","RenderTarget","depthTexture","createFramebuffer","textures","framebufferTexture2D","COLOR_ATTACHMENT0","NEAREST","DEPTH_COMPONENT","DEPTH_COMPONENT16","DEPTH_ATTACHMENT","depthBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","stencilBuffer","STENCIL_INDEX8","STENCIL_ATTACHMENT","depthStencilBuffer","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","NAMES","hexToRGB","hex","rgb","numberToRGB","num","parseColor","Color","ColorFunc","applyMatrix3","Vec4","Vec4Func","Plane","widthSegments","heightSegments","wSegs","hSegs","numIndices","uv","Uint32Array","buildPlane","uDir","vDir","ii","io","segW","segH","iy","ix","Box","depthSegments","dSegs","Sphere","ceil","phiStart","phiLength","thetaStart","thetaLength","pStart","pLength","tStart","tLength","iv","te","vRow","Cylinder","radiusTop","radiusBottom","radialSegments","openEnded","rSegs","numCaps","indexArray","addHeight","addCap","slope","indexRow","theta","sinTheta","cosTheta","isTop","sign","centerIndex","Triangle","STATE","NONE","ROTATE","DOLLY","PAN","DOLLY_PAN","tempVec2a","tempVec2b","Orbit","enabled","inertia","enableRotate","rotateSpeed","enableZoom","zoomSpeed","enablePan","panSpeed","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","minDistance","maxDistance","sphericalDelta","phi","sphericalTarget","spherical","panDelta","sinPhiRadius","rotateStart","panStart","dollyStart","mouseButtons","ORBIT","ZOOM","getZoomScale","panLeft","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","dolly","dollyScale","handleMoveRotate","handleMouseMoveDolly","clientX","clientY","handleMovePan","handleTouchStartDollyPan","touches","pageX","pageY","handleTouchMoveDollyPan","button","onMouseWheel","stopPropagation","onTouchStart","onTouchMove","onTouchEnd","onContextMenu","addHandlers","tempVec3c","Raycast","castMouse","mouse","intersectBounds","meshes","invWorldMat4","hits","raycast","localDistance","intersectSphere","intersectBox","hit","localPoint","point","sphere","ray","tca","d2","radius2","thc","t0","box","tmin","tmax","tYmin","tYmax","tZmin","tZmax","invdirx","invdiry","invdirz","CATMULLROM","CUBICBEZIER","QUADRATICBEZIER","_a0","_a1","_a2","_a3","getCtrlPoint","points","getQuadraticBezierPoint","p0","c0","ret","getCubicBezierPoint","c1","Curve","divisions","_getQuadraticBezierPoints","_getCubicBezierPoints","_getCatmullRomPoints","pop","getPoints","Post","targetOnly","options","passes","fbo","read","write","swap","resize","addPass","defaultVertex","defaultFragment","textureUniform","pass","enabledPasses","filter","prevPos","prevRot","prevScl","nextPos","nextRot","nextScl","objects","weight","frames","totalWeight","isSet","floorFrame","floor","blend","prevKey","nextKey","Skin","rig","createBones","createBoneTexture","boneTexture","boneTextureSize","root","bones","bone","bindPose","bindInverse","LN2","boneMatrices","RGBA16F","addAnimation","Text","font","align","letterSpacing","wordSpacing","wordBreak","glyphs","buffers","fontHeight","baseline","newline","whitespace","parseFont","createGeometry","chars","char","common","numChars","layout","cursor","wordCursor","wordWidth","line","newLine","maxTimes","glyph","prevGlyph","kern","getKernPairOffset","advance","xadvance","numGlyphs","populateBuffers","texW","scaleW","texH","scaleH","lineIndex","xoffset","yoffset","uw","vh","numLines","id1","id2","kernings","second","NormalProgram","Flowmap","falloff","dissipation","mask","createFBOs","velocity","initProgram","HALF_FLOAT","HALF_FLOAT_OES","RGBA32F","tMap","uFalloff","uAlpha","uDissipation","uAspect","uMouse","uVelocity","GPGPU","initialData","dataLength","coords","floatArray","tmp","Polyline","ind","updateGeometry","uResolution","resolution","uDPR","uThickness","thickness","uColor","uMiter","miter","Shadow","light","depthProgram","castMeshes","receive","cast","uniformProjection","uniformView","uniformTexture","colorProgram","isForceVisibility","KTXTexture","parseBuffer","ktx","KhronosTextureContainer","mipmaps","glInternalFormat","numberOfMipmapLevels","idCheck","BYTES_PER_ELEMENT","head","DataView","littleEndian","getUint32","glType","numberOfFaces","bytesOfKeyValueData","levelSize","Int32Array","face","supportedExtensions","TextureLoader","load","support","getSupportedExtensions","ext","includes","cacheID","loaded","loadKTX","pvrtc","s3tc","etc","etc1","astc","detectWebP","arrayBuffer","decodeImage","imgBmp","powerOfTwo","close","clearCache","toDataURL","log2","isChrome","navigator","userAgent","createImageBitmap","onload","imageOrientation","tmpVec3A","tmpVec3B","tmpVec3C","tmpVec3D","tmpQuatA","tmpQuatB","tmpQuatC","tmpQuatD","GLTFAnimation","times","interpolation","prevIndex","findIndex","nextIndex","prevVal","prevTan","nextTan","nextVal","cubicSplineInterpolate","s2","s3","s0","s1","TYPE_ARRAY","Int16Array","TYPE_SIZE","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","ATTRIBUTES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","TRANSFORMS","translation","GLTFLoader","dir","desc","json","asset","loadBuffers","bufferViews","parseBufferViews","parseMeshes","nodes","parseNodes","parseAnimations","scenes","parseScenes","resolveURI","uri","primitives","indices","accessors","bufferView","isAttribute","componentType","bufferIndex","byteOffset","byteLength","byteStride","extras","TypeArray","elementBytes","weights","parsePrimitives","material","parseAccessor","bufferViewIndex","sparse","skin","meshIndex","childIndex","channels","samplers","sampler","samplerIndex","input","inputIndex","output","outputIndex","nodeIndex","path","timesAcc","valuesAcc","nodesIndices","getCameraViewplaneSize","cameraFov","cameraAspect","dist","viewportHeight","viewportWidth","DomQuad","viewPlaneSize","domElement","cameraViewplaneSize","viewportScalePhase","calcViewportScalePhase","rect","viewportScaleX","innerWidth","viewportScaleY","innerHeight","posPhaseX","posPhaseY","posX","posY","module","exports","loopNegativeNumber","makeid","characters","charactersLength","vert","frag","ProjectQuad","posOffset","updateTexture","_ViewplaneSize","_Time","_Image","_FlowMap","_FlowMapPhase","_ScrollPhase","_InputForce","_FlipFlowMapForce","_ScalePhase","_RevealPhase","_RevealDirection","_InView","_Alpha","_Scale","animteUniforms","alphaPhase","flowMapPhase","isInView","targetPos","delta","restoreDelta","inView","inViewPosZ","initPos","scrollPhase","restorePhase","restoreEase","playVideo","pauseVideo","applyScrollMode","removeScrollMode","updateVideoTexture","restorePosition","updateScrollPhase","fallOff","scrollModeTl","HAVE_ENOUGH_DATA","DomquadMediator","quad","quadsLoaded","ProjectQuadMediator","calculateDomTransforms","quads","quadCount","quadInView","getQuadInView","revealQuadAnim","newQuad","quadSwapped","inputForce","inputForceInertia","minBounds","maxBounds","enterScrollMode","exitScrollMode","revealQuads","swapQuad","hideQuads","inputDelta","dt","flowMap","updateInputForce","deltaTime","loopQuads","updateDimensions","calcDomToWebGLPos","AboutQuad","_Aspect","AboutQuadMediator","revealQuad","animateOutQuads","reveal","DomQuadManager","activeMediator","mediators","initQuads","unloadQuads","updateQuadDimensions","initMediators","PROJECTS","ABOUT","loadMediator","unloadActiveMediator","inputPos","MouseFlowmap","initFBO","createRenderTexture","geo","_PrevFrame","_InputPos","_InputVel","_Force","_Radius","_FadeRate","velX","velY","forceCSSHex","colorFormat","__state","conversionName","toString","toFixed","str","ARR_EACH","ARR_SLICE","Common","keys","isObject","isUndefined","toCall","itr","BREAK","fnc","callImmediately","timeout","delayed","callNow","INTERPRETATIONS","original","isNumber","toReturn","interpret","family","litmus","conversions","conversion","tmpComponent","ColorMath","hi","NaN","hex_with_component","componentIndex","Error","colorToString","defineRGBComponent","component","componentHexIndex","defineProperty","space","recalculateRGB","defineHSVComponent","recalculateHSV","math","component_from_hex","extend","hsv_to_rgb","rgb_to_hsv","COMPONENTS","rgb_to_hex","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","EVENT_MAP_INV","CSS_VALUE_PIXELS","cssValueToPixels","isNull","dom","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","hor","vertical","eventType","pars","aux","className","evt","createEvent","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","altKey","shiftKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","attachEvent","detachEvent","classes","offsetLeft","offsetTop","activeElement","BooleanController","__prev","__checkbox","checked","OptionController","opts","__select","opt","desiredValue","selectedIndex","StringController","__input","onBlur","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","__truncationSuspended","prevY","attempted","onFinish","onMouseDrag","diff","unbind","i1","i2","o1","o2","NumberControllerSlider","__background","__foreground","addClass","bgRect","pct","FunctionController","__button","fire","ColorController","__color","__temp","makeSelectable","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","removeClass","valueField","fieldDown","fieldDownH","setSV","fieldUpSV","setH","fieldUpH","toOriginal","fieldRect","mismatch","flip","_flip","toHexString","marginTop","vendors","linearGradient","background","vendor","hueGradient","css","indoc","doc","rel","cssContent","injected","saveDialogContents","ControllerFactory","isFunction","isBoolean","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","makeFullscreen","webkitTransform","defer","getWidth","getHeight","inject","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","DEFAULT_WIDTH","autoPlace","preset","hideable","resizable","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","defineProperties","closeOnTop","getRoot","revert","closed","CLASS_CLOSED","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","onClickTitle","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","stringify","getSaveObject","saveToLocalStorageIfPossible","resetWidth","toggleHide","gui","CLASS_CONTROLLER_ROW","CLASS_TOO_TALL","CLASS_DRAG","_keydownHandler","which","controller","__li","subfolder","removeFolder","newGuiParams","folders","li","folder","parentElement","getOffset","__save_row","__resize_handle","debounce","saveDialogueContents","remembered","getCurrentPreset","presetName","newDom","liBefore","removeListeners","markPresetModified","modified","__preset_select","augmentController","__gui","nextElementSibling","listen","pc","pb","returned","oldName","wasListening","newController","fakeEvent","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","presetMap","factoryArgs","before","container","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","firstChild","gears","button2","button3","select","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","save","prompt","saveAs","addResizeHandle","pmouseX","drag","dragStop","dragStart","setWidth","useInitialValues","savedValues","setPresetSelectIndex","updateDisplays","controllerArray","controllers","domImport","GUIImport","Stats","WebGLContext","isInteracting","prevInputPos","firstMove","currentTime","performance","prevtime","mouseFlowmap","domQuadManager","resizeContext","aspectRatio","Aspect","initScene","initDomQuadManager","initMouseflowMap","clearColor","zIndex","stats","isResizing","LoadingScreen","hideTl","copyContainer","phase","targetAlpha","subTitle","updateProgressAnim","Navigation","active","updateActiveState","updateSelectionState","viewMediator","enableLinks","currentLocation","Cursor","prevPosition","animateScrollMode","inputTravel","inputTravelThreshold","removeCTAText","restore","restoreAnim","defaultRadius","ctaTextAlpha","removeCTA","cursorArrowAlpha","arrowOriginOffset","revealAnim","hoverModeAnim","drawMessage","inputDirection","updateInputphase","devicePixelRatio","initCursor","initCursorArrows","initCta","scrollModeRadius","strokeWidth","startAngle","endAngle","arrowLocalPos","inputPhase","holdMessage","createCanvasText","word","fontSize","dragMessage","ctaPosOffset","messageBounds","measureText","showCTAText","hideCTAText","animteHoverMode","scrollModeAnim","beginPath","topArrowAlpha","fillStyle","topArrowScale","moveTo","lineTo","fill","closePath","bottomArrowAlpha","bottomArrowScale","arc","lineWidth","stroke","textBaseline","fillText","clearRect","drawCursorCircle","drawCTAText","drawCursorArrows","ViewMediator","home","work","highwayArgs","default","App","loadingScreen","navigation","webGLCTX","initContent","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","Function","deps","cached","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACfA,SAASA,CAAT,GAASA,CAKTA;;AAAAA,CAAAA,CAAEC,SAAFD,GAAc;AACZE,EAAAA,EAAAA,EAAI,UAAUC,CAAV,EAAgBC,CAAhB,EAA0BC,CAA1B,EAA0BA;AAC5B,QAAIC,CAAAA,GAAIC,KAAKD,CAALC,KAAWA,KAAKD,CAALC,GAAS,EAApBA,CAAR;AAOA,WAAA,CALCD,CAAAA,CAAEH,CAAFG,CAAAA,KAAYA,CAAAA,CAAEH,CAAFG,CAAAA,GAAU,EAAtBA,CAKD,EAL4BE,IAK5B,CALiC;AAC/BC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","file":"src.80dfb952.js","sourceRoot":"..\\src\\Views","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","/**\n * @file Highway default renderer that handle DOM stuffs.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\n\nexport default class Renderer {\n\n  /**\n   * @arg {object} properties  Set of properties (slug, page, view,...)\n   * @constructor\n   */\n  constructor(properties) {\n    // We get the view.\n    this.wrap = document.querySelector('[data-router-wrapper]');\n\n    // We save properties of the renderer\n    this.properties = properties;\n\n    // We get our transition we will use later to show/hide our view.\n    this.Transition = properties.transition ? new properties.transition.class(this.wrap, properties.transition.name) : null;\n  }\n\n  /**\n   * Renderer initialization.\n   */\n  setup() {\n    // These both methods have to be called at least once on first load.\n    this.onEnter && this.onEnter();\n    this.onEnterCompleted && this.onEnterCompleted();\n  }\n\n  /**\n   * Add view in DOM, then remove previous view\n   */\n  add() {\n    // We setup the DOM for our [data-router-view]\n    this.wrap.insertAdjacentHTML('beforeend', this.properties.view.outerHTML);\n  }\n\n  /**\n   * Update document informations\n   */\n  update() {\n    // Now we update all the informations in the DOM we need!\n    // We update the title\n    document.title = this.properties.page.title;\n  }\n\n  /**\n   * Add the view in DOM and play an `in` transition if one is defined.\n   *\n   * @param {object} datas - Set of datas\n   * @return {object} Promise\n   */\n  show(datas) {\n    return new Promise(async resolve => {\n      // Update DOM.\n      this.update();\n\n      // The `onEnter` method if set is called everytime the view is appended\n      // to the DOM. This let you do some crazy stuffs at this right moment.\n      this.onEnter && this.onEnter();\n\n      // The transition is set in your custom renderer with a getter called\n      // `transition` that should return the transition object you want to\n      // apply to you view. We call the `in` step of this one right now!\n      this.Transition && await this.Transition.show(datas);\n\n      // The `onEnterCompleted` method if set in your custom renderer is called\n      // everytime a transition is over if set. Otherwise it's called right after\n      // the `onEnter` method.\n      this.onEnterCompleted && this.onEnterCompleted();\n\n      // We resolve the Promise.\n      resolve();\n    });\n  }\n\n  /**\n   * Play an `out` transition if one is defined and remove the view from DOM.\n   *\n   * @param {object} datas - Set of datas\n   * @return {object} Promise\n   */\n  hide(datas) {\n    return new Promise(async resolve => {\n      // The `onLeave` method if set in your custom renderer is called everytime\n      // before a view will be removed from the DOM. This let you do some stuffs\n      // right before the view isn't available anymore.\n      this.onLeave && this.onLeave();\n\n      // We call the `out` step of your transition right now!\n      this.Transition && await this.Transition.hide(datas);\n\n      // The `onLeaveCompleted` method if set in your custom renderer is called\n      // everytime a view is completely removed from the DOM.\n      this.onLeaveCompleted && this.onLeaveCompleted();\n\n      // Resolve Promise\n      resolve();\n    });\n  }\n}\n","/**\n * @file Highway helper methods used all acrosse the script.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\n\n// Dependencies\nimport Renderer from './renderer';\n\n// Constants\nconst PARSER = new window.DOMParser();\n\n// Highway Helpers\nexport default class Helpers {\n\n  /**\n   * @arg {object} renderers  List of renderers\n   * @arg {object} transitions  List of transitions\n   * @constructor\n   */\n  constructor(renderers, transitions) {\n    this.renderers = renderers;\n    this.transitions = transitions;\n  }\n\n  /**\n   * Get origin of an URL\n   *\n   * @arg    {string} url  URL to match\n   * @return {string} Origin of URL or `null`\n   * @static\n   */\n  getOrigin(url) {\n    const match = url.match(/(https?:\\/\\/[\\w\\-.]+)/);\n    return match ? match[1].replace(/https?:\\/\\//, '') : null;\n  }\n\n  /**\n   * Get pathname of an URL\n   *\n   * @arg    {string} url  URL to match\n   * @return {string} Pathname of URL or `null`\n   * @static\n   */\n  getPathname(url) {\n    const match = url.match(/https?:\\/\\/.*?(\\/[\\w_\\-./]+)/);\n    return match ? match[1] : '/';\n  }\n\n  /**\n   * Get anchor in an URL\n   *\n   * @arg    {string} url  URL to match\n   * @return {string} Anchor in URL or `null`\n   * @static\n   */\n  getAnchor(url) {\n    const match = url.match(/(#.*)$/);\n    return match ? match[1] : null;\n  }\n\n  /**\n   * Get search in URL.\n   *\n   * @arg    {string} url  URL to match\n   * @return {object} Search in URL formatted as an object or `null`\n   * @static\n   */\n  getParams(url) {\n    const match = url.match(/\\?([\\w_\\-.=&]+)/);\n\n    if (!match) {\n      return null;\n    }\n\n    const search = match[1].split('&');\n    const object = {};\n\n    for (let i = 0; i < search.length; i++) {\n      const part = search[i].split('=');\n      const { 0: key } = part;\n      const { 1: value } = part;\n\n      object[key] = value;\n    }\n\n    return object;\n  }\n\n  /**\n   * Get page's DOM from page HTML\n   *\n   * @arg    {string} page  Page HTML\n   * @return {string} Page DOM\n   * @static\n   */\n  getDOM(page) {\n    return typeof page === 'string' ? PARSER.parseFromString(page, 'text/html') : page;\n  }\n\n  /**\n   * Get view element from page DOM\n   *\n   * @arg    {string} page  Page DOM\n   * @return {object} View element or `null`\n   * @static\n   */\n  getView(page) {\n    return page.querySelector('[data-router-view]');\n  }\n\n  /**\n   * Get view's slug from view element\n   *\n   * @arg    {string} view  [data-router-view] DOM\n   * @return {string} Page slug or `null`\n   * @static\n   */\n  getSlug(view) {\n    return view.getAttribute('data-router-view');\n  }\n\n  /**\n   * Get page renderer\n   *\n   * @arg    {string} slug  Renderer's slug\n   * @return {object} Single renderer or default one\n   * @static\n   */\n  getRenderer(slug) {\n    // Return Default\n    if (!this.renderers) {\n      return Promise.resolve(Renderer);\n    }\n\n    // Return Renderer\n    if (slug in this.renderers) {\n      const renderer = this.renderers[slug];\n\n      if (typeof renderer === 'function' && !Renderer.isPrototypeOf(renderer)) {\n        return Promise.resolve(renderer()).then(({ default: cons }) => cons);\n      }\n\n      if (typeof renderer.then === 'function') {\n        return Promise.resolve(renderer).then(({ default: cons }) => cons);\n      }\n\n      return Promise.resolve(renderer);\n    }\n\n    // Return Default\n    return Promise.resolve(Renderer);\n  }\n\n  /**\n   * Get page transition\n   *\n   * @arg    {string} slug  Transition slug\n   * @return {object} Single transition or `null`\n   * @static\n   */\n  getTransition(slug) {\n    if (!this.transitions) {\n      return null;\n    }\n\n    if (slug in this.transitions) {\n      // Return Transition\n      return { class: this.transitions[slug], name: slug };\n    }\n\n    if ('default' in this.transitions) {\n      // Return Transition\n      return { class: this.transitions['default'], name: 'default' };\n    }\n\n    return null;\n  }\n\n  /**\n   * Get all required properties for a context.\n   *\n   * @arg    {object} context  DOM context\n   * @return {object} Properties\n   */\n  getProperties(context) {\n    const page = this.getDOM(context);\n    const view = this.getView(page);\n    const slug = this.getSlug(view);\n    const renderer = this.getRenderer(slug, this.renderers);\n    const transition = this.getTransition(slug, this.transitions);\n\n    return {\n      page,\n      view,\n      slug,\n      renderer,\n      transition\n    };\n  }\n\n  /**\n   * Get state of an URL.\n   *\n   * @arg    {string} url  URL to decompose\n   * @return {object} State\n   */\n  getLocation(url) {\n    return {\n      href: url,\n      anchor: this.getAnchor(url),\n      origin: this.getOrigin(url),\n      params: this.getParams(url),\n      pathname: this.getPathname(url)\n    };\n  }\n}\n","/**\n * @file Highway core that handle all history stuffs.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nimport Emitter from 'tiny-emitter';\nimport Helpers from './helpers';\n\nexport default class Core extends Emitter {\n\n  /**\n   * @arg {object} opts  User options\n   * @arg {object} opts.renderers  List of renderers\n   * @arg {object} opts.transitions  List of transitions\n   * @extends Emitter\n   * @constructor\n   */\n  constructor({ renderers, transitions } = {}) {\n    // Extends the Emitter constructor in order to be able to use its features\n    // and send custom events all along the script.\n    super();\n\n    // Helpers.\n    this.Helpers = new Helpers(renderers, transitions);\n\n    // Prep contextual transition info.\n    this.Transitions = transitions;\n    this.Contextual = false;\n\n    // Properties & state.\n    this.location = this.Helpers.getLocation(window.location.href);\n    this.properties = this.Helpers.getProperties(document.cloneNode(true));\n\n    // Status variables.\n    this.popping = false;\n    this.running = false;\n\n    // Trigger Element\n    this.trigger = null;\n\n    // Cache\n    this.cache = new Map();\n    this.cache.set(this.location.href, this.properties);\n\n    // Get the page renderer and properly setup it.\n    this.properties.renderer.then(Renderer => {\n      this.From = new Renderer(this.properties);\n      this.From.setup();\n    });\n\n    // Events variables.\n    this._navigate = this.navigate.bind(this);\n\n    // Listen the `popstate` on the window to run the router each time an\n    // history entry changes. Basically everytime the backward/forward arrows\n    // are triggered by the user.\n    window.addEventListener('popstate', this.popState.bind(this));\n\n    // Get all elligible links.\n    this.links = document.querySelectorAll('a:not([target]):not([data-router-disabled])');\n\n    // Event attachement\n    this.attach(this.links);\n  }\n\n  /**\n   * Attach `click` event on links.\n   *\n   * @param {(array|nodeList)} links - Links to use\n   */\n  attach(links) {\n    for (const link of links) {\n      link.addEventListener('click', this._navigate);\n    }\n  }\n\n  /**\n   * Detach `click` event on links.\n   *\n   * @param {(array|nodeList)} links - Links to use\n   */\n  detach(links) {\n    for (const link of links) {\n      link.removeEventListener('click', this._navigate);\n    }\n  }\n\n  /**\n   * Click method called on `click` event.\n   *\n   * @arg {object} e - `click` event\n   */\n  navigate(e) {\n    if (!(e.metaKey || e.ctrlKey)) {\n      // Prevent default `click`\n      e.preventDefault();\n\n      // Check to see if this navigation will use a contextual transition\n      const contextual = e.currentTarget.hasAttribute('data-transition') ? e.currentTarget.dataset.transition : false;\n\n      // We have to redirect to our `href` using Highway\n      // There we set up the contextual transition, so this and Core.redirect can pass in either transition name or false\n      this.redirect(e.currentTarget.href, contextual, e.currentTarget);\n    }\n  }\n\n  /**\n   * Redirect to URL\n   *\n   * @param {string} href - URL\n   * @param {(object|boolean)} contextual - If the transition is changing on the fly\n   * @param {(object|string)} trigger - The trigger element or a string\n   */\n  redirect(href, contextual = false, trigger = 'script') {\n    // Save Trigger Element\n    this.trigger = trigger;\n\n    // When our URL is different from the current location `href` and no other\n    // navigation is running for the moment we are allowed to start a new one.\n    // But if the URL containes anchors or if the origin is different we force\n    // the hard reloading of the page to avoid serious errors.\n    if (!this.running && href !== this.location.href) {\n      // We temporary store the future location.\n      const location = this.Helpers.getLocation(href);\n\n      // Set contextual transition values if applicable\n      this.Contextual = false;\n\n      if (contextual) {\n        this.Contextual = this.Transitions['contextual'][contextual].prototype;\n        this.Contextual.name = contextual;\n      }\n\n      if (location.origin !== this.location.origin || location.anchor && location.pathname === this.location.pathname) {\n        // We redirect when origins are differents or when there is an anchor.\n        window.location.href = href;\n\n      } else {\n        this.location = location;\n\n        // Now all our conditions are passed we can update our location and do\n        // what we need to do before fetching it.\n        this.beforeFetch();\n\n      }\n    }\n  }\n\n  /**\n   * Watch history entry changes.\n   */\n  popState() {\n    // Save Trigger Element\n    this.trigger = 'popstate';\n\n    // A contextual transition only effects the transition when a certain link is clicked, not when navigating via browser buttons\n    this.Contextual = false;\n\n    // We temporary store the future location.\n    const location = this.Helpers.getLocation(window.location.href);\n\n    // When users navigate using the browser buttons we check if the locations\n    // have no anchors and that our locations are different.\n    if (this.location.pathname !== location.pathname || !this.location.anchor && !location.anchor) {\n      this.popping = true;\n      this.location = location;\n\n      // If everything is fine we can save our location and do what we need to\n      // do before fetching it.\n      this.beforeFetch();\n\n    } else {\n      // Update Location\n      this.location = location;\n\n    }\n  }\n\n  /**\n   * Update DOM on `click` event.\n   */\n  pushState() {\n    if (!this.popping) {\n      window.history.pushState(this.location, '', this.location.href);\n    }\n  }\n\n  /**\n   * Fetch the page from URL\n   *\n   * @return {string} Fetch response\n   */\n  async fetch() {\n    const response = await fetch(this.location.href, {\n      mode: 'same-origin',\n      method: 'GET',\n      headers: { 'X-Requested-With': 'Highway' },\n      credentials: 'same-origin'\n    });\n\n    // We have to checked if the fetch response is OK otherwise we have to force\n    // the hard reloading of the page because we might have an error.\n    if (response.status >= 200 && response.status < 300) {\n      return response.text();\n    }\n\n    window.location.href = this.location.href;\n  }\n\n  /**\n   * Do some tests before HTTP requests to optimize pipeline.\n   */\n  async beforeFetch() {\n    // Push State\n    this.pushState();\n\n    // We lock the navigation to avoid multiples clicks that could overload the\n    // navigation process meaning that if the a navigation is running the user\n    // cannot trigger a new one while the previous one is running.\n    this.running = true;\n\n    // We emit an event right before hiding the current view to create a hook\n    // for developers that want to do stuffs when an elligible link is clicked.\n    this.emit('NAVIGATE_OUT', {\n      from: {\n        page: this.From.properties.page,\n        view: this.From.properties.view\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // Transition Datas\n    const datas = {\n      trigger: this.trigger,\n      contextual: this.Contextual\n    };\n\n    // We have to verify our cache in order to save some HTTPRequests. If we\n    // don't use any caching system everytime we would come back to a page we\n    // already saw we will have to fetch it again and it's pointless.\n    if (this.cache.has(this.location.href)) {\n      // We wait until the view is hidden.\n      await this.From.hide(datas);\n\n      // Get Properties\n      this.properties = this.cache.get(this.location.href);\n\n    } else {\n      // We wait till all our Promises are resolved.\n      const results = await Promise.all([\n        this.fetch(),\n        this.From.hide(datas)\n      ]);\n\n      // Now everything went fine we can extract the properties of the view we\n      // successfully fetched and keep going.\n      this.properties = this.Helpers.getProperties(results[0]);\n\n      // We cache our result\n      // eslint-disable-next-line\n      this.cache.set(this.location.href, this.properties);\n\n    }\n\n    this.afterFetch();\n  }\n\n  /**\n   * Push page in DOM\n   */\n  async afterFetch() {\n    // We are calling the renderer attached to the view we just fetched and we\n    // are adding the [data-router-view] in our DOM.\n    const Renderer = await this.properties.renderer;\n\n    this.To = new Renderer(this.properties);\n    this.To.add();\n\n    // We then emit a now event right before the view is shown to create a hook\n    // for developers who want to make stuff before the view is visible.\n    this.emit('NAVIGATE_IN', {\n      to: {\n        page: this.To.properties.page,\n        view: this.To.wrap.lastElementChild\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // We wait for the view transition to be over before resetting some variables\n    // and reattaching the events to all the new elligible links in our DOM.\n    await this.To.show({\n      trigger: this.trigger,\n      contextual: this.Contextual\n    });\n\n    this.popping = false;\n    this.running = false;\n\n    // Detach Event on Links\n    this.detach(this.links);\n\n    // Get all elligible links.\n    this.links = document.querySelectorAll('a:not([target]):not([data-router-disabled])');\n\n    // Attach Event on Links\n    this.attach(this.links);\n\n    // Finally we emit a last event to create a hook for developers who want to\n    // make stuff when the navigation has ended.\n    this.emit('NAVIGATE_END', {\n      to: {\n        page: this.To.properties.page,\n        view: this.To.wrap.lastElementChild\n      },\n      from: {\n        page: this.From.properties.page,\n        view: this.From.properties.view\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // Last but not least we swap the From and To renderers for future navigations.\n    this.From = this.To;\n\n    // Reset Trigger\n    this.trigger = null;\n  }\n}\n","/**\n * @file Highway default transition that handle DOM animations.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nexport default class Transition {\n\n  /**\n   * @arg {object} wrap  [data-router-wrapper] node\n   * @arg {object} name  Transition name\n   * @constructor\n   */\n  constructor(wrap, name) {\n    // The [data-router-wrapper] is the only main information we need since the role of\n    // the transition is to show/hide the required DOM elements.\n    this.wrap = wrap;\n\n    // Save transition name for later.\n    this.name = name;\n  }\n\n  /**\n   * Add the view in DOM and play an `in` transition if one is defined.\n   *\n   * @return {object} Promise\n   * @param {object} datas - Set of datas\n   */\n  show({ trigger, contextual }) {\n    // Get View\n    const to = this.wrap.lastElementChild;\n    const from = this.wrap.firstElementChild;\n\n    // Promise\n    return new Promise(resolve => {\n      // The `in` method in encapsulated in the `show` method make transition\n      // code easier to write. This way you don't have to define any Promise\n      // in your transition code and focus on the transition itself.\n      if (!contextual) {\n        // Change Attributes\n        to.setAttribute('data-transition-in', this.name);\n        to.removeAttribute('data-transition-out', this.name);\n\n        // Call transition attached to the view.\n        this.in && this.in({ to, from, trigger, done: resolve });\n\n      } else {\n        // Change Attributes\n        to.setAttribute('data-transition-in', contextual.name);\n        to.removeAttribute('data-transition-out', contextual.name);\n\n        // Call the contextual transition.\n        contextual.in && contextual.in({ to, from, trigger, done: resolve });\n\n      }\n    });\n  }\n\n  /**\n   * Play an `out` transition if one is defined and remove the view from DOM.\n   *\n   * @return {object} Promise\n   * @param {object} datas - Set of datas\n   */\n  hide({ trigger, contextual }) {\n    // Get view\n    const from = this.wrap.firstElementChild;\n\n    // Promise\n    return new Promise(resolve => {\n      // The `out` method in encapsulated in the `hide` method make transition\n      // code easier to write. This way you don't have to define any Promise\n      // in your transition code and focus on the transition itself.\n      if (!contextual) {\n        // Change Attributes\n        from.setAttribute('data-transition-out', this.name);\n        from.removeAttribute('data-transition-in', this.name);\n\n        // Call the transition attached to the view.\n        this.out && this.out({ from, trigger, done: resolve });\n\n      } else {\n        // Change Attributes\n        from.setAttribute('data-transition-out', contextual.name);\n        from.removeAttribute('data-transition-in', contextual.name);\n\n        // Call the contextual transition.\n        contextual.out && contextual.out({ from, trigger, done: resolve });\n\n      }\n    });\n  }\n}\n","/**\n * @file Highway object containing all parts of the script.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nimport Core from './core';\nimport Helpers from './helpers';\nimport Renderer from './renderer';\nimport Transition from './transition';\n\n// Highway Version\nconsole.log('Highway v2.2.0');\n\n// Export Highway\nexport default {\n  Core,\n  Helpers,\n  Renderer,\n  Transition\n};\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","const events = {\r\n\r\n    INIT_DOMGL: 'init_DomGL',\r\n    INIT_DOMGL_PROJECTS: 'init_DOMGL_projects',\r\n    INIT_DOMGL_ABOUT: 'init_DOMGL_about',\r\n    QUADS_LOADED: 'quads_loaded',\r\n    SWAP_QUAD: 'swap_quad',\r\n    REVEAL_QUADS: 'reveal_quads',\r\n\r\n    PREPARE_UNMOUNT: 'prepare_unmount',\r\n    REMOVE_DOMGL: 'remove_DOMGL',\r\n    REMOVE_DOMGL_PROJECTS: 'remove_DOMGL_projects',\r\n    REMOVE_DOMGL_ABOUT: 'remove_DOMGL_about',\r\n    LOAD_PROJECT_CONTENT: 'load_Project_Content',\r\n\r\n    ENTER_SCROLL_MODE: 'enter_scroll_mode',\r\n    EXIT_SCROLL_MODE: 'exit_scroll_mode',\r\n    APPLY_SCROLL_MODE_ANIM: 'apply_scroll_mode_anim',\r\n    REMOVE_SCROLL_MODE_ANIM: 'remove_scroll_mode_anim',\r\n\r\n    MOUSE_DOWN: 'mouse_down',\r\n    MOUSE_MOVE: 'mouse_move',\r\n    MOUSE_UP: 'mouse_up',\r\n\r\n    SCROLLING: 'scrolling',\r\n\r\n    TOUCH_START: 'touch_start',\r\n    TOUCH_MOVE: 'touch_move',\r\n    TOUCH_END: 'touch_end',\r\n\r\n    UPDATE: 'update',\r\n    UPDATE_SCROLL_PHASE: 'update_scroll_phase',\r\n\r\n    HOVERING_LINK: 'hovering_link',\r\n    LEAVING_LINK: 'leaving_link',\r\n    \r\n    REPLACE_QUAD: 'replace_quad',\r\n\r\n    PLAY_VIDEO: 'play_video',\r\n    PAUSE_VIDEO: 'pause_video',\r\n\r\n    SHOW_CLICKDRAG_CTA: 'show_click-drag_cta',\r\n    HIDE_CLICKDRAG_CTA: 'hide_click-drag_cta',\r\n\r\n    CONTENT_LOADED: 'content_loaded',\r\n    UPDATE_PROGRESS: 'update_progress',\r\n    LOADING_ANIM_COMPLETED: 'loading_anim_completed',\r\n    \r\n    RESIZE: 'resize'\r\n\r\n}\r\n\r\nexport default events;","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.2.6\n * https://greensock.com\n *\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-\\+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+(?:\\.|e-|e)*\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_parenthesesExp = /\\(([^()]+)\\)/i,\n    //finds the string between parentheses.\n_relExp = /[+-]=-?[\\.\\d]+/,\n    _delimitedValueExp = /[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n\n  if (!_isObject(target) && !_isFunction(target)) {\n    targets = [targets];\n  }\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property) {\n  var currentValue = target[property];\n  return _isFunction(currentValue) ? target[property]() : _isUndefined(currentValue) && target.getAttribute(property) || currentValue;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _parseVars = function _parseVars(params, type, parent) {\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars;\n\n  if (isLegacy) {\n    vars.duration = params[1];\n  }\n\n  vars.parent = parent;\n\n  if (type) {\n    irVars = vars;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n\n    if (type < 2) {\n      vars.runBackwards = 1;\n    } else {\n      vars.startAt = params[varsIndex - 1]; // \"from\" vars\n    }\n  }\n\n  return vars;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n\n    if (tween && tween._lazy) {\n      tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0;\n    }\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  if (_lazyTweens.length) {\n    _lazyRender();\n  }\n\n  animation.render(time, suppressEvents, force);\n\n  if (_lazyTweens.length) {\n    //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n    _lazyRender();\n  }\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj) && p !== \"duration\" && p !== \"ease\") {\n      obj[p] = defaults[p];\n    }\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    if (!(p in excluding)) {\n      copy[p] = obj[p];\n    }\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  if (child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren)) {\n    child.parent.remove(child);\n  }\n\n  child._act = 0;\n},\n    _uncache = function _uncache(animation) {\n  var a = animation;\n\n  while (a) {\n    a._dirty = 1;\n    a = a.parent;\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round(position + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  timeline._recent = child;\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween._zTime < 0 ? 0 : 1,\n      ratio = totalTime < 0 ? 0 : 1,\n      repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    //in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n\n      if (tween.vars.repeatRefresh && tween._initted) {\n        tween.invalidate();\n      }\n    }\n  }\n\n  if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n    //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n    return;\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    tween.ratio = ratio;\n\n    if (tween._from) {\n      ratio = 1 - ratio;\n    }\n\n    tween._time = 0;\n    tween._tTime = tTime;\n    suppressEvents || _callback(tween, \"onStart\");\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    if (!ratio && tween._startAt && !tween._onUpdate && tween._start) {\n      //if the tween is positioned at the VERY beginning (_start 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n      tween._startAt.render(totalTime, true, force);\n    }\n\n    tween._onUpdate && (suppressEvents || _callback(tween, \"onUpdate\"));\n\n    if (tTime && tween._repeat && !suppressEvents && tween.parent) {\n      _callback(tween, \"onRepeat\");\n    }\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      tween.ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, tween.ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0;\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e12 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n\n  if (animation._time > dur) {\n    animation._time = dur;\n    animation._tTime = Math.min(animation._tTime, animation._tDur);\n  }\n\n  !skipUncache && _uncache(animation.parent);\n  animation.parent && _setEnd(animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    i = position.charAt(0);\n\n    if (i === \"<\" || i === \">\") {\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\n    }\n\n    i = position.indexOf(\"=\");\n\n    if (i < 0) {\n      if (!(position in labels)) {\n        labels[position] = clippedDuration;\n      }\n\n      return labels[position];\n    }\n\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  return (value + \"\").substr((parseFloat(value) + \"\").length);\n},\n    clamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = ~~(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n\n        if (d > max) {\n          max = d;\n        }\n\n        if (d < min) {\n          min = d;\n        }\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    return ~~(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && ~~(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + (value - inMin) / inRange * outRange;\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  if (animation.progress() < 1) {\n    _callback(animation, \"onInterrupt\");\n  }\n\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  if (config.register) {\n    config.register(gsap, Plugin, PropTween);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length === 4) {\n        //for shorthand like #9F0\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b;\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n\n        if (a.length > 3) {\n          a[3] *= 1; //cast as number\n        }\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch;\n\n    if (elapsed > _lagThreshold) {\n      _startTime += elapsed - _adjustedLag;\n    }\n\n    _lastUpdate += elapsed;\n    _self.time = (_lastUpdate - _startTime) / 1000;\n    overlap = _self.time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      _self.frame++;\n      _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    if (!manual) {\n      //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n      _id = _req(_tick);\n    }\n\n    if (dispatch) {\n      _listeners.forEach(function (l) {\n        return l(_self.time, elapsed, _self.frame, v);\n      });\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, (_nextTime - _self.time) * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1 / (_fps || 240);\n      _nextTime = _self.time + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1);\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _parenthesesExp.exec(name)[1].split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // potential future feature - allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos. Not sure it's worth the kb.\n// _propagateYoyoEase = (timeline, isYoyo) => {\n// \tlet child = timeline._first, ease;\n// \twhile (child) {\n// \t\tif (child instanceof Timeline) {\n// \t\t\t_propagateYoyoEase(child, isYoyo);\n// \t\t} else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n// \t\t\tif (child.timeline) {\n// \t\t\t\t_propagateYoyoEase(child.timeline, isYoyo);\n// \t\t\t} else {\n// \t\t\t\tease = child._ease;\n// \t\t\t\tchild._ease = child._yEase;\n// \t\t\t\tchild._yEase = ease;\n// \t\t\t\tchild._yoyo = isYoyo;\n// \t\t\t}\n// \t\t}\n// \t\tchild = child._next;\n// \t}\n// },\n_parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation =\n/*#__PURE__*/\nfunction () {\n  function Animation(vars, time) {\n    var parent = vars.parent || _globalTimeline;\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat || 0) {\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n    parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);\n    vars.reversed && this.reverse();\n    vars.paused && this.paused(true);\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this.parent || this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      // if (!parent._dp && parent._time === parent._dur) { // if a root timeline completes...and then a while later one of its children resumes, we must shoot the playhead forward to where it should be raw-wise, otherwise the child will jump to the end. Down side: this assumes it's using the _ticker.time as a reference.\n      // \tparent._time = _ticker.time - parent._start;\n      // }\n      this._start = _round(parent._time - (this._ts > 0 ? _totalTime / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - _totalTime) / -this._ts));\n\n      _setEnd(this);\n\n      if (!parent._dirty) {\n        //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n        _uncache(parent);\n      } //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum) {\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n\n      _lazySafeRender(this, _totalTime, suppressEvents);\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  };\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(0, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detatched parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  } // globalTime(rawTime) {\n  // \tlet animation = this,\n  // \t\ttime = arguments.length ? rawTime : animation.rawTime();\n  // \twhile (animation) {\n  // \t\ttime = animation._start + time / (animation._ts || 1);\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn time;\n  // }\n  ;\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from, suppressEvents);\n    }\n\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from || this.totalDuration(), suppressEvents);\n    }\n\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    if (atTime != null) {\n      this.seek(atTime, suppressEvents);\n    }\n\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      if (!!value !== this.reversed()) {\n        this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n      }\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive(hasStarted) {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && (this._initted || !hasStarted) && parent.isActive(hasStarted) && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n\n        if (params) {\n          vars[type + \"Params\"] = params;\n        }\n\n        if (type === \"onUpdate\") {\n          this._onUpdate = callback;\n        }\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline =\n/*#__PURE__*/\nfunction (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, time) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars, time) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        if (!dur) {\n          prevTime = this._zTime;\n        }\n\n        if (totalTime || !suppressEvents) {\n          //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n          this._zTime = totalTime;\n        }\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n\n          if (iteration < prevIteration) {\n            rewinding = !rewinding;\n          }\n\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime, suppressEvents, !dur)._lock = 0;\n\n          if (!suppressEvents && this.parent) {\n            _callback(this, \"onRepeat\");\n          }\n\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\n            return this;\n          }\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur + 0.0001 : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n          //_propagateYoyoEase(this, isYoyo);\n\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      if (this._onUpdate && !suppressEvents) {\n        _callback(this, \"onUpdate\", true);\n      }\n\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && this._ts < 0) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    if (!_isNumber(position)) {\n      position = _parsePosition(this, position);\n    }\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return _uncache(this);\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          if (tweens) {\n            a.push(child);\n          }\n        } else {\n          if (timelines) {\n            a.push(child);\n          }\n\n          if (nested) {\n            a.push.apply(a, child.getChildren(true, tweens, timelines));\n          }\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this.parent && !this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (!onlyActive || child.isActive(onlyActive === \"started\"))) {\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        tween = Tween.to(tl, _setDefaults(vars, {\n      ease: \"none\",\n      lazy: false,\n      time: endTime,\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n        var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());\n\n        if (tween._dur !== duration) {\n          _setDuration(tween, duration).render(tween._time, true, true);\n        }\n\n        if (_onStart) {\n          //in case the user had an onStart in the vars - we don't want to overwrite it.\n          _onStart.apply(tween, onStartParams || []);\n        }\n      }\n    }));\n\n    return tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._time = this._tTime = 0;\n\n    if (includeLabels) {\n      this.labels = {};\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        end,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        if (child._dirty) {\n          child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n        }\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e20);\n          prevStart = 0;\n        }\n\n        end = _setEnd(child);\n\n        if (end > max && child._ts) {\n          max = end;\n        }\n\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : Math.min(_bigNum, max), 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        if (!child) {\n          _ticker.sleep();\n        }\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  if (_isFunction(end)) {\n    end = end(index || 0, target, targets);\n  }\n\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart + end)) {\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n\n      if (funcParam) {\n        pt.fp = funcParam;\n      }\n\n      if (modifier) {\n        pt.modifier(modifier, this, target);\n      }\n\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  if (_isFunction(vars)) {\n    vars = _parseFuncOrString(vars, tween, index, target, targets);\n  }\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\",\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars;\n\n  if (tl && (!keyframes || !ease)) {\n    ease = \"none\";\n  }\n\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    if (prevStartAt) {\n      prevStartAt.render(-1, true).kill();\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      if (immediateRender) {\n        if (time > 0) {\n          !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        } else if (dur) {\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        if (time) {\n          //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n          immediateRender = false;\n        }\n\n        _removeFromParent(tween._startAt = Tween.set(targets, _merge(_copyExcluding(vars, _reservedProps), {\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        })));\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    tween._pt = 0;\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n\n      if (_lazyLookup[gsData.id]) {\n        _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      }\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        if (plugin.priority) {\n          hasPriority = 1;\n        }\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            if (plugin.priority) {\n              hasPriority = 1;\n            }\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      if (tween._op && tween._op[i]) {\n        tween.kill(target, tween._op[i]);\n      }\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, \"started\"); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        _overwritingTween = 0;\n      }\n\n      if (tween._pt && lazy) {\n        _lazyLookup[gsData.id] = 1;\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(tween);\n    }\n\n    if (tween._onInit) {\n      //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n      tween._onInit(tween);\n    }\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  tween._onUpdate = onUpdate;\n  tween._initted = 1;\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween =\n/*#__PURE__*/\nfunction (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, time, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      time.duration = vars;\n      vars = time;\n      time = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        parent = _this3.parent,\n        parsedTargets = (_isArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = _assertThisInitialized(_this3);\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              if (!staggerVarsToMerge) {\n                staggerVarsToMerge = {};\n              }\n\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n\n          if (staggerVarsToMerge) {\n            _merge(copy, staggerVarsToMerge);\n          }\n\n          if (vars.yoyoEase && !vars.repeat) {\n            //so that propagation works properly when a ancestor timeline yoyos\n            copy.yoyoEase = vars.yoyoEase;\n          }\n\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        duration = delay = 0;\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    parent && _postAddChecks(parent, _assertThisInitialized(_this3));\n\n    if (immediateRender || !duration && !keyframes && _this3._start === parent._time && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          //timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo);\n          //repeatRefresh functionality\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(cycleDuration * iteration, true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        if (totalTime < 0 && this._startAt) {\n          this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        }\n\n        _callback(this, \"onUpdate\");\n      }\n\n      if (this._repeat) if (iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent) {\n        _callback(this, \"onRepeat\");\n      }\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        if (totalTime < 0 && this._startAt && !this._onUpdate) {\n          this._startAt.render(totalTime, true, force);\n        }\n\n        (totalTime || !dur) && (totalTime && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && !(tTime < tDur && this.timeScale() > 0)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = 0;\n\n      if (this.parent) {\n        return _interrupt(this);\n      }\n    }\n\n    if (this.timeline) {\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true);\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    if (this._initted && !this._pt && firstPT) {\n      //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n      _interrupt(this);\n    }\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return new Tween(targets, _parseVars(arguments, 1));\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return new Tween(targets, _parseVars(arguments, 2));\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property) {\n      pt.modifier(modifier, tween, target);\n    }\n\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween =\n/*#__PURE__*/\nfunction () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    if (_isString(target)) {\n      //in case selector text or an array is passed in\n      target = toArray(target)[0];\n    }\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    if (unit === \"native\") {\n      unit = \"\";\n    }\n\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, property);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, property, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    if (value && value.ease) {\n      value.ease = _parseEase(value.ease, _defaults.ease);\n    }\n\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref) {\n    var name = _ref.name,\n        effect = _ref.effect,\n        plugins = _ref.plugins,\n        defaults = _ref.defaults,\n        extendTimeline = _ref.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    for (var p in vars) {\n      this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p); //this.add(target, \"setAttribute\", (target.getAttribute((p in target.dataset ? (p = \"data-\" + p) : p)) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.2.6\";\n_coreReady = 1;\n\nif (_windowExists()) {\n  _wake();\n}\n\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","/*!\n * CSSPlugin 3.2.6\n * https://greensock.com\n *\n * Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists()) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _checkPropPrefix(_transformOriginProp);\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if (toPercent && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    //transforms and borderRadius are relative to the size of the element itself!\n    return _round(curValue / (isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty]) * amount);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n\n  if (!_pluginInitted) {\n    _initCore();\n  }\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  if (_relExp.test(end)) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n\n    if (temp) {\n      style.display = temp;\n    } else {\n      _removeProperty(target, \"display\");\n    }\n\n    if (addedToDOM) {\n      if (nextSibling) {\n        parent.insertBefore(target, nextSibling);\n      } else if (parent) {\n        parent.appendChild(target);\n      } else {\n        _docElement.removeChild(target);\n      }\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = !cache.uncache && target.getAttribute(\"data-svg-origin\");\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      matrix = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      matrix && target.setAttribute(\"transform\", matrix);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;\n  cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n\n  if (forceCSS) {\n    //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n    target.style[_transformProp] = temp;\n  }\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var style = _tempDivStyler.style,\n      startCache = target._gsap,\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\n\n  style[_transformProp] = transforms;\n\n  _doc.body.appendChild(_tempDivStyler);\n\n  endCache = _parseTransform(_tempDivStyler, 1);\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _doc.body.removeChild(_tempDivStyler);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n\n    if (!_pluginInitted) {\n      _initCore();\n    }\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        //plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        if (specialProp(this, target, p, endValue, tween)) {\n          hasPriority = 1;\n        }\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        this.add(style, \"setProperty\", getComputedStyle(target).getPropertyValue(p) + \"\", endValue + \"\", index, targets, 0, 0, p);\n      } else {\n        startValue = _get(target, p);\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n\n            if (~p.indexOf(\",\")) {\n              p = p.split(\",\")[0];\n            }\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform || _parseTransform(target); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              if (endUnit !== cache.zOrigin) {\n                _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n              }\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = (endValue + \"\").substr((endNum + \"\").length) || (p in _config.units ? _config.units[p] : startUnit);\n\n          if (startUnit !== endUnit) {\n            startNum = _convertToUnit(target, p, startValue, endUnit);\n          }\n\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === \"px\" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(this);\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","const Emitter = require('tiny-emitter');\r\nimport events from '../utils/events';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nclass EventEmitter {\r\n\r\n    constructor() {\r\n\r\n        this.emitter = new Emitter();\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        window.addEventListener('mousedown', this.onMouseDown, {\r\n            passive: true\r\n        });\r\n        window.addEventListener('mousemove', this.onMouseMove, {\r\n            passive: true\r\n        });\r\n        window.addEventListener('mouseup', this.onMouseUp, {\r\n            passive: true\r\n        });\r\n        window.addEventListener('wheel', this.onScroll, {\r\n            passive: false\r\n        });\r\n        window.addEventListener('resize', this.onResize);\r\n        gsap.ticker.add(this.tick);\r\n\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        \r\n        this.emitter.emit(events.MOUSE_DOWN, e, false);\r\n\r\n    }\r\n\r\n    onMouseMove = (e) => {\r\n\r\n        this.emitter.emit(events.MOUSE_MOVE, e, false);\r\n\r\n    }\r\n\r\n    onMouseUp = () => {\r\n\r\n        this.emitter.emit(events.MOUSE_UP, false);\r\n\r\n    }\r\n\r\n    onScroll = (e) => {\r\n\r\n        this.emitter.emit(events.SCROLLING, e, false);\r\n\r\n    }   \r\n\r\n    tick = () => {\r\n\r\n        this.emitter.emit(events.UPDATE)\r\n\r\n    }\r\n\r\n    onResize = () => {\r\n\r\n        this.emitter.emit(events.RESIZE, {\r\n            passive: true\r\n        }, false);\r\n\r\n    }\r\n\r\n}\r\n\r\nconst eventEmitter = new EventEmitter();\r\nexport default eventEmitter;","import Highway from \"@dogstudio/highway\";\r\n\r\nimport eventEmitter from '../EventEmitter';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events';\r\n\r\nexport default class View extends Highway.Renderer {\r\n    \r\n    onEnter() {\r\n        this.el = this.wrap.lastElementChild;\r\n    }\r\n\r\n    onLeave() {}\r\n\r\n    onEnterCompleted() {\r\n        // document.readyState === 'complete'\r\n        // ? this.initOnComplete()\r\n        // : listener(window, 'a', 'load', () =>  {\r\n            \r\n        //     console.log('loaded');\r\n        \r\n        //     this.initOnComplete()\r\n        \r\n        // })\r\n    }\r\n\r\n    onLeaveCompleted() {}\r\n\r\n    initDomGL({view, params}) {\r\n        \r\n        emitter.emit(events.INIT_DOMGL, {view, params});\r\n\r\n    }\r\n}","import projectVideos from '../Assets/video/*.mp4'\r\n\r\nexport const ProjectContent = [\r\n\r\n    {\r\n        title: 'Spiritual Beings',\r\n        type: 'Experiment',\r\n        description: 'Beings flocking in a peaceful purgatory',\r\n        tech: 'WebGL(THREE.js) / GLSL / GPGPU',\r\n        year: 2019,\r\n        link: 'https://douglilliequist.github.io/SpiritualBeings/',\r\n        media: {\r\n            videoSrc: projectVideos.spiritualBeings512512,\r\n            imageSrc: null,\r\n            brightVal: 1.0\r\n        }\r\n    },\r\n\r\n    {\r\n        title: 'Memory Phase',\r\n        type: 'Experiment',\r\n        description: 'Evanescent AR voxels',\r\n        tech: 'Unity3D / ARFoundation + ARKit / GPGPU',\r\n        year: 2019,\r\n        link: '',\r\n        media: {\r\n            videoSrc: projectVideos.sken512512,\r\n            imageSrc: null,\r\n            brightVal: 0.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Crashing Dawn',\r\n        type: 'Experiment',\r\n        description: 'Shaded particles with noise sampled curl noise',\r\n        tech: 'WebGL(THREE.js) / GPGPU',\r\n        year: 2020,\r\n        link: 'https://douglilliequist.github.io/CrashingDawn/',\r\n        media: {\r\n            videoSrc: projectVideos.crashingdawn512512,\r\n            imageSrc: null,\r\n            brightVal: 1.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Let\\'s Get Physical',\r\n        type: 'Client Project',\r\n        description: 'Interactive + floor projected lines',\r\n        tech: 'Unity3D / Custom GPGPU ribbons / In-house Blob Detection by Yipp Interactive',\r\n        year: 2019,\r\n        role: 'Developer',\r\n        link: 'https://yipp.nl/projects/61-lets_get_physical/',\r\n        media: {\r\n            videoSrc: projectVideos.letsgetphysical512512,\r\n            imageSrc: null,\r\n            brightVal: 0.0\r\n        }\r\n    },\r\n    {\r\n        title: 'SKEN',\r\n        type: 'Experiment',\r\n        description: 'Flocking Ribbons',\r\n        tech: 'WebGL(THREE.js) / GLSL / GPGPU',\r\n        year: 2018,\r\n        link: 'https://douglilliequist.github.io/SKEN/',\r\n        media: {\r\n            videoSrc: projectVideos.sken512512,\r\n            imageSrc: null, \r\n            brightVal: 0.0\r\n        }\r\n    },\r\n    {\r\n        title: 'Need a hand?',\r\n        type: 'Experiment',\r\n        description: 'Interactive, displacing mesh',\r\n        tech: 'WebGL(THREE.js) / GLSL /Computed triangles from mesh data',\r\n        year: 2018,\r\n        link: 'https://douglilliequist.github.io/needAHand/',\r\n        media: {\r\n            videoSrc: projectVideos.needahand512512,\r\n            imageSrc: null,\r\n            brightVal: 1.0\r\n        }\r\n    },\r\n    {\r\n        title: 'Good Night Sweet Heart',\r\n        type: 'Hyper Island Project',\r\n        description: 'Art Puzzle Installation',\r\n        tech: 'Arduino / Processing / Resolume',\r\n        year: 2015,\r\n        role: 'Developer, Designer',\r\n        link: '',\r\n        media: {\r\n            videoSrc:  projectVideos.gnsw512512,\r\n            imageSrc: null,\r\n            brightVal: 0.0\r\n        }\r\n    },\r\n\r\n]","import img from '../Assets/img/*.png';\r\n\r\nexport const AboutContent = [\r\n\r\n    {\r\n        title: \"Hi!\",\r\n        introText: \"Im Swedish Creative Technologist at Adventure Club in Helsinki. I want to use my skills to create surreal and interactive experiences that in some way, makes one dream or feel inspired in some way! As well as be able to manifest my ideas and dream while awake.\",\r\n        contactHeader: \"Feel free to reach me on...\",\r\n        contactMethods: [\r\n            {\r\n                type: \"mail\",\r\n                url: \"mailto:douglas@adventureclub.io\"\r\n            },\r\n            {\r\n                type: \"twitter\",\r\n                url: \"https://twitter.com/DougLilliequist\"\r\n            },\r\n            {\r\n                type: \"instagram\",\r\n                url: \"https://www.instagram.com/dlilliequist/\"\r\n            },\r\n            {\r\n                type: \"linkedIn\",\r\n                url: \"https://www.linkedin.com/in/douglas-lilliequist-a2798b110/\"\r\n            }\r\n        ],\r\n        media: {\r\n            videoSrc: null,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n    }\r\n\r\n]","import {ProjectContent} from './Assets/ProjectContent.js';\r\nimport {AboutContent} from './Assets/AboutContent.js';\r\n\r\nimport eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events.js';\r\n\r\nclass ContentManager {\r\n\r\n    constructor() {\r\n\r\n        this.contentCount = this.getFetchCount({viewContent:\r\n        [ProjectContent, AboutContent]\r\n        });\r\n\r\n        this.progressCounter = 0;\r\n\r\n        this.progress = 0;\r\n\r\n\r\n    }\r\n\r\n    initContent() {\r\n\r\n        this.projects = this.loadViewContent({content: ProjectContent});\r\n        this.about = this.loadViewContent({content: AboutContent});\r\n\r\n    }\r\n\r\n    loadViewContent({content}) {\r\n\r\n        return content.map((c) => {\r\n\r\n            if(c.media.videoSrc) {\r\n\r\n                    this.loadVideo({src: c.media.videoSrc}).then((video) => {\r\n                        c.media.video = video;\r\n                        this.updateProgress();\r\n                    });\r\n            }\r\n\r\n            if(c.media.imageSrc) {\r\n\r\n\r\n                this.loadImage({src: c.media.imageSrc}).then((image) => {\r\n                    c.media.image = image;\r\n                    this.updateProgress();\r\n                });\r\n\r\n            }\r\n\r\n            return c;\r\n\r\n        });\r\n\r\n    }\r\n\r\n    loadVideo({src}) {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n            fetch(src).then((res) => {\r\n\r\n                const video = document.createElement('video');\r\n\r\n                video.addEventListener('loadeddata', () => {\r\n                    if(video.readyState >= video.HAVE_CURRENT_DATA) {\r\n                        video.pause();\r\n                        resolve(video);\r\n                    }\r\n                });\r\n        \r\n                video.width = 512;\r\n                \r\n                video.height = 512;\r\n                \r\n                video.crossOrigin = \"*\";\r\n\r\n                video.setAttribute('webkit-playsinline', true);\r\n                \r\n                video.playsinline = true;\r\n                \r\n                video.muted = true;\r\n                \r\n                video.loop = true;\r\n                    \r\n                video.src = res.url;\r\n\r\n                video.play();\r\n\r\n            });\r\n            \r\n        });\r\n    \r\n    }\r\n\r\n    loadImage({src}) {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n            fetch(src).then((res) => {\r\n\r\n                const img = new Image();\r\n        \r\n                img.crossOrigin = \"*\";\r\n                \r\n                img.addEventListener('load' , () => {\r\n                    resolve(img)\r\n                });\r\n    \r\n                img.src = res.url;\r\n\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n    updateProgress() {\r\n        \r\n        this.progressCounter++;\r\n        this.progress = this.progressCounter / this.contentCount;\r\n        emitter.emit(events.UPDATE_PROGRESS, this.progress);\r\n        if(this.progress === 1.0) {\r\n            window.contentLoaded = true;\r\n            emitter.emit(events.CONTENT_LOADED);\r\n        }\r\n\r\n    }\r\n\r\n    getFetchCount({viewContent}) {\r\n\r\n        let count = 0;\r\n\r\n        viewContent.map((content) => {\r\n\r\n            content.map((c) => {\r\n\r\n                if(c.media.videoSrc) {\r\n                    count++;\r\n                }\r\n    \r\n                if(c.media.imageSrc) {\r\n                    count++;\r\n                }\r\n    \r\n            });\r\n\r\n        })\r\n\r\n        return count;\r\n\r\n    }\r\n\r\n    get Projects() {\r\n        return this.projects;\r\n    }\r\n\r\n    get ProjectMedia() {\r\n        return this.projects.map((project) => {\r\n            return project.media;\r\n        });\r\n    }\r\n\r\n    get About() {\r\n        return this.about\r\n    }\r\n\r\n    get AboutMedia() {\r\n        return this.about.map((about) => {\r\n            return about.media;\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst contentManager = new ContentManager();\r\nexport default contentManager;","import View from \"../View.js\";\r\nimport contentManager from '../../ContentManager';\r\n\r\nimport eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\n\r\nexport default class Work extends View {\r\n\r\n  onEnter() {\r\n  \r\n    super.onEnter();\r\n    this.initReferences();\r\n    this.initEvents();\r\n\r\n    if(window.contentLoaded) {\r\n      this.initDomGL();\r\n    }\r\n\r\n  }\r\n\r\n  onEnterCompleted() {\r\n    super.onEnterCompleted();\r\n\r\n    if(window.contentLoaded) {\r\n      emitter.emit(events.SHOW_CLICKDRAG_CTA);\r\n      this.playEnterAnim();\r\n    }\r\n\r\n  }\r\n\r\n  onLeave() {\r\n    super.onLeave();\r\n    emitter.emit(events.HIDE_CLICKDRAG_CTA);\r\n    this.removeEvents();\r\n    this.playLeaveAnim();\r\n  }\r\n\r\n  onLeaveCompleted() {\r\n    super.onLeaveCompleted();\r\n    emitter.emit(events.REMOVE_DOMGL);\r\n  }\r\n\r\n  initReferences() {\r\n\r\n    this.domGLReferenceElement = this.el.querySelector('.project-video');\r\n    this.projectTitle = this.el.querySelector('.title-container__title');\r\n    this.projectContentInfo = this.el.querySelectorAll('.project-info');\r\n    this.projectLink = this.el.querySelector(\".project-link\");\r\n\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    this.enableUserInteraction = true;\r\n    this.inScrollMode = false;\r\n    this.inTraverseMode = false;\r\n    \r\n    emitter.on(events.CONTENT_LOADED,this.initDomGL);\r\n    emitter.on(events.LOADING_ANIM_COMPLETED, () => { //RENAME FUNCTION\r\n      this.playEnterAnim();\r\n      emitter.emit(events.SHOW_CLICKDRAG_CTA);\r\n    });\r\n    \r\n    emitter.on(events.LOAD_PROJECT_CONTENT, this.populateContent);\r\n    emitter.on(events.MOUSE_DOWN, this.enableScrollMode);\r\n    emitter.on(events.MOUSE_UP, this.disableScrollMode);\r\n\r\n    this.projectLink.addEventListener('mouseenter', () => {\r\n      this.updateLinkHoverState({hovering: true});\r\n    });\r\n    this.projectLink.addEventListener('mouseleave', () => {\r\n      this.updateLinkHoverState({hovering: false});\r\n    });\r\n  \r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    this.enableUserInteraction = false;\r\n\r\n    emitter.off(events.CONTENT_LOADED, this.initDomGL);\r\n    emitter.off(events.LOADING_ANIM_COMPLETED, this.playEnterAnim);\r\n    emitter.off(events.LOAD_PROJECT_CONTENT, this.populateContent);\r\n    emitter.off(events.MOUSE_DOWN, this.enableScrollMode);\r\n    emitter.off(events.MOUSE_UP, this.disableScrollMode);\r\n    \r\n    this.projectLink.removeEventListener('mouseenter', () => {\r\n      this.updateLinkHoverState({hovering: true});\r\n    });\r\n    this.projectLink.removeEventListener('mouseleave', () => {\r\n      this.updateLinkHoverState({hovering: false});\r\n    });\r\n\r\n  }\r\n\r\n  initDomGL = () => {\r\n\r\n    const params = {\r\n      referenceElement: this.domGLReferenceElement,\r\n      media: contentManager.ProjectMedia, \r\n      getFirstQuad: true\r\n    }\r\n\r\n    super.initDomGL({view: \"PROJECTS\", params});\r\n\r\n  }\r\n\r\n  populateContent = (contentIndex) => {\r\n\r\n    const projectContent = contentManager.Projects[contentIndex];\r\n    document.getElementById('project_title').innerHTML = projectContent.title;\r\n    document.getElementById('project_type').innerHTML = projectContent.type;\r\n    document.getElementById('project_year').innerHTML = projectContent.year;\r\n    document.getElementById('project_description').innerHTML = projectContent.description;\r\n    document.getElementById('project_tech').innerHTML = projectContent.tech;\r\n\r\n    const link = document.getElementById('project_link');\r\n    link.innerHTML = projectContent.link === '' ? '' : \"view project\";\r\n    link.href = projectContent.link;\r\n\r\n  }\r\n\r\n  enableScrollMode = () => {\r\n\r\n    if(window.hoveringLink) return;\r\n    document.querySelector('.project-container').classList.add('project-container--scrolling');\r\n    this.inScrollMode = true;\r\n    this.enableUserInteraction = false;\r\n    emitter.emit(events.ENTER_SCROLL_MODE);\r\n    this.animateProjectContent();\r\n\r\n  }\r\n\r\n  disableScrollMode = () => {\r\n\r\n    if(window.hoveringLink) return;\r\n    document.querySelector('.project-container').classList.remove('project-container--scrolling');\r\n    this.inScrollMode = false;\r\n    this.enableUserInteraction = true;\r\n    emitter.emit(events.EXIT_SCROLL_MODE);\r\n    this.animateProjectContent();\r\n\r\n  }\r\n\r\n  playEnterAnim = () => {\r\n\r\n    this.killActiveAnimations();\r\n\r\n    this.enterAnim = gsap.timeline({\r\n      onStart: () => {\r\n        emitter.emit(events.REVEAL_QUADS);\r\n      }\r\n    });\r\n\r\n    const ease = \"sine.inOut\";\r\n    const startX = 20;\r\n    const dur = 0.85\r\n\r\n    this.enterAnim.fromTo(this.projectTitle, {\r\n      opacity: 0.01,\r\n      y: -startX,\r\n    }, {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      ease: ease\r\n    }, \"<\");\r\n\r\n    this.enterAnim.fromTo(this.projectContentInfo, {\r\n\r\n      opacity: 0.01,\r\n      y: startX\r\n\r\n    }, {\r\n\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      stagger: 0.05,\r\n      // ease: ease\r\n\r\n    // }, \"<0.3\");\r\n    }, \"<0.05\");\r\n\r\n    this.enterAnim.fromTo(this.projectLink, {\r\n      opacity: 0.01,\r\n      y: startX\r\n    },\r\n    {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      ease: ease\r\n    }, \"<0.01\");\r\n\r\n  }\r\n\r\n  playLeaveAnim = () => {\r\n\r\n\r\n    this.killActiveAnimations();\r\n\r\n    //not including this to kill animation function\r\n    //As we don't want this animation to be killable\r\n    this.leaveAnim = gsap.timeline();\r\n\r\n    const ease = \"sine.inOut\";\r\n    const dur = 0.75;\r\n    const targetX = -20;\r\n\r\n    this.leaveAnim.to(this.projectTitle, {\r\n      opacity: 0.01,\r\n      duration: dur,\r\n      ease: ease\r\n    });\r\n\r\n    this.leaveAnim.to(this.projectContentInfo, {\r\n\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      stagger: -0.05,\r\n      ease: ease\r\n    }, \"<0.01\");\r\n\r\n    this.leaveAnim.to(this.projectLink,\r\n    {\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      ease: ease\r\n    }, \"<0.01\");\r\n\r\n  }\r\n\r\n  animateProjectContent() {\r\n\r\n\r\n    this.killActiveAnimations();\r\n    this.scrollAnim = gsap.timeline({});\r\n\r\n    const scrolling = this.inScrollMode;\r\n    const pow =  \"power1.out\";\r\n\r\n    this.scrollAnim.fromTo(this.projectTitle, {\r\n      y: scrolling ? 0 : -10\r\n    },\r\n    {\r\n      duration: scrolling ? 0.1 : 0.75,\r\n      y: 0,\r\n      opacity: scrolling ? 0.01 : 0.99,\r\n      ease: pow\r\n    }, \"<\");\r\n    this.scrollAnim.to(this.projectContentInfo, {\r\n      opacity: scrolling ? 0.01 : 0.99,\r\n      duration: scrolling ? 0.1 : 1.0,\r\n      stagger: scrolling ? 0.0 : 0.1,\r\n    }, scrolling ? \"<\" : \"<0.05\")\r\n    this.scrollAnim.to(this.projectLink,\r\n    {\r\n      duration: scrolling ? 0.1 : 0.5,\r\n      opacity: scrolling ? 0.01 : 0.99,\r\n      ease: pow\r\n    }, scrolling ? \"<\" : \"<0.05\");\r\n\r\n  }\r\n\r\n  updateLinkHoverState({hovering}) {\r\n\r\n    if(this.inScrollMode === false) {\r\n      if(hovering) {\r\n        emitter.emit(events.HOVERING_LINK)\r\n        window.hoveringLink = hovering;\r\n      } else {\r\n        emitter.emit(events.LEAVING_LINK)\r\n        window.hoveringLink = false;\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  killActiveAnimations() {\r\n\r\n    if(this.enterAnim) this.enterAnim.kill();\r\n    if(this.scrollAnim) this.scrollAnim.kill();\r\n\r\n  }\r\n\r\n}\r\n","import View from \"../View.js\";\r\n\r\nimport contentManager from '../../ContentManager.js';\r\n\r\nimport eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nexport default class About extends View {\r\n  onEnter() {\r\n    super.onEnter();\r\n    this.initReferences();\r\n    this.initEvents();\r\n    if(window.contentLoaded) {\r\n      this.populateContent();\r\n      this.initDomGL();\r\n    }\r\n\r\n  }\r\n  onEnterCompleted() {\r\n    super.onEnterCompleted();\r\n\r\n    if(window.contentLoaded) {\r\n      this.playEnterAnim();\r\n    }\r\n  }\r\n\r\n  onLeave() {\r\n    super.onLeave();\r\n    this.playLeaveAnim();\r\n  }\r\n\r\n  onLeaveCompleted() {\r\n    super.onLeaveCompleted();\r\n    emitter.emit(events.REMOVE_DOMGL);\r\n  }\r\n\r\n  initOnComplete() {\r\n    super.initOnComplete();\r\n  }\r\n\r\n  initReferences() {\r\n\r\n    this.domGLReferenceElement = this.el.querySelector('.portrait-container__portrait');\r\n    this.header = document.querySelector('.about-copy__intro__header');\r\n    this.introText = document.querySelector('.about-copy__intro__body-text');\r\n    this.contactHeader = document.querySelector('.contact-container__header');\r\n    this.links = document.querySelectorAll('.contact-container__methods__wrapper');\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    emitter.on(events.CONTENT_LOADED, this.initDomGL);\r\n\r\n    emitter.on(events.LOADING_ANIM_COMPLETED, () => {\r\n      this.populateContent();\r\n      this.playEnterAnim();\r\n    });\r\n\r\n    this.links.forEach((link) => {\r\n\r\n      link.addEventListener('mouseenter', this.onLinkHover);\r\n      link.addEventListener('mouseleave', this.onLinkLeave);\r\n\r\n    });\r\n\r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    this.links.forEach((link) => {\r\n\r\n      link.removeEventListener('mouseenter', this.onLinkHover);\r\n      link.removeEventListener('mouseleave', this.onLinkLeave);\r\n\r\n    });\r\n\r\n    emitter.off(events.LOADING_ANIM_COMPLETED, () => {\r\n      this.populateContent();\r\n      this.initDomGL();\r\n      this.playEnterAnim();\r\n    });\r\n\r\n  }\r\n\r\n  initDomGL = () => {\r\n\r\n    const params = {\r\n      referenceElement: this.domGLReferenceElement, \r\n      media: contentManager.AboutMedia[0]\r\n    }\r\n\r\n    super.initDomGL({view: \"ABOUT\", params});\r\n\r\n  }\r\n\r\n  populateContent() {\r\n\r\n    const aboutContent = contentManager.About[0];\r\n    this.header.innerHTML = aboutContent.title;\r\n    this.introText.innerHTML = aboutContent.introText;\r\n    this.contactHeader.innerHTML = aboutContent.contactHeader;\r\n    this.links.forEach((link, i) => {\r\n\r\n      const anchor = link.getElementsByTagName('a')[0];\r\n      anchor.innerHTML = aboutContent.contactMethods[i].type;\r\n      anchor.href = aboutContent.contactMethods[i].url;\r\n\r\n    });\r\n\r\n  }\r\n\r\n  onLinkHover = () => {\r\n\r\n    emitter.emit(events.HOVERING_LINK);\r\n\r\n  }\r\n\r\n  onLinkLeave = () => {\r\n\r\n    emitter.emit(events.LEAVING_LINK);\r\n\r\n  }\r\n\r\n  playEnterAnim() {\r\n\r\n    const dur = 0.85;\r\n    const startY = -10;\r\n    const ease = \"linear\";\r\n\r\n    const enterAnim = gsap.timeline(\r\n      {\r\n      onStart: () => {\r\n        emitter.emit(events.REVEAL_QUADS);\r\n      },\r\n      onComplete: () => {\r\n        this.links.forEach((link) => {\r\n          link.children[0].classList.add('link--enabled');\r\n        });\r\n      }\r\n    });\r\n\r\n    enterAnim.fromTo(this.header, {\r\n      opacity: 0.01,\r\n      y: startY\r\n    }, {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      // ease: ease\r\n    }, \"<0.1\");\r\n\r\n    enterAnim.fromTo(this.introText, {\r\n      opacity: 0.01,\r\n      y: startY\r\n    }, {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      // ease: ease\r\n    }, \"<0.1\");\r\n\r\n    enterAnim.fromTo(this.contactHeader, {\r\n      opacity: 0.01,\r\n      y: startY\r\n    }, {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      // ease: ease\r\n    }, \"<0.1\");\r\n\r\n    enterAnim.fromTo(this.links, {\r\n      opacity: 0.01,\r\n      y: startY\r\n    }, {\r\n      duration: dur,\r\n      opacity: 0.99,\r\n      y: 0,\r\n      stagger: 0.1,\r\n      // ease: ease\r\n    }, \"<0.1\");\r\n\r\n  }\r\n\r\n  playLeaveAnim() {\r\n\r\n    const dur = 0.5;\r\n    const ease = \"sine.in\";\r\n\r\n    const leaveAnim = gsap.timeline({\r\n\r\n      onComplete: () => {\r\n        this.links.forEach((link) => {\r\n          link.children[0].classList.remove('link--enabled');\r\n        });\r\n      }\r\n\r\n    });\r\n\r\n    leaveAnim.to(this.links, {\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      stagger: -0.05,\r\n      ease: ease\r\n    }, \"<\");\r\n\r\n    leaveAnim.to(this.contactHeader, {\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      ease: ease\r\n    }, \"<0.05\");\r\n\r\n    leaveAnim.to(this.introText, {\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      ease: ease\r\n    }, \"<0.05\");\r\n\r\n    leaveAnim.to(this.header, {\r\n      duration: dur,\r\n      opacity: 0.01,\r\n      ease: ease\r\n    }, \"<0.05\");\r\n\r\n  }\r\n\r\n}\r\n","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\r\nexport function set(out, x, y, z) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    out[2] = a[2] * b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    out[2] = a[2] / b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    out[2] = 1.0 / a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let len = x * x + y * y + z * z;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    out[2] = a[2] * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n}\r\n\r\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function cross(out, a, b) {\r\n    let ax = a[0], ay = a[1], az = a[2];\r\n    let bx = b[0], by = b[1], bz = b[2];\r\n\r\n    out[0] = ay * bz - az * by;\r\n    out[1] = az * bx - ax * bz;\r\n    out[2] = ax * by - ay * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec3} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0], y = a[1], z = a[2];\r\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n    w = w || 1.0;\r\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\r\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\r\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    let x = a[0], y = a[1], z = a[2];\r\n    out[0] = x * m[0] + y * m[3] + z * m[6];\r\n    out[1] = x * m[1] + y * m[4] + z * m[7];\r\n    out[2] = x * m[2] + y * m[5] + z * m[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a quat\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformQuat(out, a, q) {\r\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\r\n\r\n    let x = a[0], y = a[1], z = a[2];\r\n    let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\r\n\r\n    let uvx = qy * z - qz * y;\r\n    let uvy = qz * x - qx * z;\r\n    let uvz = qx * y - qy * x;\r\n    \r\n    let uuvx = qy * uvz - qz * uvy;\r\n    let uuvy = qz * uvx - qx * uvz;\r\n    let uuvz = qx * uvy - qy * uvx;\r\n    \r\n    let w2 = qw * 2;\r\n    uvx *= w2;\r\n    uvy *= w2;\r\n    uvz *= w2;\r\n    \r\n    uuvx *= 2;\r\n    uuvy *= 2;\r\n    uuvz *= 2;\r\n    \r\n    out[0] = x + uvx + uuvx;\r\n    out[1] = y + uvy + uuvy;\r\n    out[2] = z + uvz + uuvz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\r\nexport const angle = (function() {\r\n    const tempA = [0, 0, 0];\r\n    const tempB = [0, 0, 0];\r\n\r\n    return function(a, b) {\r\n        copy(tempA, a);\r\n        copy(tempB, b);\r\n\r\n        normalize(tempA, tempA);\r\n        normalize(tempB, tempB);\r\n\r\n        let cosine = dot(tempA, tempB);\r\n\r\n        if (cosine > 1.0) {\r\n            return 0;\r\n        }\r\n        else if (cosine < -1.0) {\r\n            return Math.PI;\r\n        } else {\r\n            return Math.acos(cosine);\r\n        }\r\n    };\r\n})();\r\n\r\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\r\n}","import * as Vec3Func from './functions/Vec3Func.js';\r\n\r\nexport class Vec3 extends Array {\r\n    constructor(x = 0, y = x, z = x) {\r\n        super(x, y, z);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec3Func.set(this, x, y, z);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec3Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec3Func.add(this, va, vb);\r\n        else Vec3Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec3Func.subtract(this, va, vb);\r\n        else Vec3Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec3Func.multiply(this, this, v);\r\n        else Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec3Func.divide(this, this, v);\r\n        else Vec3Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec3Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec3Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec3Func.distance(this, v);\r\n        else return Vec3Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return Vec3Func.squaredLength(this);\r\n    }\r\n    \r\n    squaredDistance(v) {\r\n        if (v) return Vec3Func.squaredDistance(this, v);\r\n        else return Vec3Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec3Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if (vb) Vec3Func.cross(this, va, vb);\r\n        else Vec3Func.cross(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    scale(v) {\r\n        Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec3Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec3Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec3Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec3Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    applyQuaternion(q) {\r\n        Vec3Func.transformQuat(this, this, q);\r\n        return this;\r\n    }\r\n\r\n    angle(v) {\r\n        return Vec3Func.angle(this, v);\r\n    }\r\n\r\n    lerp(v, t) {\r\n        Vec3Func.lerp(this, this, v, t);\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new Vec3(this[0], this[1], this[2]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n\t\tthis[0] = a[o];\r\n\t\tthis[1] = a[o + 1];\r\n\t\tthis[2] = a[o + 2];\r\n\t\treturn this;\r\n    }\r\n\r\n\ttoArray(a = [], o = 0) {\r\n\t\ta[o] = this[0];\r\n\t\ta[o + 1] = this[1];\r\n\t\ta[o + 2] = this[2];\r\n\t\treturn a;\r\n\t}\r\n    \r\n    transformDirection(mat4) {\r\n        const x = this[0];\r\n        const y = this[1];\r\n        const z = this[2];\r\n\r\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\r\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\r\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\r\n        \r\n        return this.normalize();\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\r\nexport function set(out, x, y, z, w) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    out[3] = w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n}\r\n\r\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    let len = x * x + y * y + z * z + w * w;\r\n    if (len > 0) {\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = x * len;\r\n    out[1] = y * len;\r\n    out[2] = z * len;\r\n    out[3] = w * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec4} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    let aw = a[3];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    out[3] = aw + t * (b[3] - aw);\r\n    return out;\r\n}","import * as vec4 from './Vec4Func.js';\r\n\r\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 0;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\r\nexport function setAxisAngle(out, axis, rad) {\r\n    rad = rad * 0.5;\r\n    let s = Math.sin(rad);\r\n    out[0] = s * axis[0];\r\n    out[1] = s * axis[1];\r\n    out[2] = s * axis[2];\r\n    out[3] = Math.cos(rad);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two quats\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\r\n    let bx = b[0], by = b[1], bz = b[2], bw = b[3];\r\n\r\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\r\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\r\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\r\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateX(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\r\n    let bx = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + aw * bx;\r\n    out[1] = ay * bw + az * bx;\r\n    out[2] = az * bw - ay * bx;\r\n    out[3] = aw * bw - ax * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateY(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\r\n    let by = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw - az * by;\r\n    out[1] = ay * bw + aw * by;\r\n    out[2] = az * bw + ax * by;\r\n    out[3] = aw * bw - ay * by;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateZ(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\r\n    let bz = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + ay * bz;\r\n    out[1] = ay * bw - ax * bz;\r\n    out[2] = az * bw + aw * bz;\r\n    out[3] = aw * bw - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n */\r\nexport function slerp(out, a, b, t) {\r\n    // benchmarks:\r\n    //    http://jsperf.com/quaternion-slerp-implementations\r\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\r\n    let bx = b[0], by = b[1], bz = b[2], bw = b[3];\r\n\r\n    let omega, cosom, sinom, scale0, scale1;\r\n\r\n    // calc cosine\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    // adjust signs (if necessary)\r\n    if (cosom < 0.0) {\r\n        cosom = -cosom;\r\n        bx = -bx;\r\n        by = -by;\r\n        bz = -bz;\r\n        bw = -bw;\r\n    }\r\n    // calculate coefficients\r\n    if ((1.0 - cosom) > 0.000001) {\r\n        // standard case (slerp)\r\n        omega = Math.acos(cosom);\r\n        sinom = Math.sin(omega);\r\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n        scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n        // \"from\" and \"to\" quaternions are very close\r\n        //  ... so we can do a linear interpolation\r\n        scale0 = 1.0 - t;\r\n        scale1 = t;\r\n    }\r\n    // calculate final values\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\r\nexport function invert(out, a) {\r\n    let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\r\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\r\n    let invDot = dot ? 1.0 / dot : 0;\r\n\r\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\r\n\r\n    out[0] = -a0 * invDot;\r\n    out[1] = -a1 * invDot;\r\n    out[2] = -a2 * invDot;\r\n    out[3] = a3 * invDot;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\r\nexport function conjugate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromMat3(out, m) {\r\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\r\n    // article \"Quaternion Calculus and Fast Animation\".\r\n    let fTrace = m[0] + m[4] + m[8];\r\n    let fRoot;\r\n\r\n    if (fTrace > 0.0) {\r\n        // |w| > 1/2, may as well choose w > 1/2\r\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\r\n        out[3] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot;  // 1/(4w)\r\n        out[0] = (m[5] - m[7]) * fRoot;\r\n        out[1] = (m[6] - m[2]) * fRoot;\r\n        out[2] = (m[1] - m[3]) * fRoot;\r\n    } else {\r\n        // |w| <= 1/2\r\n        let i = 0;\r\n        if (m[4] > m[0])\r\n            i = 1;\r\n        if (m[8] > m[i * 3 + i])\r\n            i = 2;\r\n        let j = (i + 1) % 3;\r\n        let k = (i + 2) % 3;\r\n\r\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\r\n        out[i] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot;\r\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\r\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\r\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} euler Angles to rotate around each axis in degrees.\r\n * @param {String} order detailing order of operations. Default 'XYZ'.\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromEuler(out, euler, order = 'YXZ') {\r\n    let sx = Math.sin(euler[0] * 0.5);\r\n    let cx = Math.cos(euler[0] * 0.5);\r\n    let sy = Math.sin(euler[1] * 0.5);\r\n    let cy = Math.cos(euler[1] * 0.5);\r\n    let sz = Math.sin(euler[2] * 0.5);\r\n    let cz = Math.cos(euler[2] * 0.5);\r\n\r\n    if (order === 'XYZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'YXZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'ZXY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'ZYX') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'YZX') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'XZY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const copy = vec4.copy;\r\n\r\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const set = vec4.set;\r\n\r\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const add = vec4.add;\r\n\r\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const scale = vec4.scale;\r\n\r\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\r\nexport const dot = vec4.dot;\r\n\r\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const lerp = vec4.lerp;\r\n\r\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport const length = vec4.length;\r\n\r\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const normalize = vec4.normalize;","import * as QuatFunc from './functions/QuatFunc.js';\r\n\r\nexport class Quat extends Array {\r\n    constructor(x = 0, y = 0, z = 0, w = 1) {\r\n        super(x, y, z, w);\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    get w() {\r\n        return this[3];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set w(v) {\r\n        this[3] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    identity() {\r\n        QuatFunc.identity(this);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    set(x, y, z, w) {\r\n        if (x.length) return this.copy(x);\r\n        QuatFunc.set(this, x, y, z, w);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateX(a) {\r\n        QuatFunc.rotateX(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateY(a) {\r\n        QuatFunc.rotateY(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateZ(a) {\r\n        QuatFunc.rotateZ(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    inverse(q = this) {\r\n        QuatFunc.invert(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    conjugate(q = this) {\r\n        QuatFunc.conjugate(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(q) {\r\n        QuatFunc.copy(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    normalize(q = this) {\r\n        QuatFunc.normalize(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    multiply(qA, qB) {\r\n        if (qB) {\r\n            QuatFunc.multiply(this, qA, qB);\r\n        } else {\r\n            QuatFunc.multiply(this, this, qA);\r\n        }\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return QuatFunc.dot(this, v);\r\n    }\r\n\r\n    fromMatrix3(matrix3) {\r\n        QuatFunc.fromMat3(this, matrix3);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromEuler(euler) {\r\n        QuatFunc.fromEuler(this, euler, euler.order);\r\n        return this;\r\n    }\r\n\r\n    fromAxisAngle(axis, a) {\r\n        QuatFunc.setAxisAngle(this, axis, a);\r\n        return this;\r\n    }\r\n\r\n    slerp(q, t) {\r\n        QuatFunc.slerp(this, this, q, t);\r\n        return this;\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n\t\tthis[0] = a[o];\r\n\t\tthis[1] = a[o + 1];\r\n\t\tthis[2] = a[o + 2];\r\n\t\tthis[3] = a[o + 3];\r\n\t\treturn this;\r\n    }\r\n    \r\n\ttoArray(a = [], o = 0) {\r\n\t\ta[o] = this[0];\r\n\t\ta[o + 1] = this[1];\r\n\t\ta[o + 2] = this[2];\r\n\t\ta[o + 3] = this[3];\r\n\t\treturn a;\r\n\t}\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    out[9] = a[9];\r\n    out[10] = a[10];\r\n    out[11] = a[11];\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m03;\r\n    out[4] = m10;\r\n    out[5] = m11;\r\n    out[6] = m12;\r\n    out[7] = m13;\r\n    out[8] = m20;\r\n    out[9] = m21;\r\n    out[10] = m22;\r\n    out[11] = m23;\r\n    out[12] = m30;\r\n    out[13] = m31;\r\n    out[14] = m32;\r\n    out[15] = m33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = 1;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 1;\r\n    out[11] = 0;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1], a02 = a[2], a03 = a[3];\r\n        let a12 = a[6], a13 = a[7];\r\n        let a23 = a[11];\r\n\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a01;\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a02;\r\n        out[9] = a12;\r\n        out[11] = a[14];\r\n        out[12] = a03;\r\n        out[13] = a13;\r\n        out[14] = a23;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a[1];\r\n        out[5] = a[5];\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a[2];\r\n        out[9] = a[6];\r\n        out[10] = a[10];\r\n        out[11] = a[14];\r\n        out[12] = a[3];\r\n        out[13] = a[7];\r\n        out[14] = a[11];\r\n        out[15] = a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\r\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\r\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\r\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\r\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\r\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\r\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n}\r\n\r\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\r\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\r\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\r\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\r\n\r\n    // Cache only the current line of the second matrix\r\n    let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\r\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\r\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\r\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\r\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let x = v[0], y = v[1], z = v[2];\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n\r\n    if (a === out) {\r\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\r\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\r\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\r\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\r\n    } else {\r\n        a00 = a[0];\r\n        a01 = a[1];\r\n        a02 = a[2];\r\n        a03 = a[3];\r\n        a10 = a[4];\r\n        a11 = a[5];\r\n        a12 = a[6];\r\n        a13 = a[7];\r\n        a20 = a[8];\r\n        a21 = a[9];\r\n        a22 = a[10];\r\n        a23 = a[11];\r\n\r\n        out[0] = a00;\r\n        out[1] = a01;\r\n        out[2] = a02;\r\n        out[3] = a03;\r\n        out[4] = a10;\r\n        out[5] = a11;\r\n        out[6] = a12;\r\n        out[7] = a13;\r\n        out[8] = a20;\r\n        out[9] = a21;\r\n        out[10] = a22;\r\n        out[11] = a23;\r\n\r\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\r\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\r\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\r\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0], y = v[1], z = v[2];\r\n\r\n    out[0] = a[0] * x;\r\n    out[1] = a[1] * x;\r\n    out[2] = a[2] * x;\r\n    out[3] = a[3] * x;\r\n    out[4] = a[4] * y;\r\n    out[5] = a[5] * y;\r\n    out[6] = a[6] * y;\r\n    out[7] = a[7] * y;\r\n    out[8] = a[8] * z;\r\n    out[9] = a[9] * z;\r\n    out[10] = a[10] * z;\r\n    out[11] = a[11] * z;\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\r\nexport function rotate(out, a, rad, axis) {\r\n    let x = axis[0], y = axis[1], z = axis[2];\r\n    let len = Math.hypot(x,y,z);\r\n    let s, c, t;\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n    let b00, b01, b02;\r\n    let b10, b11, b12;\r\n    let b20, b21, b22;\r\n\r\n    if (Math.abs(len) < EPSILON) {\r\n        return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    s = Math.sin(rad);\r\n    c = Math.cos(rad);\r\n    t = 1 - c;\r\n\r\n    a00 = a[0];\r\n    a01 = a[1];\r\n    a02 = a[2];\r\n    a03 = a[3];\r\n    a10 = a[4];\r\n    a11 = a[5];\r\n    a12 = a[6];\r\n    a13 = a[7];\r\n    a20 = a[8];\r\n    a21 = a[9];\r\n    a22 = a[10];\r\n    a23 = a[11];\r\n\r\n    // Construct the elements of the rotation matrix\r\n    b00 = x * x * t + c;\r\n    b01 = y * x * t + z * s;\r\n    b02 = z * x * t - y * s;\r\n    b10 = x * y * t - z * s;\r\n    b11 = y * y * t + c;\r\n    b12 = z * y * t + x * s;\r\n    b20 = x * z * t + y * s;\r\n    b21 = y * z * t - x * s;\r\n    b22 = z * z * t + c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\r\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\r\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\r\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\r\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\r\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\r\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\r\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\r\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\r\n\r\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\r\n        out[12] = a[12];\r\n        out[13] = a[13];\r\n        out[14] = a[14];\r\n        out[15] = a[15];\r\n    }\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getTranslation(out, mat) {\r\n    out[0] = mat[12];\r\n    out[1] = mat[13];\r\n    out[2] = mat[14];\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getScaling(out, mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    out[0] = Math.hypot(m11, m12, m13);\r\n    out[1] = Math.hypot(m21, m22, m23);\r\n    out[2] = Math.hypot(m31, m32, m33);\r\n\r\n    return out;\r\n}\r\n\r\nexport function getMaxScaleOnAxis(mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\r\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\r\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\r\n\r\n    return Math.sqrt(Math.max(x, y, z));\r\n}\r\n\r\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\r\nexport const getRotation = (function() {\r\n    const temp = [0, 0, 0];\r\n\r\n    return function(out, mat) {\r\n        let scaling = temp;\r\n        getScaling(scaling, mat);\r\n    \r\n        let is1 = 1 / scaling[0];\r\n        let is2 = 1 / scaling[1];\r\n        let is3 = 1 / scaling[2];\r\n    \r\n        let sm11 = mat[0] * is1;\r\n        let sm12 = mat[1] * is2;\r\n        let sm13 = mat[2] * is3;\r\n        let sm21 = mat[4] * is1;\r\n        let sm22 = mat[5] * is2;\r\n        let sm23 = mat[6] * is3;\r\n        let sm31 = mat[8] * is1;\r\n        let sm32 = mat[9] * is2;\r\n        let sm33 = mat[10] * is3;\r\n    \r\n        let trace = sm11 + sm22 + sm33;\r\n        let S = 0;\r\n    \r\n        if (trace > 0) {\r\n            S = Math.sqrt(trace + 1.0) * 2;\r\n            out[3] = 0.25 * S;\r\n            out[0] = (sm23 - sm32) / S;\r\n            out[1] = (sm31 - sm13) / S;\r\n            out[2] = (sm12 - sm21) / S;\r\n        } else if ((sm11 > sm22) && (sm11 > sm33)) {\r\n            S = Math.sqrt(1.0 + sm11 - sm22- sm33) * 2;\r\n            out[3] = (sm23 - sm32) / S;\r\n            out[0] = 0.25 * S;\r\n            out[1] = (sm12 + sm21) / S;\r\n            out[2] = (sm31 + sm13) / S;\r\n        } else if (sm22 > sm33) {\r\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\r\n            out[3] = (sm31 - sm13) / S;\r\n            out[0] = (sm12 + sm21) / S;\r\n            out[1] = 0.25 * S;\r\n            out[2] = (sm23 + sm32) / S;\r\n        } else {\r\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\r\n            out[3] = (sm12 - sm21) / S;\r\n            out[0] = (sm31 + sm13) / S;\r\n            out[1] = (sm23 + sm32) / S;\r\n            out[2] = 0.25 * S;\r\n        }\r\n    \r\n        return out;\r\n    }\r\n})();\r\n\r\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\r\nexport function fromRotationTranslationScale(out, q, v, s) {\r\n    // Quaternion math\r\n    let x = q[0], y = q[1], z = q[2], w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n    let sx = s[0];\r\n    let sy = s[1];\r\n    let sz = s[2];\r\n\r\n    out[0] = (1 - (yy + zz)) * sx;\r\n    out[1] = (xy + wz) * sx;\r\n    out[2] = (xz - wy) * sx;\r\n    out[3] = 0;\r\n    out[4] = (xy - wz) * sy;\r\n    out[5] = (1 - (xx + zz)) * sy;\r\n    out[6] = (yz + wx) * sy;\r\n    out[7] = 0;\r\n    out[8] = (xz + wy) * sz;\r\n    out[9] = (yz - wx) * sz;\r\n    out[10] = (1 - (xx + yy)) * sz;\r\n    out[11] = 0;\r\n    out[12] = v[0];\r\n    out[13] = v[1];\r\n    out[14] = v[2];\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0], y = q[1], z = q[2], w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[1] = yx + wz;\r\n    out[2] = zx - wy;\r\n    out[3] = 0;\r\n\r\n    out[4] = yx - wz;\r\n    out[5] = 1 - xx - zz;\r\n    out[6] = zy + wx;\r\n    out[7] = 0;\r\n\r\n    out[8] = zx + wy;\r\n    out[9] = zy - wx;\r\n    out[10] = 1 - xx - yy;\r\n    out[11] = 0;\r\n\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a perspective projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function perspective(out, fovy, aspect, near, far) {\r\n    let f = 1.0 / Math.tan(fovy / 2);\r\n    let nf = 1 / (near - far);\r\n    out[0] = f / aspect;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = f;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = (far + near) * nf;\r\n    out[11] = -1;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = (2 * far * near) * nf;\r\n    out[15] = 0;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function ortho(out, left, right, bottom, top, near, far) {\r\n    let lr = 1 / (left - right);\r\n    let bt = 1 / (bottom - top);\r\n    let nf = 1 / (near - far);\r\n    out[0] = -2 * lr;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = -2 * bt;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 2 * nf;\r\n    out[11] = 0;\r\n    out[12] = (left + right) * lr;\r\n    out[13] = (top + bottom) * bt;\r\n    out[14] = (far + near) * nf;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} target Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\r\nexport function targetTo(out, eye, target, up) {\r\n    let eyex = eye[0],\r\n        eyey = eye[1],\r\n        eyez = eye[2],\r\n        upx = up[0],\r\n        upy = up[1],\r\n        upz = up[2];\r\n\r\n    let z0 = eyex - target[0],\r\n        z1 = eyey - target[1],\r\n        z2 = eyez - target[2];\r\n\r\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\r\n    if (len === 0) {\r\n        // eye and target are in the same position\r\n        z2 = 1;\r\n    }\r\n    else {\r\n        len = 1 / Math.sqrt(len);\r\n        z0 *= len;\r\n        z1 *= len;\r\n        z2 *= len;\r\n    }\r\n\r\n    let x0 = upy * z2 - upz * z1,\r\n        x1 = upz * z0 - upx * z2,\r\n        x2 = upx * z1 - upy * z0;\r\n\r\n    len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    if (len === 0) {\r\n        // up and z are parallel\r\n        if (upz) {\r\n            upx += 1e-6;\r\n        } else if(upy) {\r\n            upz += 1e-6;\r\n        } else {\r\n            upy += 1e-6;\r\n        }\r\n        x0 = upy * z2 - upz * z1,\r\n        x1 = upz * z0 - upx * z2,\r\n        x2 = upx * z1 - upy * z0;\r\n        \r\n        len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    }\r\n\r\n    len = 1 / Math.sqrt(len);\r\n    x0 *= len;\r\n    x1 *= len;\r\n    x2 *= len;\r\n\r\n    out[0] = x0;\r\n    out[1] = x1;\r\n    out[2] = x2;\r\n    out[3] = 0;\r\n    out[4] = z1 * x2 - z2 * x1;\r\n    out[5] = z2 * x0 - z0 * x2;\r\n    out[6] = z0 * x1 - z1 * x0;\r\n    out[7] = 0;\r\n    out[8] = z0;\r\n    out[9] = z1;\r\n    out[10] = z2;\r\n    out[11] = 0;\r\n    out[12] = eyex;\r\n    out[13] = eyey;\r\n    out[14] = eyez;\r\n    out[15] = 1;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    out[9] = a[9] + b[9];\r\n    out[10] = a[10] + b[10];\r\n    out[11] = a[11] + b[11];\r\n    out[12] = a[12] + b[12];\r\n    out[13] = a[13] + b[13];\r\n    out[14] = a[14] + b[14];\r\n    out[15] = a[15] + b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    out[9] = a[9] - b[9];\r\n    out[10] = a[10] - b[10];\r\n    out[11] = a[11] - b[11];\r\n    out[12] = a[12] - b[12];\r\n    out[13] = a[13] - b[13];\r\n    out[14] = a[14] - b[14];\r\n    out[15] = a[15] - b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    out[9] = a[9] * b;\r\n    out[10] = a[10] * b;\r\n    out[11] = a[11] * b;\r\n    out[12] = a[12] * b;\r\n    out[13] = a[13] * b;\r\n    out[14] = a[14] * b;\r\n    out[15] = a[15] * b;\r\n    return out;\r\n}","import * as Mat4Func from './functions/Mat4Func.js';\r\n\r\nexport class Mat4 extends Array {\r\n    constructor(\r\n        m00 = 1, m01 = 0, m02 = 0, m03 = 0,\r\n        m10 = 0, m11 = 1, m12 = 0, m13 = 0,\r\n        m20 = 0, m21 = 0, m22 = 1, m23 = 0,\r\n        m30 = 0, m31 = 0, m32 = 0, m33 = 1\r\n    ) {\r\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n\r\n    get x() {\r\n        return this[12];\r\n    }\r\n\r\n    get y() {\r\n        return this[13];\r\n    }\r\n\r\n    get z() {\r\n        return this[14];\r\n    }\r\n\r\n    get w() {\r\n        return this[15];\r\n    }\r\n\r\n    set x(v) {\r\n        this[12] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[13] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[14] = v;\r\n    }\r\n\r\n    set w(v) {\r\n        this[15] = v;\r\n    }\r\n\r\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat4Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, axis, m = this) {\r\n        Mat4Func.rotate(this, m, v, axis);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat4Func.scale(this, m, typeof v === \"number\" ? [v, v, v] : v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat4Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat4Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat4Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat4Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromPerspective({ fov, aspect, near, far } = {}) {\r\n        Mat4Func.perspective(this, fov, aspect, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\r\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat4Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    setPosition(v) {\r\n        this.x = v[0];\r\n        this.y = v[1];\r\n        this.z = v[2];\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat4Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    compose(q, pos, scale) {\r\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\r\n        return this;\r\n    }\r\n\r\n    getRotation(q) {\r\n        Mat4Func.getRotation(q, this);\r\n        return this;\r\n    }\r\n\r\n    getTranslation(pos) {\r\n        Mat4Func.getTranslation(pos, this);\r\n        return this;\r\n    }\r\n\r\n    getScaling(scale) {\r\n        Mat4Func.getScaling(scale, this);\r\n        return this;\r\n    }\r\n\r\n    getMaxScaleOnAxis() {\r\n        return Mat4Func.getMaxScaleOnAxis(this);\r\n    }\r\n\r\n    lookAt(eye, target, up) {\r\n        Mat4Func.targetTo(this, eye, target, up);\r\n        return this;\r\n    }\r\n\r\n    determinant() {\r\n        return Mat4Func.determinant(this);\r\n    }\r\n}\r\n","\r\n// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\r\n\r\n    if (order === 'XYZ') {\r\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\r\n        if (Math.abs(m[8]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'YXZ') {\r\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\r\n        if (Math.abs(m[9]) < 0.99999) {\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n            out[2] = Math.atan2(m[1], m[5]);\r\n        } else {\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'ZXY') {\r\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\r\n        if (Math.abs(m[6]) < 0.99999) {\r\n            out[1] = Math.atan2(-m[2], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        } else {\r\n            out[1] = 0;\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        }\r\n    } else if (order === 'ZYX') {\r\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\r\n        if (Math.abs(m[2]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[10]);\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        }\r\n    } else if (order === 'YZX') {\r\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\r\n        if (Math.abs(m[1]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[5]);\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n        }\r\n    } else if (order === 'XZY') {\r\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\r\n        if (Math.abs(m[4]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[1] = Math.atan2(m[8], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[1] = 0;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n","import * as EulerFunc from './functions/EulerFunc.js';\r\nimport {Mat4} from './Mat4.js';\r\n\r\nconst tmpMat4 = new Mat4();\r\n\r\nexport class Euler extends Array {\r\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\r\n        super(x, y, z);\r\n        this.order = order;\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        this[0] = x;\r\n        this[1] = y;\r\n        this[2] = z;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        this[0] = v[0];\r\n        this[1] = v[1];\r\n        this[2] = v[2];\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    reorder(order) {\r\n        this.order = order;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromRotationMatrix(m, order = this.order) {\r\n        EulerFunc.fromRotationMatrix(this, m, order);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q, order = this.order) {\r\n        tmpMat4.fromQuaternion(q);\r\n        return this.fromRotationMatrix(tmpMat4, order);\r\n    }\r\n}","import {Vec3} from '../math/Vec3.js';\r\nimport {Quat} from '../math/Quat.js';\r\nimport {Mat4} from '../math/Mat4.js';\r\nimport {Euler} from '../math/Euler.js';\r\n\r\nexport class Transform {\r\n    constructor() {\r\n        this.parent = null;\r\n        this.children = [];\r\n        this.visible = true;\r\n\r\n        this.matrix = new Mat4();\r\n        this.worldMatrix = new Mat4();\r\n        this.matrixAutoUpdate = true;\r\n\r\n        this.position = new Vec3();\r\n        this.quaternion = new Quat();\r\n        this.scale = new Vec3(1);\r\n        this.rotation = new Euler();\r\n        this.up = new Vec3(0, 1, 0);\r\n\r\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\r\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    setParent(parent, notifyParent = true) {\r\n        if (notifyParent && this.parent && parent !== this.parent) this.parent.removeChild(this, false);\r\n        this.parent = parent;\r\n        if (notifyParent && parent) parent.addChild(this, false);\r\n    }\r\n\r\n    addChild(child, notifyChild = true) {\r\n        if (!~this.children.indexOf(child)) this.children.push(child);\r\n        if (notifyChild) child.setParent(this, false);\r\n    }\r\n\r\n    removeChild(child, notifyChild = true) {\r\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\r\n        if (notifyChild) child.setParent(null, false);\r\n    }\r\n\r\n    updateMatrixWorld(force) {\r\n        if (this.matrixAutoUpdate) this.updateMatrix();\r\n        if (this.worldMatrixNeedsUpdate || force) {\r\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\r\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\r\n            this.worldMatrixNeedsUpdate = false;\r\n            force = true;\r\n        }\r\n\r\n        for (let i = 0, l = this.children.length; i < l; i ++) {\r\n            this.children[i].updateMatrixWorld(force);\r\n        }\r\n    }\r\n\r\n    updateMatrix() {\r\n        this.matrix.compose(this.quaternion, this.position, this.scale);\r\n        this.worldMatrixNeedsUpdate = true;\r\n    }\r\n\r\n    traverse(callback) {\r\n\r\n        // Return true in callback to stop traversing children\r\n        if (callback(this)) return;\r\n        for (let i = 0, l = this.children.length; i < l; i ++) {\r\n            this.children[i].traverse(callback);\r\n        }\r\n    }\r\n\r\n    decompose() {\r\n        this.matrix.getTranslation(this.position);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.matrix.getScaling(this.scale);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    lookAt(target, invert = false) {\r\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\r\n        else this.matrix.lookAt(target, this.position, this.up);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    };\r\n}","import {Vec3} from '../math/Vec3.js';\r\n\r\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\r\n\r\n// Not automatic - devs to use these methods manually\r\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n// gl.clearColor( r, g, b, a );\r\n// gl.stencilMask( stencilMask );\r\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\r\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\r\n// gl.clearStencil( stencil );\r\n\r\nconst tempVec3 = new Vec3();\r\n\r\nexport class Renderer {\r\n    constructor({\r\n        canvas = document.createElement('canvas'),\r\n        width = 300,\r\n        height = 150,\r\n        dpr = 1,\r\n        alpha = false,\r\n        depth = true,\r\n        stencil = false,\r\n        antialias = false,\r\n        premultipliedAlpha = false,\r\n        preserveDrawingBuffer = false,\r\n        powerPreference = 'default',\r\n        autoClear = true,\r\n        webgl = 2,\r\n    } = {}) {\r\n        const attributes = {alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference};\r\n        this.dpr = dpr;\r\n        this.alpha = alpha;\r\n        this.color = true;\r\n        this.depth = depth;\r\n        this.stencil = stencil;\r\n        this.premultipliedAlpha = premultipliedAlpha;\r\n        this.autoClear = autoClear;\r\n\r\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\r\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\r\n        this.isWebgl2 = !!this.gl;\r\n        if (!this.gl) {\r\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\r\n        }\r\n\r\n        // Attach renderer to gl so that all classes have access to internal state functions\r\n        this.gl.renderer = this;\r\n\r\n        // initialise size values\r\n        this.setSize(width, height);\r\n\r\n        // gl state stores to avoid redundant calls on methods used internally\r\n        this.state = {};\r\n        this.state.blendFunc = {src: this.gl.ONE, dst: this.gl.ZERO};\r\n        this.state.blendEquation = {modeRGB: this.gl.FUNC_ADD};\r\n        this.state.cullFace = null;\r\n        this.state.frontFace = this.gl.CCW;\r\n        this.state.depthMask = true;\r\n        this.state.depthFunc = this.gl.LESS;\r\n        this.state.premultiplyAlpha = false;\r\n        this.state.flipY = false;\r\n        this.state.unpackAlignment = 4;\r\n        this.state.framebuffer = null;\r\n        this.state.viewport = {width: null, height: null};\r\n        this.state.textureUnits = [];\r\n        this.state.activeTextureUnit = 0;\r\n        this.state.boundBuffer = null;\r\n        this.state.uniformLocations = new Map();\r\n        \r\n        // store requested extensions\r\n        this.extensions = {};\r\n\r\n        // Initialise extra format types\r\n        if (this.isWebgl2) {\r\n            this.getExtension('EXT_color_buffer_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n        } else {\r\n            this.getExtension('OES_texture_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n            this.getExtension('OES_texture_half_float');\r\n            this.getExtension('OES_texture_half_float_linear');\r\n            this.getExtension('OES_element_index_uint');\r\n            this.getExtension('OES_standard_derivatives');\r\n            this.getExtension('EXT_sRGB');\r\n            this.getExtension('WEBGL_depth_texture');\r\n            this.getExtension('WEBGL_draw_buffers');\r\n        }\r\n        \r\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\r\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\r\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\r\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\r\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\r\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\r\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\r\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\r\n\r\n        // Store device parameters\r\n        this.parameters = {};\r\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\r\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic') ? \r\n            this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;\r\n\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.gl.canvas.width = width * this.dpr;\r\n        this.gl.canvas.height = height * this.dpr;\r\n\r\n        Object.assign(this.gl.canvas.style, {\r\n            width: width + 'px',\r\n            height: height + 'px',\r\n        });\r\n    }\r\n\r\n    setViewport(width, height) {\r\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\r\n        this.state.viewport.width = width;\r\n        this.state.viewport.height = height;\r\n        this.gl.viewport(0, 0, width, height);\r\n    }\r\n\r\n    enable(id) {\r\n        if (this.state[id] === true) return;\r\n        this.gl.enable(id);\r\n        this.state[id] = true;\r\n    }\r\n\r\n    disable(id) {\r\n        if (this.state[id] === false) return;\r\n        this.gl.disable(id);\r\n        this.state[id] = false;\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        if (this.state.blendFunc.src === src &&\r\n            this.state.blendFunc.dst === dst &&\r\n            this.state.blendFunc.srcAlpha === srcAlpha &&\r\n            this.state.blendFunc.dstAlpha === dstAlpha) return;\r\n        this.state.blendFunc.src = src;\r\n        this.state.blendFunc.dst = dst;\r\n        this.state.blendFunc.srcAlpha = srcAlpha;\r\n        this.state.blendFunc.dstAlpha = dstAlpha;\r\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\r\n        else this.gl.blendFunc(src, dst);\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        if (this.state.blendEquation.modeRGB === modeRGB &&\r\n            this.state.blendEquation.modeAlpha === modeAlpha) return;\r\n        this.state.blendEquation.modeRGB = modeRGB;\r\n        this.state.blendEquation.modeAlpha = modeAlpha;\r\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\r\n        else this.gl.blendEquation(modeRGB);\r\n    }\r\n\r\n    setCullFace(value) {\r\n        if (this.state.cullFace === value) return;\r\n        this.state.cullFace = value;\r\n        this.gl.cullFace(value);\r\n    }\r\n\r\n    setFrontFace(value) {\r\n        if (this.state.frontFace === value) return;\r\n        this.state.frontFace = value;\r\n        this.gl.frontFace(value);\r\n    }\r\n\r\n    setDepthMask(value) {\r\n        if (this.state.depthMask === value) return;\r\n        this.state.depthMask = value;\r\n        this.gl.depthMask(value);\r\n    }\r\n\r\n    setDepthFunc(value) {\r\n        if (this.state.depthFunc === value) return;\r\n        this.state.depthFunc = value;\r\n        this.gl.depthFunc(value);\r\n    }\r\n\r\n    activeTexture(value) {\r\n        if (this.state.activeTextureUnit === value) return;\r\n        this.state.activeTextureUnit = value;\r\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\r\n    }\r\n\r\n    bindFramebuffer({target = this.gl.FRAMEBUFFER, buffer = null} = {}) {\r\n        if (this.state.framebuffer === buffer) return;\r\n        this.state.framebuffer = buffer;\r\n        this.gl.bindFramebuffer(target, buffer);\r\n    }\r\n\r\n    getExtension(extension, webgl2Func, extFunc) {\r\n\r\n        // if webgl2 function supported, return func bound to gl context\r\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\r\n\r\n        // fetch extension once only\r\n        if (!this.extensions[extension]) {\r\n            this.extensions[extension] = this.gl.getExtension(extension);\r\n        }\r\n\r\n        // return extension if no function requested\r\n        if (!webgl2Func) return this.extensions[extension];\r\n\r\n        // Return null if extension not supported\r\n        if (!this.extensions[extension]) return null;\r\n\r\n        // return extension function, bound to extension\r\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\r\n    }\r\n\r\n    sortOpaque(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else if (a.zDepth !== b.zDepth) {\r\n            return a.zDepth - b.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortTransparent(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } if (a.zDepth !== b.zDepth) {\r\n            return b.zDepth - a.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortUI(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    getRenderList({scene, camera, frustumCull, sort}) {\r\n        let renderList = [];\r\n\r\n        if (camera && frustumCull) camera.updateFrustum();\r\n\r\n        // Get visible\r\n        scene.traverse(node => {\r\n            if (!node.visible) return true;\r\n            if (!node.draw) return;\r\n\r\n            if (frustumCull && node.frustumCulled && camera) {\r\n                if (!camera.frustumIntersectsMesh(node)) return;\r\n            }\r\n\r\n            renderList.push(node);\r\n        });\r\n\r\n        if (sort) {\r\n            const opaque = [];\r\n            const transparent = []; // depthTest true\r\n            const ui = []; // depthTest false\r\n\r\n            renderList.forEach(node => {\r\n\r\n                // Split into the 3 render groups\r\n                if (!node.program.transparent) {\r\n                    opaque.push(node);\r\n                } else if (node.program.depthTest) {\r\n                    transparent.push(node);\r\n                } else {\r\n                    ui.push(node);\r\n                }\r\n\r\n                node.zDepth = 0;\r\n\r\n                // Only calculate z-depth if renderOrder unset and depthTest is true\r\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\r\n\r\n                // update z-depth\r\n                node.worldMatrix.getTranslation(tempVec3);\r\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\r\n                node.zDepth = tempVec3.z;\r\n            });\r\n\r\n            opaque.sort(this.sortOpaque);\r\n            transparent.sort(this.sortTransparent);\r\n            ui.sort(this.sortUI);\r\n\r\n            renderList = opaque.concat(transparent, ui);\r\n        }\r\n\r\n        return renderList;\r\n    }\r\n\r\n    render({\r\n        scene,\r\n        camera,\r\n        target = null,\r\n        update = true,\r\n        sort = true,\r\n        frustumCull = true,\r\n        clear,\r\n    }) {\r\n\r\n        if (target === null) {\r\n\r\n            // make sure no render target bound so draws to canvas\r\n            this.bindFramebuffer();\r\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\r\n        } else {\r\n\r\n            // bind supplied render target and update viewport\r\n            this.bindFramebuffer(target);\r\n            this.setViewport(target.width, target.height);\r\n        }\r\n\r\n        if (clear || (this.autoClear && clear !== false)) {\r\n\r\n            // Ensure depth buffer writing is enabled so it can be cleared\r\n            if (this.depth && (!target || target.depth)) {\r\n                this.enable(this.gl.DEPTH_TEST);\r\n                this.setDepthMask(true);\r\n            }\r\n            this.gl.clear((this.color ? this.gl.COLOR_BUFFER_BIT : 0) | (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) | (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0));\r\n        }\r\n\r\n        // updates all scene graph matrices\r\n        if (update) scene.updateMatrixWorld();\r\n\r\n        // Update camera separately, in case not in scene graph\r\n        if (camera) camera.updateMatrixWorld();\r\n\r\n        // Get render list - entails culling and sorting\r\n        const renderList = this.getRenderList({scene, camera, frustumCull, sort});\r\n\r\n        renderList.forEach(node => {\r\n            node.draw({camera});\r\n        });\r\n    }\r\n}","import {Transform} from './Transform.js';\r\nimport {Mat4} from '../math/Mat4.js';\r\nimport {Vec3} from '../math/Vec3.js';\r\n\r\nconst tempMat4 = new Mat4();\r\nconst tempVec3a = new Vec3();\r\nconst tempVec3b = new Vec3();\r\n\r\nexport class Camera extends Transform {\r\n    constructor(gl, {\r\n        near = 0.1,\r\n        far = 100,\r\n        fov = 45,\r\n        aspect = 1,\r\n        left,\r\n        right,\r\n        bottom,\r\n        top,\r\n        zoom = 1,\r\n    } = {}) {\r\n        super();\r\n\r\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\r\n\r\n        this.projectionMatrix = new Mat4();\r\n        this.viewMatrix = new Mat4();\r\n        this.projectionViewMatrix = new Mat4();\r\n        this.worldPosition = new Vec3();\r\n\r\n        // Use orthographic if left/right set, else default to perspective camera\r\n        this.type = left || right ? 'orthographic' : 'perspective';\r\n        \r\n        if (this.type === 'orthographic') this.orthographic();\r\n        else this.perspective();\r\n    }\r\n\r\n    perspective({\r\n        near = this.near,\r\n        far = this.far,\r\n        fov = this.fov,\r\n        aspect = this.aspect,\r\n    } = {}) {\r\n        Object.assign(this, { near, far, fov, aspect });\r\n        this.projectionMatrix.fromPerspective({fov: fov * (Math.PI / 180), aspect, near, far});\r\n        this.type = 'perspective';\r\n        return this;\r\n    }\r\n\r\n    orthographic({\r\n        near = this.near,\r\n        far = this.far,\r\n        left = this.left,\r\n        right = this.right,\r\n        bottom = this.bottom,\r\n        top = this.top,\r\n        zoom = this.zoom,\r\n    } = {}) {\r\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\r\n        left /= zoom;\r\n        right /= zoom;\r\n        bottom /= zoom;\r\n        top /= zoom;\r\n        this.projectionMatrix.fromOrthogonal({left, right, bottom, top, near, far});\r\n        this.type = 'orthographic';\r\n        return this;\r\n    }\r\n\r\n    updateMatrixWorld() {\r\n        super.updateMatrixWorld();\r\n        this.viewMatrix.inverse(this.worldMatrix);\r\n        this.worldMatrix.getTranslation(this.worldPosition);\r\n        \r\n        // used for sorting\r\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\r\n        return this;\r\n    }\r\n\r\n    lookAt(target) {\r\n        super.lookAt(target, true);\r\n        return this;\r\n    }\r\n\r\n    // Project 3D coordinate to 2D point\r\n    project(v) {\r\n        v.applyMatrix4(this.viewMatrix);\r\n        v.applyMatrix4(this.projectionMatrix);\r\n        return this;\r\n    }\r\n\r\n    // Unproject 2D point to 3D coordinate\r\n    unproject(v) {\r\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\r\n        v.applyMatrix4(this.worldMatrix);\r\n        return this;\r\n    }\r\n\r\n    updateFrustum() {\r\n        if (!this.frustum) {\r\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\r\n        }\r\n\r\n        const m = this.projectionViewMatrix;\r\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\r\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\r\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\r\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\r\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\r\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const invLen = 1.0 / this.frustum[i].distance();\r\n            this.frustum[i].multiply(invLen);\r\n            this.frustum[i].constant *= invLen;\r\n        }\r\n    }\r\n\r\n    frustumIntersectsMesh(node) {\r\n\r\n        // If no position attribute, treat as frustumCulled false\r\n        if (!node.geometry.attributes.position) return true;\r\n        \r\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\r\n\r\n        if (!node.geometry.bounds) return true;\r\n\r\n        const center = tempVec3a;\r\n        center.copy(node.geometry.bounds.center);\r\n        center.applyMatrix4(node.worldMatrix);\r\n\r\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\r\n\r\n        return this.frustumIntersectsSphere(center, radius);\r\n    }\r\n\r\n    frustumIntersectsSphere(center, radius) {\r\n        const normal = tempVec3b;\r\n\r\n\t\tfor (let i = 0; i < 6; i++) {\r\n            const plane = this.frustum[i];\r\n            const distance = normal.copy(plane).dot(center) + plane.constant;\r\n\t\t\tif (distance < -radius) return false;\r\n\t\t}\r\n\t\treturn true;\r\n    }\r\n}","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\r\nexport function set(out, x, y) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n};\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return x * x + y * y;\r\n};\r\n\r\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n};\r\n\r\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return x * x + y * y;\r\n};\r\n\r\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\r\nexport function normalize(out, a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    var len = x * x + y * y;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1];\r\n};\r\n\r\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product returns a scalar\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} cross product of a and b\r\n */\r\nexport function cross(a, b) {\r\n    return a[0] * b[1] - a[1] * b[0];\r\n};\r\n\r\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec2} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    var ax = a[0],\r\n        ay = a[1];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    return out;\r\n};\r\n\r\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y;\r\n    out[1] = m[1] * x + m[3] * y;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2d(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y + m[4];\r\n    out[1] = m[1] * x + m[3] * y + m[5];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[3] * y + m[6];\r\n    out[1] = m[1] * x + m[4] * y + m[7];\r\n    return out;\r\n};\r\n\r\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    out[0] = m[0] * x + m[4] * y + m[12];\r\n    out[1] = m[1] * x + m[5] * y + m[13];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1];\r\n}","import * as Vec2Func from './functions/Vec2Func.js';\r\n\r\nexport class Vec2 extends Array {\r\n    constructor(x = 0, y = x) {\r\n        super(x, y);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n    \r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set(x, y = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec2Func.set(this, x, y);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec2Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec2Func.add(this, va, vb);\r\n        else Vec2Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec2Func.subtract(this, va, vb);\r\n        else Vec2Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec2Func.multiply(this, this, v);\r\n        else Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec2Func.divide(this, this, v);\r\n        else Vec2Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec2Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec2Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec2Func.distance(this, v);\r\n        else return Vec2Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return this.squaredDistance();\r\n    }\r\n\r\n    squaredDistance(v) {\r\n        if (v) return Vec2Func.squaredDistance(this, v);\r\n        else return Vec2Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec2Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if(vb) return Vec2Func.cross(va, vb);\r\n        return Vec2Func.cross(this, va);\r\n    }\r\n\r\n    scale(v) {\r\n        Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec2Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec2Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec2Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix3(mat3) {\r\n        Vec2Func.transformMat3(this, this, mat3);\r\n        return this;\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec2Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    lerp(v, a) {\r\n        Vec2Func.lerp(this, this, v, a);\r\n    }\r\n\r\n    clone() {\r\n        return new Vec2(this[0], this[1]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n\t\tthis[0] = a[o];\r\n\t\tthis[1] = a[o + 1];\r\n\t\treturn this;\r\n    }\r\n    \r\n\ttoArray(a = [], o = 0) {\r\n\t\ta[o] = this[0];\r\n\t\ta[o + 1] = this[1];\r\n\t\treturn a;\r\n\t}\r\n}\r\n","const EPSILON = 0.000001;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    out[2] = 1.0 / a[2];\n    return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let len = x * x + y * y + z * z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n    let ax = a[0], ay = a[1], az = a[2];\n    let bx = b[0], by = b[1], bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0], y = a[1], z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n    let x = a[0], y = a[1], z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n\n    let x = a[0], y = a[1], z = a[2];\n    let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n\n    let uvx = qy * z - qz * y;\n    let uvy = qz * x - qx * z;\n    let uvz = qx * y - qy * x;\n    \n    let uuvx = qy * uvz - qz * uvy;\n    let uuvy = qz * uvx - qx * uvz;\n    let uuvz = qx * uvy - qy * uvx;\n    \n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n    \n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n    \n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport const angle = (function() {\n    const tempA = [0, 0, 0];\n    const tempB = [0, 0, 0];\n\n    return function(a, b) {\n        copy(tempA, a);\n        copy(tempB, b);\n\n        normalize(tempA, tempA);\n        normalize(tempB, tempB);\n\n        let cosine = dot(tempA, tempB);\n\n        if (cosine > 1.0) {\n            return 0;\n        }\n        else if (cosine < -1.0) {\n            return Math.PI;\n        } else {\n            return Math.acos(cosine);\n        }\n    };\n})();\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}","import * as Vec3Func from './functions/Vec3Func.js';\n\nexport class Vec3 extends Array {\n    constructor(x = 0, y = x, z = x) {\n        super(x, y, z);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        Vec3Func.set(this, x, y, z);\n        return this;\n    }\n\n    copy(v) {\n        Vec3Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec3Func.add(this, va, vb);\n        else Vec3Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec3Func.subtract(this, va, vb);\n        else Vec3Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec3Func.multiply(this, this, v);\n        else Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec3Func.divide(this, this, v);\n        else Vec3Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec3Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec3Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec3Func.distance(this, v);\n        else return Vec3Func.length(this);\n    }\n\n    squaredLen() {\n        return Vec3Func.squaredLength(this);\n    }\n    \n    squaredDistance(v) {\n        if (v) return Vec3Func.squaredDistance(this, v);\n        else return Vec3Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec3Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) Vec3Func.cross(this, va, vb);\n        else Vec3Func.cross(this, this, va);\n        return this;\n    }\n\n    scale(v) {\n        Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec3Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec3Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec3Func.exactEquals(this, v);\n    }\n\n    applyMatrix4(mat4) {\n        Vec3Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    applyQuaternion(q) {\n        Vec3Func.transformQuat(this, this, q);\n        return this;\n    }\n\n    angle(v) {\n        return Vec3Func.angle(this, v);\n    }\n\n    lerp(v, t) {\n        Vec3Func.lerp(this, this, v, t);\n        return this;\n    }\n\n    clone() {\n        return new Vec3(this[0], this[1], this[2]);\n    }\n\n    fromArray(a, o = 0) {\n\t\tthis[0] = a[o];\n\t\tthis[1] = a[o + 1];\n\t\tthis[2] = a[o + 2];\n\t\treturn this;\n    }\n\n\ttoArray(a = [], o = 0) {\n\t\ta[o] = this[0];\n\t\ta[o + 1] = this[1];\n\t\ta[o + 2] = this[2];\n\t\treturn a;\n\t}\n    \n    transformDirection(mat4) {\n        const x = this[0];\n        const y = this[1];\n        const z = this[2];\n\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\n        \n        return this.normalize();\n    }\n}\n","// attribute params\n// {\n//     data - typed array eg UInt16Array for indices, Float32Array\n//     size - int default 1\n//     instanced - default null. Pass divisor amount\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\n//     normalized - boolean default false\n\n//     buffer - gl buffer, if buffer exists, don't need to provide data\n//     stride - default 0 - for when passing in buffer\n//     offset - default 0 - for when passing in buffer\n//     count - default null - for when passing in buffer\n//     min - array - for when passing in buffer\n//     max - array - for when passing in buffer\n// }\n\n// TODO: fit in transform feedback\n// TODO: when would I disableVertexAttribArray ?\n// TODO: add fallback for non vao support (ie)\n// TODO: use offset/stride if exists\n// TODO: check size of position (eg triangle with Vec2)\n\nimport {Vec3} from '../math/Vec3.js';\n\nconst tempVec3 = new Vec3();\n\nlet ID = 1;\nlet ATTR_ID = 1;\n\n// To stop inifinite warnings\nlet isBoundsWarned = false;\n\nexport class Geometry {\n    constructor(gl, attributes = {}) {\n        if (!gl.canvas) console.error('gl not passed as fist argument to Geometry');\n        this.gl = gl;\n        this.attributes = attributes;\n        this.id = ID++;\n\n        // Store one VAO per program attribute locations order\n        this.VAOs = {};\n\n        this.drawRange = {start: 0, count: 0};\n        this.instancedCount = 0;\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        this.gl.renderer.bindVertexArray(null);\n        this.gl.renderer.currentGeometry = null;\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // create the buffers\n        for (let key in attributes) {\n            this.addAttribute(key, attributes[key]);\n        }\n    }\n\n    addAttribute(key, attr) {\n        this.attributes[key] = attr;\n\n        // Set options\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\n        attr.size = attr.size || 1;\n        attr.type = attr.type || (\n            attr.data.constructor === Float32Array ? this.gl.FLOAT : \n            attr.data.constructor === Uint16Array ? this.gl.UNSIGNED_SHORT : \n            this.gl.UNSIGNED_INT); // Uint32Array\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\n        attr.normalized = attr.normalized || false;\n        attr.stride = attr.stride || 0;\n        attr.offset = attr.offset || 0;\n        attr.count = attr.count || attr.data.length / attr.size;\n        attr.divisor = attr.instanced || 0;\n        attr.needsUpdate = false;\n\n        if (!attr.buffer) {\n            attr.buffer = this.gl.createBuffer();\n\n            // Push data to buffer\n            this.updateAttribute(attr);\n        }\n\n        // Update geometry counts. If indexed, ignore regular attributes\n        if (attr.divisor) {\n            this.isInstanced = true;\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\n                console.warn('geometry has multiple instanced buffers of different length');\n                return this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor);\n            }\n            this.instancedCount = attr.count * attr.divisor;\n        } else if (key === 'index') {\n            this.drawRange.count = attr.count;\n        } else if (!this.attributes.index) {\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\n        }\n    }\n\n    updateAttribute(attr) {\n        if (this.glState.boundBuffer !== attr.buffer) {\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n        }\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\n        attr.needsUpdate = false;\n    }\n\n    setIndex(value) {\n        this.addAttribute('index', value);\n    }\n\n    setDrawRange(start, count) {\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n    }\n\n    setInstancedCount(value) {\n        this.instancedCount = value;\n    }\n\n    createVAO(program) {\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n        this.bindAttributes(program);\n    }\n\n    bindAttributes(program) {\n\n        // Link all attributes to program using gl.vertexAttribPointer\n        program.attributeLocations.forEach((location, name) => {\n\n            // If geometry missing a required shader attribute\n            if (!this.attributes[name]) {\n                console.warn(`active attribute ${name} not being supplied`);\n                return;\n            }\n\n            const attr = this.attributes[name];\n\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n            this.gl.vertexAttribPointer(\n                location,\n                attr.size,\n                attr.type,\n                attr.normalized,\n                attr.stride,\n                attr.offset\n            );\n            this.gl.enableVertexAttribArray(location);\n\n            // For instanced attributes, divisor needs to be set.\n            // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\n            this.gl.renderer.vertexAttribDivisor(location, attr.divisor);\n        });\n\n        // Bind indices if geometry indexed\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\n    }\n\n    draw({\n        program,\n        mode = this.gl.TRIANGLES,\n    }) {\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {   \n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\n        }\n\n        // Check if any attributes need updating\n        program.attributeLocations.forEach((location, name) => {\n            const attr = this.attributes[name];\n            if (attr.needsUpdate) this.updateAttribute(attr);\n        });\n\n        if (this.isInstanced) {\n            if (this.attributes.index) {\n                this.gl.renderer.drawElementsInstanced(mode, this.drawRange.count, this.attributes.index.type, this.drawRange.start, this.instancedCount);\n            } else {\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\n            }\n        } else {\n            if (this.attributes.index) {\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\n            } else {\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\n            }\n        }\n    }\n\n    getPositionArray() {\n\n        // Use position buffer, or min/max if available\n        const attr = this.attributes.position;\n        if (attr.min) return [...attr.min, ...attr.max];\n        if (attr.data) return attr.data;\n        if (isBoundsWarned) return;\n        console.warn('No position buffer data found to compute bounds');\n        return isBoundsWarned = true;\n    }\n\n    computeBoundingBox(array) {\n        if (!array) array = this.getPositionArray();\n\n        if (!this.bounds) {\n            this.bounds = {\n                min: new Vec3(),\n                max: new Vec3(),\n                center: new Vec3(),\n                scale: new Vec3(),\n                radius: Infinity,\n            };\n        }\n\n        const min = this.bounds.min;\n        const max = this.bounds.max;\n        const center = this.bounds.center;\n        const scale = this.bounds.scale;\n\n        min.set(+Infinity);\n        max.set(-Infinity);\n\n        // TODO: use offset/stride if exists\n        // TODO: check size of position (eg triangle with Vec2)\n        for (let i = 0, l = array.length; i < l; i += 3) {\n            const x = array[i];\n            const y = array[i + 1];\n            const z = array[i + 2];\n\n            min.x = Math.min(x, min.x);\n            min.y = Math.min(y, min.y);\n            min.z = Math.min(z, min.z);\n\n            max.x = Math.max(x, max.x);\n            max.y = Math.max(y, max.y);\n            max.z = Math.max(z, max.z);\n        }\n\n        scale.sub(max, min);\n        center.add(min, max).divide(2);\n    }\n\n    computeBoundingSphere(array) {\n        if (!array) array = this.getPositionArray();\n        if (!this.bounds) this.computeBoundingBox(array);\n\n        let maxRadiusSq = 0;\n        for (let i = 0, l = array.length; i < l; i += 3) {\n            tempVec3.fromArray(array, i);\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\n        }\n\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\n    }\n\n    remove() {\n        if (this.vao) this.gl.renderer.deleteVertexArray(this.vao);\n        for (let key in this.attributes) {\n            this.gl.deleteBuffer(this.attributes[key].buffer);\n            delete this.attributes[key];\n        }\n    }\n}","// TODO: upload empty texture if null ? maybe not\n// TODO: upload identity matrix if null ?\n// TODO: sampler Cube\n\nlet ID = 1;\n\n// cache of typed arrays used to flatten uniform arrays\nconst arrayCacheF32 = {};\n\nexport class Program {\n    constructor(gl, {\n        vertex,\n        fragment,\n        uniforms = {},\n\n        transparent = false,\n        cullFace = gl.BACK,\n        frontFace = gl.CCW,\n        depthTest = true,\n        depthWrite = true,\n        depthFunc = gl.LESS,\n    } = {}) {\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\n        this.gl = gl;\n        this.uniforms = uniforms;\n        this.id = ID++;\n\n        if (!vertex) console.warn('vertex shader not supplied');\n        if (!fragment) console.warn('fragment shader not supplied');\n\n        // Store program state\n        this.transparent = transparent;\n        this.cullFace = cullFace;\n        this.frontFace = frontFace;\n        this.depthTest = depthTest;\n        this.depthWrite = depthWrite;\n        this.depthFunc = depthFunc;\n        this.blendFunc = {};\n        this.blendEquation = {};\n\n        // set default blendFunc if transparent flagged\n        if (this.transparent && !this.blendFunc.src) {\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        }\n\n        // compile vertex shader and log errors\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vertex);\n        gl.compileShader(vertexShader);\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\n        }\n\n        // compile fragment shader and log errors\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragment);\n        gl.compileShader(fragmentShader);\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\n        }\n\n        // compile program and log errors\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, vertexShader);\n        gl.attachShader(this.program, fragmentShader);\n        gl.linkProgram(this.program);\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            return console.warn(gl.getProgramInfoLog(this.program));\n        }\n\n        // Remove shader once linked\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n\n        // Get active uniform locations\n        this.uniformLocations = new Map();\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\n            let uniform = gl.getActiveUniform(this.program, uIndex);\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\n\n            // split uniforms' names to separate array and struct declarations\n            const split = uniform.name.match(/(\\w+)/g);\n            \n            uniform.uniformName = split[0];\n            \n            if (split.length === 3) {\n                uniform.isStructArray = true;\n                uniform.structIndex = Number(split[1]);\n                uniform.structProperty = split[2];\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\n                uniform.isStruct = true;\n                uniform.structProperty = split[1];\n            }\n        }\n\n        // Get active attribute locations\n        this.attributeLocations = new Map();\n        const locations = []; \n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\n            const location = gl.getAttribLocation(this.program, attribute.name);\n            locations[location] = attribute.name;\n            this.attributeLocations.set(attribute.name, location);\n        }\n        this.attributeOrder = locations.join('');\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        this.blendFunc.src = src;\n        this.blendFunc.dst = dst;\n        this.blendFunc.srcAlpha = srcAlpha;\n        this.blendFunc.dstAlpha = dstAlpha;\n        if (src) this.transparent = true;\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        this.blendEquation.modeRGB = modeRGB;\n        this.blendEquation.modeAlpha = modeAlpha;\n    }\n\n    applyState() {\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\n\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\n\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\n        else this.gl.renderer.disable(this.gl.BLEND);\n\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\n        this.gl.renderer.setFrontFace(this.frontFace);\n        this.gl.renderer.setDepthMask(this.depthWrite);\n        this.gl.renderer.setDepthFunc(this.depthFunc);\n        if (this.blendFunc.src) this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\n        if (this.blendEquation.modeRGB) this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\n    }\n\n    use({\n        flipFaces = false,\n    } = {}) {\n        let textureUnit = -1;\n        const programActive = this.gl.renderer.currentProgram === this.id;\n\n        // Avoid gl call if program already in use\n        if (!programActive) {\n            this.gl.useProgram(this.program);\n            this.gl.renderer.currentProgram = this.id;\n        }\n\n        // Set only the active uniforms found in the shader\n        this.uniformLocations.forEach((location, activeUniform) => {\n            let name = activeUniform.uniformName;\n\n            // get supplied uniform\n            let uniform = this.uniforms[name];\n\n            // For structs, get the specific property instead of the entire object\n            if (activeUniform.isStruct) {\n                uniform = uniform[activeUniform.structProperty];\n                name += `.${activeUniform.structProperty}`;\n            }\n            if (activeUniform.isStructArray) {\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\n            }\n\n            if (!uniform) {\n                return warn(`Active uniform ${name} has not been supplied`);\n            }\n\n            if (uniform && uniform.value === undefined) {\n                return warn(`${name} uniform is missing a value parameter`);\n            }\n\n            if (uniform.value.texture) {\n                textureUnit = textureUnit + 1;\n                \n                // Check if texture needs to be updated\n                uniform.value.update(textureUnit);\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\n            }\n\n            // For texture arrays, set uniform as an array of texture units instead of just one\n            if (uniform.value.length && uniform.value[0].texture) {\n                const textureUnits = [];\n                uniform.value.forEach(value => {\n                    textureUnit = textureUnit + 1;\n                    value.update(textureUnit);\n                    textureUnits.push(textureUnit);\n                });\n                \n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\n            }\n\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\n        });\n\n        this.applyState();\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\n    }\n\n    remove() {\n        this.gl.deleteProgram(this.program);\n    }\n}\n\nfunction setUniform(gl, type, location, value) {\n    value = value.length ? flatten(value) : value;\n    const setValue = gl.renderer.state.uniformLocations.get(location);\n\n    // Avoid redundant uniform commands\n    if (value.length) {\n        if (setValue === undefined) {\n\n            // clone array to store as cache\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\n        } else {\n            if (arraysEqual(setValue, value)) return;\n\n            // Update cached array values\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\n            gl.renderer.state.uniformLocations.set(location, setValue);\n        }\n    } else {\n        if (setValue === value) return;\n        gl.renderer.state.uniformLocations.set(location, value);\n    }\n\n    switch (type) {\n        case 5126  : return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\n        case 35664 : return gl.uniform2fv(location, value); // FLOAT_VEC2\n        case 35665 : return gl.uniform3fv(location, value); // FLOAT_VEC3\n        case 35666 : return gl.uniform4fv(location, value); // FLOAT_VEC4\n        case 35670 : // BOOL\n        case 5124  : // INT\n        case 35678 : // SAMPLER_2D\n        case 35680 : return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\n        case 35671 : // BOOL_VEC2\n        case 35667 : return gl.uniform2iv(location, value); // INT_VEC2\n        case 35672 : // BOOL_VEC3\n        case 35668 : return gl.uniform3iv(location, value); // INT_VEC3\n        case 35673 : // BOOL_VEC4\n        case 35669 : return gl.uniform4iv(location, value); // INT_VEC4\n        case 35674 : return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\n        case 35675 : return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\n        case 35676 : return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\n    }\n}\n\nfunction addLineNumbers(string) {\n    let lines = string.split('\\n');\n    for (let i = 0; i < lines.length; i ++) {\n        lines[i] = (i + 1) + ': ' + lines[i];\n    }\n    return lines.join('\\n');\n}\n\nfunction flatten(a) {\n    const arrayLen = a.length;\n    const valueLen = a[0].length;\n    if (valueLen === undefined) return a;\n    const length = arrayLen * valueLen;\n    let value = arrayCacheF32[length];\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\n    return value;\n}\n\nfunction arraysEqual(a, b) {\n\tif (a.length !== b.length) return false;\n\tfor (let i = 0, l = a.length; i < l; i ++) {\n\t\tif (a[i] !== b[i]) return false;\n\t}\n\treturn true;\n}\n\nfunction setArray(a, b) {\n    for (let i = 0, l = a.length; i < l; i ++) {\n\t\ta[i] = b[i];\n\t}\n}\n\nlet warnCount = 0;\nfunction warn(message) {\n    if (warnCount > 100) return;\n    console.warn(message);\n    warnCount++;\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\n}","import {Vec3} from '../math/Vec3.js';\n\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\n\n// Not automatic - devs to use these methods manually\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\n// gl.clearColor( r, g, b, a );\n// gl.stencilMask( stencilMask );\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n// gl.clearStencil( stencil );\n\nconst tempVec3 = new Vec3();\nlet ID = 1;\n\nexport class Renderer {\n    constructor({\n        canvas = document.createElement('canvas'),\n        width = 300,\n        height = 150,\n        dpr = 1,\n        alpha = false,\n        depth = true,\n        stencil = false,\n        antialias = false,\n        premultipliedAlpha = false,\n        preserveDrawingBuffer = false,\n        powerPreference = 'default',\n        autoClear = true,\n        webgl = 2,\n    } = {}) {\n        const attributes = {alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference};\n        this.dpr = dpr;\n        this.alpha = alpha;\n        this.color = true;\n        this.depth = depth;\n        this.stencil = stencil;\n        this.premultipliedAlpha = premultipliedAlpha;\n        this.autoClear = autoClear;\n        this.id = ID++;\n\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\n        this.isWebgl2 = !!this.gl;\n        if (!this.gl) {\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\n        }\n\n        // Attach renderer to gl so that all classes have access to internal state functions\n        this.gl.renderer = this;\n\n        // initialise size values\n        this.setSize(width, height);\n\n        // gl state stores to avoid redundant calls on methods used internally\n        this.state = {};\n        this.state.blendFunc = {src: this.gl.ONE, dst: this.gl.ZERO};\n        this.state.blendEquation = {modeRGB: this.gl.FUNC_ADD};\n        this.state.cullFace = null;\n        this.state.frontFace = this.gl.CCW;\n        this.state.depthMask = true;\n        this.state.depthFunc = this.gl.LESS;\n        this.state.premultiplyAlpha = false;\n        this.state.flipY = false;\n        this.state.unpackAlignment = 4;\n        this.state.framebuffer = null;\n        this.state.viewport = {width: null, height: null};\n        this.state.textureUnits = [];\n        this.state.activeTextureUnit = 0;\n        this.state.boundBuffer = null;\n        this.state.uniformLocations = new Map();\n        \n        // store requested extensions\n        this.extensions = {};\n\n        // Initialise extra format types\n        if (this.isWebgl2) {\n            this.getExtension('EXT_color_buffer_float');\n            this.getExtension('OES_texture_float_linear');\n        } else {\n            this.getExtension('OES_texture_float');\n            this.getExtension('OES_texture_float_linear');\n            this.getExtension('OES_texture_half_float');\n            this.getExtension('OES_texture_half_float_linear');\n            this.getExtension('OES_element_index_uint');\n            this.getExtension('OES_standard_derivatives');\n            this.getExtension('EXT_sRGB');\n            this.getExtension('WEBGL_depth_texture');\n            this.getExtension('WEBGL_draw_buffers');\n        }\n        \n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\n\n        // Store device parameters\n        this.parameters = {};\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic') ? \n            this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;\n\n    }\n\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n\n        this.gl.canvas.width = width * this.dpr;\n        this.gl.canvas.height = height * this.dpr;\n\n        Object.assign(this.gl.canvas.style, {\n            width: width + 'px',\n            height: height + 'px',\n        });\n    }\n\n    setViewport(width, height) {\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\n        this.state.viewport.width = width;\n        this.state.viewport.height = height;\n        this.gl.viewport(0, 0, width, height);\n    }\n\n    enable(id) {\n        if (this.state[id] === true) return;\n        this.gl.enable(id);\n        this.state[id] = true;\n    }\n\n    disable(id) {\n        if (this.state[id] === false) return;\n        this.gl.disable(id);\n        this.state[id] = false;\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        if (this.state.blendFunc.src === src &&\n            this.state.blendFunc.dst === dst &&\n            this.state.blendFunc.srcAlpha === srcAlpha &&\n            this.state.blendFunc.dstAlpha === dstAlpha) return;\n        this.state.blendFunc.src = src;\n        this.state.blendFunc.dst = dst;\n        this.state.blendFunc.srcAlpha = srcAlpha;\n        this.state.blendFunc.dstAlpha = dstAlpha;\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\n        else this.gl.blendFunc(src, dst);\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        if (this.state.blendEquation.modeRGB === modeRGB &&\n            this.state.blendEquation.modeAlpha === modeAlpha) return;\n        this.state.blendEquation.modeRGB = modeRGB;\n        this.state.blendEquation.modeAlpha = modeAlpha;\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\n        else this.gl.blendEquation(modeRGB);\n    }\n\n    setCullFace(value) {\n        if (this.state.cullFace === value) return;\n        this.state.cullFace = value;\n        this.gl.cullFace(value);\n    }\n\n    setFrontFace(value) {\n        if (this.state.frontFace === value) return;\n        this.state.frontFace = value;\n        this.gl.frontFace(value);\n    }\n\n    setDepthMask(value) {\n        if (this.state.depthMask === value) return;\n        this.state.depthMask = value;\n        this.gl.depthMask(value);\n    }\n\n    setDepthFunc(value) {\n        if (this.state.depthFunc === value) return;\n        this.state.depthFunc = value;\n        this.gl.depthFunc(value);\n    }\n\n    activeTexture(value) {\n        if (this.state.activeTextureUnit === value) return;\n        this.state.activeTextureUnit = value;\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\n    }\n\n    bindFramebuffer({target = this.gl.FRAMEBUFFER, buffer = null} = {}) {\n        if (this.state.framebuffer === buffer) return;\n        this.state.framebuffer = buffer;\n        this.gl.bindFramebuffer(target, buffer);\n    }\n\n    getExtension(extension, webgl2Func, extFunc) {\n\n        // if webgl2 function supported, return func bound to gl context\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\n\n        // fetch extension once only\n        if (!this.extensions[extension]) {\n            this.extensions[extension] = this.gl.getExtension(extension);\n        }\n\n        // return extension if no function requested\n        if (!webgl2Func) return this.extensions[extension];\n\n        // Return null if extension not supported\n        if (!this.extensions[extension]) return null;\n\n        // return extension function, bound to extension\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\n    }\n\n    sortOpaque(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else if (a.zDepth !== b.zDepth) {\n            return a.zDepth - b.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortTransparent(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } if (a.zDepth !== b.zDepth) {\n            return b.zDepth - a.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortUI(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    getRenderList({scene, camera, frustumCull, sort}) {\n        let renderList = [];\n\n        if (camera && frustumCull) camera.updateFrustum();\n\n        // Get visible\n        scene.traverse(node => {\n            if (!node.visible) return true;\n            if (!node.draw) return;\n\n            if (frustumCull && node.frustumCulled && camera) {\n                if (!camera.frustumIntersectsMesh(node)) return;\n            }\n\n            renderList.push(node);\n        });\n\n        if (sort) {\n            const opaque = [];\n            const transparent = []; // depthTest true\n            const ui = []; // depthTest false\n\n            renderList.forEach(node => {\n\n                // Split into the 3 render groups\n                if (!node.program.transparent) {\n                    opaque.push(node);\n                } else if (node.program.depthTest) {\n                    transparent.push(node);\n                } else {\n                    ui.push(node);\n                }\n\n                node.zDepth = 0;\n\n                // Only calculate z-depth if renderOrder unset and depthTest is true\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\n\n                // update z-depth\n                node.worldMatrix.getTranslation(tempVec3);\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\n                node.zDepth = tempVec3.z;\n            });\n\n            opaque.sort(this.sortOpaque);\n            transparent.sort(this.sortTransparent);\n            ui.sort(this.sortUI);\n\n            renderList = opaque.concat(transparent, ui);\n        }\n\n        return renderList;\n    }\n\n    render({\n        scene,\n        camera,\n        target = null,\n        update = true,\n        sort = true,\n        frustumCull = true,\n        clear,\n    }) {\n\n        if (target === null) {\n\n            // make sure no render target bound so draws to canvas\n            this.bindFramebuffer();\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\n        } else {\n\n            // bind supplied render target and update viewport\n            this.bindFramebuffer(target);\n            this.setViewport(target.width, target.height);\n        }\n\n        if (clear || (this.autoClear && clear !== false)) {\n\n            // Ensure depth buffer writing is enabled so it can be cleared\n            if (this.depth && (!target || target.depth)) {\n                this.enable(this.gl.DEPTH_TEST);\n                this.setDepthMask(true);\n            }\n            this.gl.clear((this.color ? this.gl.COLOR_BUFFER_BIT : 0) | (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) | (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0));\n        }\n\n        // updates all scene graph matrices\n        if (update) scene.updateMatrixWorld();\n\n        // Update camera separately, in case not in scene graph\n        if (camera) camera.updateMatrixWorld();\n\n        // Get render list - entails culling and sorting\n        const renderList = this.getRenderList({scene, camera, frustumCull, sort});\n\n        renderList.forEach(node => {\n            node.draw({camera});\n        });\n    }\n}","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    let len = x * x + y * y + z * z + w * w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    let aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n}","import * as vec4 from './Vec4Func.js';\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n    rad = rad * 0.5;\n    let s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n}\n\n/**\n * Multiplies two quats\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n    let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n    let bx = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n    let by = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n    let bz = Math.sin(rad), bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n    let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n    let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n\n    let omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n    }\n    // calculate coefficients\n    if ((1.0 - cosom) > 0.000001) {\n        // standard case (slerp)\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {\n        // \"from\" and \"to\" quaternions are very close\n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n    let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n    let invDot = dot ? 1.0 / dot : 0;\n\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0 * invDot;\n    out[1] = -a1 * invDot;\n    out[2] = -a2 * invDot;\n    out[3] = a3 * invDot;\n    return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    let fTrace = m[0] + m[4] + m[8];\n    let fRoot;\n\n    if (fTrace > 0.0) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0);  // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;  // 1/(4w)\n        out[0] = (m[5] - m[7]) * fRoot;\n        out[1] = (m[6] - m[2]) * fRoot;\n        out[2] = (m[1] - m[3]) * fRoot;\n    } else {\n        // |w| <= 1/2\n        let i = 0;\n        if (m[4] > m[0])\n            i = 1;\n        if (m[8] > m[i * 3 + i])\n            i = 2;\n        let j = (i + 1) % 3;\n        let k = (i + 2) % 3;\n\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n    }\n\n    return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} euler Angles to rotate around each axis in degrees.\n * @param {String} order detailing order of operations. Default 'XYZ'.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, euler, order = 'YXZ') {\n    let sx = Math.sin(euler[0] * 0.5);\n    let cx = Math.cos(euler[0] * 0.5);\n    let sy = Math.sin(euler[1] * 0.5);\n    let cy = Math.cos(euler[1] * 0.5);\n    let sz = Math.sin(euler[2] * 0.5);\n    let cz = Math.cos(euler[2] * 0.5);\n\n    if (order === 'XYZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'YXZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'ZXY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'ZYX') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'YZX') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'XZY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    }\n\n    return out;\n}\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;","import * as QuatFunc from './functions/QuatFunc.js';\n\nexport class Quat extends Array {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        super(x, y, z, w);\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set w(v) {\n        this[3] = v;\n        this.onChange();\n    }\n\n    identity() {\n        QuatFunc.identity(this);\n        this.onChange();\n        return this;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        QuatFunc.set(this, x, y, z, w);\n        this.onChange();\n        return this;\n    }\n\n    rotateX(a) {\n        QuatFunc.rotateX(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateY(a) {\n        QuatFunc.rotateY(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateZ(a) {\n        QuatFunc.rotateZ(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    inverse(q = this) {\n        QuatFunc.invert(this, q);\n        this.onChange();\n        return this;\n    }\n\n    conjugate(q = this) {\n        QuatFunc.conjugate(this, q);\n        this.onChange();\n        return this;\n    }\n\n    copy(q) {\n        QuatFunc.copy(this, q);\n        this.onChange();\n        return this;\n    }\n\n    normalize(q = this) {\n        QuatFunc.normalize(this, q);\n        this.onChange();\n        return this;\n    }\n\n    multiply(qA, qB) {\n        if (qB) {\n            QuatFunc.multiply(this, qA, qB);\n        } else {\n            QuatFunc.multiply(this, this, qA);\n        }\n        this.onChange();\n        return this;\n    }\n\n    dot(v) {\n        return QuatFunc.dot(this, v);\n    }\n\n    fromMatrix3(matrix3) {\n        QuatFunc.fromMat3(this, matrix3);\n        this.onChange();\n        return this;\n    }\n\n    fromEuler(euler) {\n        QuatFunc.fromEuler(this, euler, euler.order);\n        return this;\n    }\n\n    fromAxisAngle(axis, a) {\n        QuatFunc.setAxisAngle(this, axis, a);\n        return this;\n    }\n\n    slerp(q, t) {\n        QuatFunc.slerp(this, this, q, t);\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n\t\tthis[0] = a[o];\n\t\tthis[1] = a[o + 1];\n\t\tthis[2] = a[o + 2];\n\t\tthis[3] = a[o + 3];\n\t\treturn this;\n    }\n    \n\ttoArray(a = [], o = 0) {\n\t\ta[o] = this[0];\n\t\ta[o + 1] = this[1];\n\t\ta[o + 2] = this[2];\n\t\ta[o + 3] = this[3];\n\t\treturn a;\n\t}\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n}\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1], a02 = a[2], a03 = a[3];\n        let a12 = a[6], a13 = a[7];\n        let a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    let b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n    return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n    let x = v[0], y = v[1], z = v[2];\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0];\n        a01 = a[1];\n        a02 = a[2];\n        a03 = a[3];\n        a10 = a[4];\n        a11 = a[5];\n        a12 = a[6];\n        a13 = a[7];\n        a20 = a[8];\n        a21 = a[9];\n        a22 = a[10];\n        a23 = a[11];\n\n        out[0] = a00;\n        out[1] = a01;\n        out[2] = a02;\n        out[3] = a03;\n        out[4] = a10;\n        out[5] = a11;\n        out[6] = a12;\n        out[7] = a13;\n        out[8] = a20;\n        out[9] = a21;\n        out[10] = a22;\n        out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n    let x = axis[0], y = axis[1], z = axis[2];\n    let len = Math.hypot(x,y,z);\n    let s, c, t;\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n    let b00, b01, b02;\n    let b10, b11, b12;\n    let b20, b21, b22;\n\n    if (Math.abs(len) < EPSILON) {\n        return null;\n    }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c;\n    b01 = y * x * t + z * s;\n    b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s;\n    b11 = y * y * t + c;\n    b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s;\n    b21 = y * z * t - x * s;\n    b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n    out[0] = mat[12];\n    out[1] = mat[13];\n    out[2] = mat[14];\n\n    return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    out[0] = Math.hypot(m11, m12, m13);\n    out[1] = Math.hypot(m21, m22, m23);\n    out[2] = Math.hypot(m31, m32, m33);\n\n    return out;\n}\n\nexport function getMaxScaleOnAxis(mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\n\n    return Math.sqrt(Math.max(x, y, z));\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport const getRotation = (function() {\n    const temp = [0, 0, 0];\n\n    return function(out, mat) {\n        let scaling = temp;\n        getScaling(scaling, mat);\n    \n        let is1 = 1 / scaling[0];\n        let is2 = 1 / scaling[1];\n        let is3 = 1 / scaling[2];\n    \n        let sm11 = mat[0] * is1;\n        let sm12 = mat[1] * is2;\n        let sm13 = mat[2] * is3;\n        let sm21 = mat[4] * is1;\n        let sm22 = mat[5] * is2;\n        let sm23 = mat[6] * is3;\n        let sm31 = mat[8] * is1;\n        let sm32 = mat[9] * is2;\n        let sm33 = mat[10] * is3;\n    \n        let trace = sm11 + sm22 + sm33;\n        let S = 0;\n    \n        if (trace > 0) {\n            S = Math.sqrt(trace + 1.0) * 2;\n            out[3] = 0.25 * S;\n            out[0] = (sm23 - sm32) / S;\n            out[1] = (sm31 - sm13) / S;\n            out[2] = (sm12 - sm21) / S;\n        } else if ((sm11 > sm22) && (sm11 > sm33)) {\n            S = Math.sqrt(1.0 + sm11 - sm22- sm33) * 2;\n            out[3] = (sm23 - sm32) / S;\n            out[0] = 0.25 * S;\n            out[1] = (sm12 + sm21) / S;\n            out[2] = (sm31 + sm13) / S;\n        } else if (sm22 > sm33) {\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n            out[3] = (sm31 - sm13) / S;\n            out[0] = (sm12 + sm21) / S;\n            out[1] = 0.25 * S;\n            out[2] = (sm23 + sm32) / S;\n        } else {\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n            out[3] = (sm12 - sm21) / S;\n            out[0] = (sm31 + sm13) / S;\n            out[1] = (sm23 + sm32) / S;\n            out[2] = 0.25 * S;\n        }\n    \n        return out;\n    }\n})();\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n    // Quaternion math\n    let x = q[0], y = q[1], z = q[2], w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let xy = x * y2;\n    let xz = x * z2;\n    let yy = y * y2;\n    let yz = y * z2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n    let sx = s[0];\n    let sy = s[1];\n    let sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0], y = q[1], z = q[2], w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n    let f = 1.0 / Math.tan(fovy / 2);\n    let nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n    let lr = 1 / (left - right);\n    let bt = 1 / (bottom - top);\n    let nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} target Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n    let eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2];\n\n    let z0 = eyex - target[0],\n        z1 = eyey - target[1],\n        z2 = eyez - target[2];\n\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\n    if (len === 0) {\n        // eye and target are in the same position\n        z2 = 1;\n    }\n    else {\n        len = 1 / Math.sqrt(len);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n    }\n\n    let x0 = upy * z2 - upz * z1,\n        x1 = upz * z0 - upx * z2,\n        x2 = upx * z1 - upy * z0;\n\n    len = x0 * x0 + x1 * x1 + x2 * x2;\n    if (len === 0) {\n        // up and z are parallel\n        if (upz) {\n            upx += 1e-6;\n        } else if(upy) {\n            upz += 1e-6;\n        } else {\n            upy += 1e-6;\n        }\n        x0 = upy * z2 - upz * z1,\n        x1 = upz * z0 - upx * z2,\n        x2 = upx * z1 - upy * z0;\n        \n        len = x0 * x0 + x1 * x1 + x2 * x2;\n    }\n\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n\n    out[0] = x0;\n    out[1] = x1;\n    out[2] = x2;\n    out[3] = 0;\n    out[4] = z1 * x2 - z2 * x1;\n    out[5] = z2 * x0 - z0 * x2;\n    out[6] = z0 * x1 - z1 * x0;\n    out[7] = 0;\n    out[8] = z0;\n    out[9] = z1;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = eyex;\n    out[13] = eyey;\n    out[14] = eyez;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    out[9] = a[9] + b[9];\n    out[10] = a[10] + b[10];\n    out[11] = a[11] + b[11];\n    out[12] = a[12] + b[12];\n    out[13] = a[13] + b[13];\n    out[14] = a[14] + b[14];\n    out[15] = a[15] + b[15];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    out[9] = a[9] - b[9];\n    out[10] = a[10] - b[10];\n    out[11] = a[11] - b[11];\n    out[12] = a[12] - b[12];\n    out[13] = a[13] - b[13];\n    out[14] = a[14] - b[14];\n    out[15] = a[15] - b[15];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    out[9] = a[9] * b;\n    out[10] = a[10] * b;\n    out[11] = a[11] * b;\n    out[12] = a[12] * b;\n    out[13] = a[13] * b;\n    out[14] = a[14] * b;\n    out[15] = a[15] * b;\n    return out;\n}","import * as Mat4Func from './functions/Mat4Func.js';\n\nexport class Mat4 extends Array {\n    constructor(\n        m00 = 1, m01 = 0, m02 = 0, m03 = 0,\n        m10 = 0, m11 = 1, m12 = 0, m13 = 0,\n        m20 = 0, m21 = 0, m22 = 1, m23 = 0,\n        m30 = 0, m31 = 0, m32 = 0, m33 = 1\n    ) {\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n\n    get x() {\n        return this[12];\n    }\n\n    get y() {\n        return this[13];\n    }\n\n    get z() {\n        return this[14];\n    }\n\n    get w() {\n        return this[15];\n    }\n\n    set x(v) {\n        this[12] = v;\n    }\n\n    set y(v) {\n        this[13] = v;\n    }\n\n    set z(v) {\n        this[14] = v;\n    }\n\n    set w(v) {\n        this[15] = v;\n    }\n\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n        if (m00.length) return this.copy(m00);\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat4Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, axis, m = this) {\n        Mat4Func.rotate(this, m, v, axis);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat4Func.scale(this, m, typeof v === \"number\" ? [v, v, v] : v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat4Func.multiply(this, ma, mb);\n        } else {\n            Mat4Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat4Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat4Func.copy(this, m);\n        return this;\n    }\n\n    fromPerspective({ fov, aspect, near, far } = {}) {\n        Mat4Func.perspective(this, fov, aspect, near, far);\n        return this;\n    }\n\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat4Func.fromQuat(this, q);\n        return this;\n    }\n\n    setPosition(v) {\n        this.x = v[0];\n        this.y = v[1];\n        this.z = v[2];\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat4Func.invert(this, m);\n        return this;\n    }\n\n    compose(q, pos, scale) {\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\n        return this;\n    }\n\n    getRotation(q) {\n        Mat4Func.getRotation(q, this);\n        return this;\n    }\n\n    getTranslation(pos) {\n        Mat4Func.getTranslation(pos, this);\n        return this;\n    }\n\n    getScaling(scale) {\n        Mat4Func.getScaling(scale, this);\n        return this;\n    }\n\n    getMaxScaleOnAxis() {\n        return Mat4Func.getMaxScaleOnAxis(this);\n    }\n\n    lookAt(eye, target, up) {\n        Mat4Func.targetTo(this, eye, target, up);\n        return this;\n    }\n\n    determinant() {\n        return Mat4Func.determinant(this);\n    }\n}\n","\n// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\n\n    if (order === 'XYZ') {\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\n        if (Math.abs(m[8]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[2] = Math.atan2(-m[4], m[0]);\n        } else {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[2] = 0;\n        }\n    } else if (order === 'YXZ') {\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\n        if (Math.abs(m[9]) < 0.99999) {\n            out[1] = Math.atan2(m[8], m[10]);\n            out[2] = Math.atan2(m[1], m[5]);\n        } else {\n            out[1] = Math.atan2(-m[2], m[0]);\n            out[2] = 0;\n        }\n    } else if (order === 'ZXY') {\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\n        if (Math.abs(m[6]) < 0.99999) {\n            out[1] = Math.atan2(-m[2], m[10]);\n            out[2] = Math.atan2(-m[4], m[5]);\n        } else {\n            out[1] = 0;\n            out[2] = Math.atan2(m[1], m[0]);\n        }\n    } else if (order === 'ZYX') {\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\n        if (Math.abs(m[2]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[10]);\n            out[2] = Math.atan2(m[1], m[0]);\n        } else {\n            out[0] = 0;\n            out[2] = Math.atan2(-m[4], m[5]);\n        }\n    } else if (order === 'YZX') {\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\n        if (Math.abs(m[1]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[5]);\n            out[1] = Math.atan2(-m[2], m[0]);\n        } else {\n            out[0] = 0;\n            out[1] = Math.atan2(m[8], m[10]);\n        }\n    } else if (order === 'XZY') {\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\n        if (Math.abs(m[4]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[1] = Math.atan2(m[8], m[0]);\n        } else {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[1] = 0;\n        }\n    }\n\n    return out;\n}\n\n","import * as EulerFunc from './functions/EulerFunc.js';\nimport {Mat4} from './Mat4.js';\n\nconst tmpMat4 = new Mat4();\n\nexport class Euler extends Array {\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\n        super(x, y, z);\n        this.order = order;\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        this[0] = x;\n        this[1] = y;\n        this[2] = z;\n        this.onChange();\n        return this;\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        this.onChange();\n        return this;\n    }\n\n    reorder(order) {\n        this.order = order;\n        this.onChange();\n        return this;\n    }\n\n    fromRotationMatrix(m, order = this.order) {\n        EulerFunc.fromRotationMatrix(this, m, order);\n        return this;\n    }\n\n    fromQuaternion(q, order = this.order) {\n        tmpMat4.fromQuaternion(q);\n        return this.fromRotationMatrix(tmpMat4, order);\n    }\n}","import {Vec3} from '../math/Vec3.js';\nimport {Quat} from '../math/Quat.js';\nimport {Mat4} from '../math/Mat4.js';\nimport {Euler} from '../math/Euler.js';\n\nexport class Transform {\n    constructor() {\n        this.parent = null;\n        this.children = [];\n        this.visible = true;\n\n        this.matrix = new Mat4();\n        this.worldMatrix = new Mat4();\n        this.matrixAutoUpdate = true;\n\n        this.position = new Vec3();\n        this.quaternion = new Quat();\n        this.scale = new Vec3(1);\n        this.rotation = new Euler();\n        this.up = new Vec3(0, 1, 0);\n\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    setParent(parent, notifyParent = true) {\n        if (notifyParent && this.parent && parent !== this.parent) this.parent.removeChild(this, false);\n        this.parent = parent;\n        if (notifyParent && parent) parent.addChild(this, false);\n    }\n\n    addChild(child, notifyChild = true) {\n        if (!~this.children.indexOf(child)) this.children.push(child);\n        if (notifyChild) child.setParent(this, false);\n    }\n\n    removeChild(child, notifyChild = true) {\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\n        if (notifyChild) child.setParent(null, false);\n    }\n\n    updateMatrixWorld(force) {\n        if (this.matrixAutoUpdate) this.updateMatrix();\n        if (this.worldMatrixNeedsUpdate || force) {\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\n            this.worldMatrixNeedsUpdate = false;\n            force = true;\n        }\n\n        for (let i = 0, l = this.children.length; i < l; i ++) {\n            this.children[i].updateMatrixWorld(force);\n        }\n    }\n\n    updateMatrix() {\n        this.matrix.compose(this.quaternion, this.position, this.scale);\n        this.worldMatrixNeedsUpdate = true;\n    }\n\n    traverse(callback) {\n\n        // Return true in callback to stop traversing children\n        if (callback(this)) return;\n        for (let i = 0, l = this.children.length; i < l; i ++) {\n            this.children[i].traverse(callback);\n        }\n    }\n\n    decompose() {\n        this.matrix.getTranslation(this.position);\n        this.matrix.getRotation(this.quaternion);\n        this.matrix.getScaling(this.scale);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    lookAt(target, invert = false) {\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\n        else this.matrix.lookAt(target, this.position, this.up);\n        this.matrix.getRotation(this.quaternion);\n        this.rotation.fromQuaternion(this.quaternion);\n    };\n}","import {Transform} from './Transform.js';\nimport {Mat4} from '../math/Mat4.js';\nimport {Vec3} from '../math/Vec3.js';\n\nconst tempMat4 = new Mat4();\nconst tempVec3a = new Vec3();\nconst tempVec3b = new Vec3();\n\nexport class Camera extends Transform {\n    constructor(gl, {\n        near = 0.1,\n        far = 100,\n        fov = 45,\n        aspect = 1,\n        left,\n        right,\n        bottom,\n        top,\n        zoom = 1,\n    } = {}) {\n        super();\n\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\n\n        this.projectionMatrix = new Mat4();\n        this.viewMatrix = new Mat4();\n        this.projectionViewMatrix = new Mat4();\n        this.worldPosition = new Vec3();\n\n        // Use orthographic if left/right set, else default to perspective camera\n        this.type = left || right ? 'orthographic' : 'perspective';\n        \n        if (this.type === 'orthographic') this.orthographic();\n        else this.perspective();\n    }\n\n    perspective({\n        near = this.near,\n        far = this.far,\n        fov = this.fov,\n        aspect = this.aspect,\n    } = {}) {\n        Object.assign(this, { near, far, fov, aspect });\n        this.projectionMatrix.fromPerspective({fov: fov * (Math.PI / 180), aspect, near, far});\n        this.type = 'perspective';\n        return this;\n    }\n\n    orthographic({\n        near = this.near,\n        far = this.far,\n        left = this.left,\n        right = this.right,\n        bottom = this.bottom,\n        top = this.top,\n        zoom = this.zoom,\n    } = {}) {\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\n        left /= zoom;\n        right /= zoom;\n        bottom /= zoom;\n        top /= zoom;\n        this.projectionMatrix.fromOrthogonal({left, right, bottom, top, near, far});\n        this.type = 'orthographic';\n        return this;\n    }\n\n    updateMatrixWorld() {\n        super.updateMatrixWorld();\n        this.viewMatrix.inverse(this.worldMatrix);\n        this.worldMatrix.getTranslation(this.worldPosition);\n        \n        // used for sorting\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\n        return this;\n    }\n\n    lookAt(target) {\n        super.lookAt(target, true);\n        return this;\n    }\n\n    // Project 3D coordinate to 2D point\n    project(v) {\n        v.applyMatrix4(this.viewMatrix);\n        v.applyMatrix4(this.projectionMatrix);\n        return this;\n    }\n\n    // Unproject 2D point to 3D coordinate\n    unproject(v) {\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\n        v.applyMatrix4(this.worldMatrix);\n        return this;\n    }\n\n    updateFrustum() {\n        if (!this.frustum) {\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\n        }\n\n        const m = this.projectionViewMatrix;\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\n\n        for (let i = 0; i < 6; i++) {\n            const invLen = 1.0 / this.frustum[i].distance();\n            this.frustum[i].multiply(invLen);\n            this.frustum[i].constant *= invLen;\n        }\n    }\n\n    frustumIntersectsMesh(node) {\n\n        // If no position attribute, treat as frustumCulled false\n        if (!node.geometry.attributes.position) return true;\n        \n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\n\n        if (!node.geometry.bounds) return true;\n\n        const center = tempVec3a;\n        center.copy(node.geometry.bounds.center);\n        center.applyMatrix4(node.worldMatrix);\n\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\n\n        return this.frustumIntersectsSphere(center, radius);\n    }\n\n    frustumIntersectsSphere(center, radius) {\n        const normal = tempVec3b;\n\n\t\tfor (let i = 0; i < 6; i++) {\n            const plane = this.frustum[i];\n            const distance = normal.copy(plane).dot(center) + plane.constant;\n\t\t\tif (distance < -radius) return false;\n\t\t}\n\t\treturn true;\n    }\n}","const EPSILON = 0.000001;\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n}\n\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0], y = q[1], z = q[2], w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m10;\n    out[4] = m11;\n    out[5] = m12;\n    out[6] = m20;\n    out[7] = m21;\n    out[8] = m22;\n    return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1], a02 = a[2], a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n    let a00 = a[0], a01 = a[1], a02 = a[2];\n    let a10 = a[3], a11 = a[4], a12 = a[5];\n    let a20 = a[6], a21 = a[7], a22 = a[8];\n\n    let b01 = a22 * a11 - a12 * a21;\n    let b11 = -a22 * a10 + a12 * a20;\n    let b21 = a21 * a10 - a11 * a20;\n\n    // Calculate the determinant\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0], a01 = a[1], a02 = a[2];\n    let a10 = a[3], a11 = a[4], a12 = a[5];\n    let a20 = a[6], a21 = a[7], a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0], a01 = a[1], a02 = a[2];\n    let a10 = a[3], a11 = a[4], a12 = a[5];\n    let a20 = a[6], a21 = a[7], a22 = a[8];\n\n    let b00 = b[0], b01 = b[1], b02 = b[2];\n    let b10 = b[3], b11 = b[4], b12 = b[5];\n    let b20 = b[6], b21 = b[7], b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n    let a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n        x = v[0], y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n    let a00 = a[0], a01 = a[1], a02 = a[2],\n        a10 = a[3], a11 = a[4], a12 = a[5],\n        a20 = a[6], a21 = a[7], a22 = a[8],\n\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0], y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {mat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\nexport function normalFromMat4(out, a) {\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    return out;\n}","import * as Mat3Func from './functions/Mat3Func.js';\n\nexport class Mat3 extends Array {\n    constructor(\n        m00 = 1, m01 = 0, m02 = 0, \n        m10 = 0, m11 = 1, m12 = 0, \n        m20 = 0, m21 = 0, m22 = 1\n    ) {\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n        if (m00.length) return this.copy(m00);\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat3Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, m = this) {\n        Mat3Func.rotate(this, m, v);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat3Func.scale(this, m, v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat3Func.multiply(this, ma, mb);\n        } else {\n            Mat3Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat3Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat3Func.copy(this, m);\n        return this;\n    }\n\n    fromMatrix4(m) {\n        Mat3Func.fromMat4(this, m);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat3Func.fromQuat(this, q);\n        return this;\n    }\n\n    fromBasis(vec3a, vec3b, vec3c) {\n        this.set(\n            vec3a[0],\n            vec3a[1],\n            vec3a[2],\n            vec3b[0],\n            vec3b[1],\n            vec3b[2],\n            vec3c[0],\n            vec3c[1],\n            vec3c[2]\n        );\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat3Func.invert(this, m);\n        return this;\n    }\n\n    getNormalMatrix(m) {\n        Mat3Func.normalFromMat4(this, m);\n        return this;\n    }\n}\n","import {Transform} from './Transform.js';\nimport {Mat3} from '../math/Mat3.js';\nimport {Mat4} from '../math/Mat4.js';\n\nlet ID = 0;\n\nexport class Mesh extends Transform {\n    constructor(gl, {\n        geometry,\n        program,\n        mode = gl.TRIANGLES,\n        frustumCulled = true,\n        renderOrder = 0,\n    } = {}) {\n        super();\n        if (!gl.canvas) console.error('gl not passed as fist argument to Mesh');\n        this.gl = gl;\n        this.id = ID++;\n\n        this.geometry = geometry;\n        this.program = program;\n        this.mode = mode;\n\n        // Used to skip frustum culling\n        this.frustumCulled = frustumCulled;\n\n        // Override sorting to force an order\n        this.renderOrder = renderOrder;\n\n        this.modelViewMatrix = new Mat4();\n        this.normalMatrix = new Mat3();\n\n        this.beforeRenderCallbacks = [];\n        this.afterRenderCallbacks = [];\n    }\n\n    onBeforeRender(f) {\n        this.beforeRenderCallbacks.push(f);\n        return this;\n    }\n\n    onAfterRender(f) {\n        this.afterRenderCallbacks.push(f);\n        return this;\n    }\n\n    draw({\n        camera,\n    } = {}) {\n        this.beforeRenderCallbacks.forEach(f => f && f({mesh: this, camera}));\n\n        // Set the matrix uniforms\n        if (camera) {\n\n            // Add empty matrix uniforms to program if unset\n            if (!this.program.uniforms.modelMatrix) {\n                Object.assign(this.program.uniforms, {\n                    modelMatrix: {value: null},\n                    viewMatrix: {value: null},\n                    modelViewMatrix: {value: null},\n                    normalMatrix: {value: null},\n                    projectionMatrix: {value: null},\n                    cameraPosition: {value: null},\n                });\n            }\n\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\n\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\n        }\n\n        // determine if faces need to be flipped - when mesh scaled negatively\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\n\n        this.program.use({flipFaces});\n        this.geometry.draw({mode: this.mode, program: this.program});\n\n        this.afterRenderCallbacks.forEach(f => f && f({mesh: this, camera}));\n    }\n}","// TODO: delete texture\n// TODO: use texSubImage2D for updates (video or when loaded)\n// TODO: need? encoding = linearEncoding\n// TODO: support non-compressed mipmaps uploads\n\nconst emptyPixel = new Uint8Array(4);\n\nfunction isPowerOf2(value) {\n    return (value & (value - 1)) === 0;\n}\n\nlet ID = 1;\n\nexport class Texture {\n    constructor(gl, {\n        image,\n        target = gl.TEXTURE_2D,\n        type = gl.UNSIGNED_BYTE,\n        format = gl.RGBA,\n        internalFormat = format,\n        wrapS = gl.CLAMP_TO_EDGE,\n        wrapT = gl.CLAMP_TO_EDGE,\n        generateMipmaps = true,\n        minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\n        magFilter = gl.LINEAR,\n        premultiplyAlpha = false,\n        unpackAlignment = 4,\n        flipY = target == gl.TEXTURE_2D ? true : false,\n        anisotropy = 0,\n        level = 0,\n        width, // used for RenderTargets or Data Textures\n        height = width,\n    } = {}) {\n        this.gl = gl;\n        this.id = ID++;\n\n        this.image = image;\n        this.target = target;\n        this.type = type;\n        this.format = format;\n        this.internalFormat = internalFormat;\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.generateMipmaps = generateMipmaps;\n        this.premultiplyAlpha = premultiplyAlpha;\n        this.unpackAlignment = unpackAlignment;\n        this.flipY = flipY;\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\n        this.level = level;\n        this.width = width;\n        this.height = height;\n        this.texture = this.gl.createTexture();\n        \n        this.store = {\n            image: null,\n        };\n        \n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // State store to avoid redundant calls for per-texture state\n        this.state = {};\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\n        this.state.magFilter = this.gl.LINEAR;\n        this.state.wrapS = this.gl.REPEAT;\n        this.state.wrapT = this.gl.REPEAT;\n        this.state.anisotropy = 0;\n    }\n\n    bind() {\n\n        // Already bound to active texture unit\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\n        this.gl.bindTexture(this.target, this.texture);\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\n    }\n\n    update(textureUnit = 0) {\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\n\n        // Make sure that texture is bound to its texture unit\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\n\n            // set active texture unit to perform texture functions\n            this.gl.renderer.activeTexture(textureUnit);\n            this.bind();\n        }\n\n        if (!needsUpdate) return;\n        this.needsUpdate = false;\n\n        if (this.flipY !== this.glState.flipY) {\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\n            this.glState.flipY = this.flipY;\n        }\n\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\n        }\n\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\n            this.glState.unpackAlignment = this.unpackAlignment;\n        }\n\n        if (this.minFilter !== this.state.minFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\n            this.state.minFilter = this.minFilter;\n        }\n\n        if (this.magFilter !== this.state.magFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\n            this.state.magFilter = this.magFilter;\n        }\n\n        if (this.wrapS !== this.state.wrapS) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\n            this.state.wrapS = this.wrapS;\n        }\n\n        if (this.wrapT !== this.state.wrapT) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\n            this.state.wrapT = this.wrapT;\n        }\n\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\n            this.gl.texParameterf(this.target, this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT, this.anisotropy);\n            this.state.anisotropy = this.anisotropy;\n        }\n\n        if (this.image) {\n            if (this.image.width) {\n                this.width = this.image.width;\n                this.height = this.image.height;\n            }\n            \n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n\n                // For cube maps\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, this.level, this.internalFormat, this.format, this.type, this.image[i]);\n                }\n            } else if (ArrayBuffer.isView(this.image)) {\n\n                // Data texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\n            } else if (this.image.isCompressedTexture) {\n\n                // Compressed texture\n                for (let level = 0; level < this.image.length; level++) {\n                    this.gl.compressedTexImage2D(this.target, level, this.internalFormat, this.image[level].width, this.image[level].height, 0, this.image[level].data);\n                }\n            } else {\n                \n                // Regular texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\n            }\n\n            if (this.generateMipmaps) {\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\n                    this.generateMipmaps = false;\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\n                    this.minFilter = this.gl.LINEAR;\n                } else {\n                    this.gl.generateMipmap(this.target);\n                }\n            }\n\n            // Callback for when data is pushed to GPU\n            this.onUpdate && this.onUpdate();\n        } else {\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\n                }\n            } else if (this.width) {\n\n                // image intentionally left null for RenderTarget\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\n            } else {\n\n                // Upload empty pixel if no image to avoid errors while image or video loading\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\n            }\n        }\n        this.store.image = this.image;\n    }\n}","// TODO: multi target rendering\n// TODO: test stencil and depth\n// TODO: destroy\n// TODO: blit on resize?\nimport {Texture} from './Texture.js';\n\nexport class RenderTarget {\n    constructor(gl, {\n        width = gl.canvas.width,\n        height = gl.canvas.height,\n        target = gl.FRAMEBUFFER,\n        color = 1, // number of color attachments\n        depth = true,\n        stencil = false,\n        depthTexture = false, // note - stencil breaks\n        wrapS = gl.CLAMP_TO_EDGE,\n        wrapT = gl.CLAMP_TO_EDGE,\n        minFilter = gl.LINEAR,\n        magFilter = minFilter,\n        type = gl.UNSIGNED_BYTE,\n        format = gl.RGBA,\n        internalFormat = format,\n        unpackAlignment,\n        premultiplyAlpha,\n    } = {}) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.depth = depth;\n        this.buffer = this.gl.createFramebuffer();\n        this.target = target;\n        this.gl.bindFramebuffer(this.target, this.buffer);\n\n        this.textures = [];\n        const drawBuffers = [];\n\n        // create and attach required num of color textures\n        for (let i = 0; i < color; i++) {\n            this.textures.push(new Texture(gl, {\n                width, height, \n                wrapS, wrapT, minFilter, magFilter, type, format, internalFormat, unpackAlignment, premultiplyAlpha,\n                flipY: false,\n                generateMipmaps: false,\n            }));\n            this.textures[i].update();\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\n        }\n\n        // For multi-render targets shader access\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\n\n        // alias for majority of use cases\n        this.texture = this.textures[0];\n\n        // note depth textures break stencil - so can't use together\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\n            this.depthTexture = new Texture(gl, {\n                width, height,\n                minFilter: this.gl.NEAREST,\n                magFilter: this.gl.NEAREST,\n                format: this.gl.DEPTH_COMPONENT,\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\n                type: this.gl.UNSIGNED_INT,\n            });\n            this.depthTexture.update();\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\n        } else {\n\n            // Render buffers\n            if (depth && !stencil) {\n                this.depthBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\n            }\n\n            if (stencil && !depth) {\n                this.stencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\n            }\n\n            if (depth && stencil) {\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\n            }\n        }\n\n        this.gl.bindFramebuffer(this.target, null);\n    }\n\n}","const NAMES\t= {\n    \"black\" : \"#000000\",\n    \"white\" : \"#ffffff\",\n    \"red\" : \"#ff0000\",\n    \"green\" : \"#00ff00\",\n    \"blue\" : \"#0000ff\",\n    \"fuchsia\" : \"#ff00ff\",\n    \"cyan\" : \"#00ffff\",\n    \"yellow\" : \"#ffff00\",\n    \"orange\" : \"#ff8000\",\n};\n\nexport function hexToRGB(hex) {\n    if (hex.length === 4) hex = hex[0] + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];\n    const rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!rgb) console.warn(`Unable to convert hex string ${hex} to rgb values`);\n    return [\n        parseInt(rgb[1], 16) / 255,\n        parseInt(rgb[2], 16) / 255,\n        parseInt(rgb[3], 16) / 255\n    ];\n}\n\nexport function numberToRGB(num) {\n    num = parseInt(num);\n    return [\n        (num >> 16 & 255) / 255,\n        (num >> 8 & 255) / 255,\n        (num & 255) / 255,\n    ]\n}\n\nexport function parseColor(color) {\n    \n    // Empty\n    if (color === undefined) return [0, 0, 0];\n\n    // Decimal\n    if (arguments.length === 3) return arguments;\n\n    // Number\n    if (!isNaN(color)) return numberToRGB(color);\n        \n    // Hex\n    if (color[0] === \"#\") return hexToRGB(color);\n\n    // Names\n    if (NAMES[color.toLowerCase()]) return hexToRGB(NAMES[color.toLowerCase()]);\n\n    console.warn('Color format not recognised');\n    return [0, 0, 0];\n}\n\n","import * as ColorFunc from './functions/ColorFunc.js';\n\n// Color stored as an array of RGB decimal values (between 0 > 1)\n// Constructor and set method accept following formats:\n// new Color() - Empty (defaults to black)\n// new Color([0.2, 0.4, 1.0]) - Decimal Array (or another Color instance)\n// new Color(0.7, 0.0, 0.1) - Decimal RGB values\n// new Color('#ff0000') - Hex string\n// new Color('#ccc') - Short-hand Hex string\n// new Color(0x4f27e8) - Number\n// new Color('red') - Color name string (short list in ColorFunc.js)\n\nexport class Color extends Array {\n    constructor(color) {\n        if (Array.isArray(color)) return super(...color);\n        return super(...ColorFunc.parseColor(...arguments));\n    }\n\n    get r() {\n        return this[0];\n    }\n\n    get g() {\n        return this[1];\n    }\n\n    get b() {\n        return this[2];\n    }\n\n    set r(v) {\n        this[0] = v;\n    }\n\n    set g(v) {\n        this[1] = v;\n    }\n\n    set b(v) {\n        this[2] = v;\n    }\n\n    set(color) {\n        if (Array.isArray(color)) return this.copy(color);\n        return this.copy(ColorFunc.parseColor(...arguments));\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        return this;\n    }\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nexport function set(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n};\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n};\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n};\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x * x + y * y);\n};\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x * x + y * y;\n};\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x * x + y * y);\n};\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    var x = a[0],\n        y = a[1];\n    return x * x + y * y;\n};\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n};\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    return out;\n};\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nexport function normalize(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x * x + y * y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    return out;\n};\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n};\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product returns a scalar\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} cross product of a and b\n */\nexport function cross(a, b) {\n    return a[0] * b[1] - a[1] * b[0];\n};\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nexport function lerp(out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2d(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat3(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n};\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0];\n    let y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}","import * as Vec2Func from './functions/Vec2Func.js';\n\nexport class Vec2 extends Array {\n    constructor(x = 0, y = x) {\n        super(x, y);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n    \n    get y() {\n        return this[1];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set(x, y = x) {\n        if (x.length) return this.copy(x);\n        Vec2Func.set(this, x, y);\n        return this;\n    }\n\n    copy(v) {\n        Vec2Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec2Func.add(this, va, vb);\n        else Vec2Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec2Func.subtract(this, va, vb);\n        else Vec2Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec2Func.multiply(this, this, v);\n        else Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec2Func.divide(this, this, v);\n        else Vec2Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec2Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec2Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec2Func.distance(this, v);\n        else return Vec2Func.length(this);\n    }\n\n    squaredLen() {\n        return this.squaredDistance();\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec2Func.squaredDistance(this, v);\n        else return Vec2Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec2Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if(vb) return Vec2Func.cross(va, vb);\n        return Vec2Func.cross(this, va);\n    }\n\n    scale(v) {\n        Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec2Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec2Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec2Func.exactEquals(this, v);\n    }\n\n    applyMatrix3(mat3) {\n        Vec2Func.transformMat3(this, this, mat3);\n        return this;\n    }\n\n    applyMatrix4(mat4) {\n        Vec2Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    lerp(v, a) {\n        Vec2Func.lerp(this, this, v, a);\n    }\n\n    clone() {\n        return new Vec2(this[0], this[1]);\n    }\n\n    fromArray(a, o = 0) {\n\t\tthis[0] = a[o];\n\t\tthis[1] = a[o + 1];\n\t\treturn this;\n    }\n    \n\ttoArray(a = [], o = 0) {\n\t\ta[o] = this[0];\n\t\ta[o + 1] = this[1];\n\t\treturn a;\n\t}\n}\n","import * as Vec4Func from './functions/Vec4Func.js';\n\nexport class Vec4 extends Array {\n    constructor(x = 0, y = x, z = x, w = x) {\n        super(x, y, z, w);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set w(v) {\n        this[3] = v;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        Vec4Func.set(this, x, y, z, w);\n        return this;\n    }\n\n    copy(v) {\n        Vec4Func.copy(this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec4Func.normalize(this, this);\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n\t\tthis[0] = a[o];\n\t\tthis[1] = a[o + 1];\n\t\tthis[2] = a[o + 2];\n\t\tthis[3] = a[o + 3];\n\t\treturn this;\n    }\n    \n\ttoArray(a = [], o = 0) {\n\t\ta[o] = this[0];\n\t\ta[o + 1] = this[1];\n\t\ta[o + 2] = this[2];\n\t\ta[o + 3] = this[3];\n\t\treturn a;\n\t}\n}\n","import {Geometry} from '../core/Geometry.js';\n\nexport class Plane extends Geometry {\n    constructor(gl, {\n        width = 1, \n        height = 1, \n        widthSegments = 1, \n        heightSegments = 1,\n        attributes = {},\n    } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n\n        // Determine length of arrays\n        const num = (wSegs + 1) * (hSegs + 1);\n        const numIndices = wSegs * hSegs * 6;\n\n        // Generate empty arrays once\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = (num > 65536) ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\n\n        Object.assign(attributes, {\n            position: {size: 3, data: position},\n            normal: {size: 3, data: normal},\n            uv: {size: 2, data: uv},\n            index: {data: index},\n        }); \n\n        super(gl, attributes);\n    }\n\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs,\n        u = 0, v = 1, w = 2,\n        uDir = 1, vDir = -1,\n        i = 0, ii = 0\n    ) {\n        const io = i;\n        const segW = width / wSegs;\n        const segH = height / hSegs;\n\n        for (let iy = 0; iy <= hSegs; iy++) {\n            let y = iy * segH - height / 2;\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\n                let x = ix * segW - width / 2;\n\n                position[i * 3 + u] = x * uDir;\n                position[i * 3 + v] = y * vDir;\n                position[i * 3 + w] = depth / 2;\n\n                normal[i * 3 + u] = 0;\n                normal[i * 3 + v] = 0;\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\n\n                uv[i * 2] = ix / wSegs;\n                uv[i * 2 + 1] = 1 - iy / hSegs;\n\n                if (iy === hSegs || ix === wSegs) continue;\n                let a = io + ix + iy * (wSegs + 1);\n                let b = io + ix + (iy + 1) * (wSegs + 1);\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\n                let d = io + ix + iy * (wSegs + 1) + 1;\n\n                index[ii * 6] = a;\n                index[ii * 6 + 1] = b;\n                index[ii * 6 + 2] = d;\n                index[ii * 6 + 3] = b;\n                index[ii * 6 + 4] = c;\n                index[ii * 6 + 5] = d;\n                ii++;\n            }\n        }\n    }\n}","import {Geometry} from '../core/Geometry.js';\nimport {Plane} from './Plane.js';\n\nexport class Box extends Geometry {\n    constructor(gl, {\n        width = 1, \n        height = 1, \n        depth = 1, \n        widthSegments = 1, \n        heightSegments = 1,\n        depthSegments = 1,\n        attributes = {},\n    } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n        const dSegs = depthSegments;\n\n        const num = (wSegs + 1) * (hSegs + 1) * 2 + (wSegs + 1) * (dSegs + 1) * 2 + (hSegs + 1) * (dSegs + 1) * 2;\n        const numIndices = (wSegs * hSegs * 2 + wSegs * dSegs * 2 + hSegs * dSegs * 2) * 6;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = (num > 65536) ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let ii = 0;\n\n        // left, right\n        Plane.buildPlane(position, normal, uv, index, depth, height,  width, dSegs, hSegs, 2, 1, 0, -1, -1, i, ii);\n        Plane.buildPlane(position, normal, uv, index, depth, height, -width, dSegs, hSegs, 2, 1, 0,  1, -1, i += (dSegs + 1) * (hSegs + 1), ii += dSegs * hSegs);\n\n        // top, bottom\n        Plane.buildPlane(position, normal, uv, index, width, depth,  height, dSegs, hSegs, 0, 2, 1,  1,  1, i += (dSegs + 1) * (hSegs + 1), ii += dSegs * hSegs);\n        Plane.buildPlane(position, normal, uv, index, width, depth, -height, dSegs, hSegs, 0, 2, 1,  1, -1, i += (wSegs + 1) * (dSegs + 1), ii += wSegs * dSegs);\n\n        // front, back\n        Plane.buildPlane(position, normal, uv, index, width, height, -depth, wSegs, hSegs, 0, 1, 2, -1, -1, i += (wSegs + 1) * (dSegs + 1), ii += wSegs * dSegs);\n        Plane.buildPlane(position, normal, uv, index, width, height,  depth, wSegs, hSegs, 0, 1, 2,  1, -1, i += (wSegs + 1) * (hSegs + 1), ii += wSegs * hSegs);\n\n        Object.assign(attributes, {\n            position: {size: 3, data: position},\n            normal: {size: 3, data: normal},\n            uv: {size: 2, data: uv},\n            index: {data: index},\n        }); \n\n        super(gl, attributes);\n    }\n}","import {Geometry} from '../core/Geometry.js';\nimport {Vec3} from '../math/Vec3.js';\n\nexport class Sphere extends Geometry {\n    constructor(gl, {\n        radius = 0.5, \n        widthSegments = 16, \n        heightSegments = Math.ceil(widthSegments * 0.5), \n        phiStart = 0, \n        phiLength = Math.PI * 2, \n        thetaStart = 0, \n        thetaLength = Math.PI,\n        attributes = {},\n    } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n        const pStart = phiStart;\n        const pLength = phiLength;\n        const tStart = thetaStart;\n        const tLength = thetaLength;\n\n        const num = (wSegs + 1) * (hSegs + 1);\n        const numIndices = wSegs * hSegs * 6 ;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = (num > 65536) ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let iv = 0;\n        let ii = 0;\n        let te = tStart + tLength;\n        const grid = [];\n\n        let n = new Vec3();\n\n        for (let iy = 0; iy <= hSegs; iy++) {\n            let vRow = [];\n            let v = iy / hSegs;\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\n                let u = ix / wSegs;\n                let x = -radius * Math.cos(pStart + u * pLength) * Math.sin(tStart + v * tLength);\n                let y = radius * Math.cos(tStart + v * tLength);\n                let z = radius * Math.sin(pStart + u * pLength) * Math.sin(tStart + v * tLength);\n\n                position[i * 3]     = x;\n                position[i * 3 + 1] = y;\n                position[i * 3 + 2] = z;\n\n                n.set(x, y, z).normalize();\n                normal[i * 3]     = n.x;\n                normal[i * 3 + 1] = n.y;\n                normal[i * 3 + 2] = n.z;\n\n                uv[i * 2]     = u;\n                uv[i * 2 + 1] = 1 - v;\n\n                vRow.push(iv++);\n            }\n\n            grid.push(vRow);\n        }\n\n        for (let iy = 0; iy < hSegs; iy++) {\n            for (let ix = 0; ix < wSegs; ix++) {\n                let a = grid[iy][ix + 1];\n                let b = grid[iy][ix];\n                let c = grid[iy + 1][ix];\n                let d = grid[iy + 1][ix + 1];\n\n                if (iy !== 0 || tStart > 0) {\n                    index[ii * 3]     = a;\n                    index[ii * 3 + 1] = b;\n                    index[ii * 3 + 2] = d;\n                    ii++;\n                }\n                if (iy !== hSegs - 1 || te < Math.PI) {\n                    index[ii * 3]     = b;\n                    index[ii * 3 + 1] = c;\n                    index[ii * 3 + 2] = d;\n                    ii++;\n                }\n            }\n        }\n\n        Object.assign(attributes, {\n            position: {size: 3, data: position},\n            normal: {size: 3, data: normal},\n            uv: {size: 2, data: uv},\n            index: {data: index},\n        }); \n\n        super(gl, attributes);\n    }\n}","import {Geometry} from '../core/Geometry.js';\nimport {Vec3} from '../math/Vec3.js';\n\nexport class Cylinder extends Geometry {\n    constructor(gl, {\n        radiusTop = 0.5,\n        radiusBottom = 0.5,\n        height = 1,\n        radialSegments = 8,\n        heightSegments = 1,\n        openEnded = false,\n        thetaStart = 0,\n        thetaLength = Math.PI * 2,\n        attributes = {},\n    } = {}) {\n        const rSegs = radialSegments;\n        const hSegs = heightSegments;\n        const tStart = thetaStart;\n        const tLength = thetaLength;\n\n        const numCaps = openEnded ? 0 : radiusBottom && radiusTop ? 2 : 1;\n        const num = (rSegs + 1) * (hSegs + 1 + numCaps) + numCaps;\n        const numIndices = rSegs * hSegs * 6 + numCaps * rSegs * 3;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let ii = 0;\n        const indexArray = [];\n\n        addHeight();\n        if (!openEnded) {\n            if (radiusTop) addCap(true);\n            if (radiusBottom) addCap(false);\n        }\n\n        function addHeight() {\n            let x, y;\n            const n = new Vec3();\n            const slope = (radiusBottom - radiusTop) / height;\n\n            for (y = 0; y <= hSegs; y++) {\n                const indexRow = [];\n                const v = y / hSegs;\n\n                const r = v * (radiusBottom - radiusTop) + radiusTop;\n                for (x = 0; x <= rSegs; x++) {\n                    const u = x / rSegs;\n                    const theta = u * tLength + tStart;\n                    const sinTheta = Math.sin(theta);\n                    const cosTheta = Math.cos(theta);\n\n                    position.set([r * sinTheta, (0.5 - v) * height, r * cosTheta], i * 3);\n                    n.set(sinTheta, slope, cosTheta).normalize();\n                    normal.set([n.x, n.y, n.z], i * 3);\n                    uv.set([u, 1 - v], i * 2);\n                    indexRow.push(i++);\n                }\n                indexArray.push(indexRow);\n            }\n\n            for (x = 0; x < rSegs; x++) {\n                for (y = 0; y < hSegs; y++) {\n                    const a = indexArray[y][x];\n                    const b = indexArray[y + 1][x];\n                    const c = indexArray[y + 1][x + 1];\n                    const d = indexArray[y][x + 1];\n\n                    index.set([a, b, d, b, c, d], ii * 3);\n                    ii += 2;\n                }\n            }\n        }\n\n        function addCap(isTop) {\n            let x;\n            const r = isTop === true ? radiusTop : radiusBottom;\n            const sign = isTop === true ? 1 : -1;\n\n            const centerIndex = i;\n            position.set([0, 0.5 * height * sign, 0], i * 3);\n            normal.set([0, sign, 0], i * 3)\n            uv.set([0.5, 0.5], i * 2);\n            i++;\n\n            for (x = 0; x <= rSegs; x++) {\n                const u = x / rSegs;\n                const theta = u * tLength + tStart;\n                const cosTheta = Math.cos(theta);\n                const sinTheta = Math.sin(theta);\n\n                position.set([r * sinTheta, 0.5 * height * sign, r * cosTheta], i * 3);\n                normal.set([0, sign, 0], i * 3);\n                uv.set([cosTheta * 0.5 + 0.5, sinTheta * 0.5 * sign + 0.5], i * 2);\n                i++;\n            }\n\n            for (x = 0; x < rSegs; x++) {\n                const j = centerIndex + x + 1;\n                if (isTop) {\n                    index.set([j, j + 1, centerIndex], ii * 3);\n                } else {\n                    index.set([j + 1, j, centerIndex], ii * 3);\n                }\n                ii++;\n            }\n        }\n\n        Object.assign(attributes, {\n            position: {size: 3, data: position},\n            normal: {size: 3, data: normal},\n            uv: {size: 2, data: uv},\n            index: {data: index},\n        });\n\n        super(gl, attributes);\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\n\nexport class Triangle extends Geometry {\n    constructor(gl, {\n        attributes = {},\n    } = {}) {\n\n        Object.assign(attributes, {\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\n        });\n\n        super(gl, attributes);\n    }\n}\n","// Based from ThreeJS' OrbitControls class, rewritten using es6 with some additions and subtractions.\n// TODO: abstract event handlers so can be fed from other sources\n// TODO: make scroll zoom more accurate than just >/< zero\n// TODO: be able to pass in new camera position\n\nimport {Vec3} from '../math/Vec3.js';\nimport {Vec2} from '../math/Vec2.js';\n\nconst STATE = {NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, DOLLY_PAN: 3};\nconst tempVec3 = new Vec3();\nconst tempVec2a = new Vec2();\nconst tempVec2b = new Vec2();\n\nexport function Orbit(object, {\n    element = document,\n    enabled = true,\n    target = new Vec3(),\n    ease = 0.25,\n    inertia = 0.85,\n    enableRotate = true,\n    rotateSpeed = 0.1,\n    enableZoom = true,\n    zoomSpeed = 1,\n    enablePan = true,\n    panSpeed = 0.1,\n    minPolarAngle = 0,\n    maxPolarAngle = Math.PI,\n    minAzimuthAngle = -Infinity,\n    maxAzimuthAngle = Infinity,\n    minDistance = 0,\n    maxDistance = Infinity,\n} = {}) {\n    this.enabled = enabled;\n    this.target = target;\n\n    // Catch attempts to disable - set to 1 so has no effect\n    ease = ease || 1;\n    inertia = inertia || 1;\n\n    this.minDistance = minDistance;\n    this.maxDistance = maxDistance;\n\n    // current position in sphericalTarget coordinates\n    const sphericalDelta = {radius: 1, phi: 0, theta: 0};\n    const sphericalTarget = {radius: 1, phi: 0, theta: 0};\n    const spherical = {radius: 1, phi: 0, theta: 0};\n    const panDelta = new Vec3();\n\n    // Grab initial position values\n    const offset = new Vec3();\n    offset.copy(object.position).sub(this.target);\n    spherical.radius = sphericalTarget.radius = offset.distance();\n    spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n    spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n\n    this.update = () => {\n\n        // apply delta\n        sphericalTarget.radius *= sphericalDelta.radius;\n        sphericalTarget.theta += sphericalDelta.theta;\n        sphericalTarget.phi += sphericalDelta.phi;\n\n        // apply boundaries\n        sphericalTarget.theta = Math.max(minAzimuthAngle, Math.min(maxAzimuthAngle, sphericalTarget.theta));\n        sphericalTarget.phi = Math.max(minPolarAngle, Math.min(maxPolarAngle, sphericalTarget.phi));\n        sphericalTarget.radius = Math.max(this.minDistance, Math.min(this.maxDistance, sphericalTarget.radius));\n\n        // ease values\n        spherical.phi += (sphericalTarget.phi - spherical.phi) * ease;\n        spherical.theta += (sphericalTarget.theta - spherical.theta) * ease;\n        spherical.radius += (sphericalTarget.radius - spherical.radius) * ease;\n\n        // apply pan to target. As offset is relative to target, it also shifts\n        this.target.add(panDelta);\n\n        // apply rotation to offset\n        let sinPhiRadius = spherical.radius * Math.sin(Math.max(0.000001, spherical.phi));\n        offset.x = sinPhiRadius * Math.sin(spherical.theta);\n        offset.y = spherical.radius * Math.cos(spherical.phi);\n        offset.z = sinPhiRadius * Math.cos(spherical.theta);\n\n        // Apply updated values to object\n        object.position.copy(this.target).add(offset);\n        object.lookAt(this.target);\n\n        // Apply inertia to values\n        sphericalDelta.theta *= inertia;\n        sphericalDelta.phi *= inertia;\n        panDelta.multiply(inertia);\n\n        // Reset scale every frame to avoid applying scale multiple times\n        sphericalDelta.radius = 1;\n    };\n\n\n\n    // Everything below here just updates panDelta and sphericalDelta\n    // Using those two objects' values, the orbit is calculated\n\n\n\n    const rotateStart = new Vec2();\n    const panStart = new Vec2();\n    const dollyStart = new Vec2();\n\n    let state = STATE.NONE;\n    this.mouseButtons = {ORBIT: 0, ZOOM: 1, PAN: 2};\n\n    function getZoomScale() {\n        return Math.pow(0.95, zoomSpeed);\n    }\n\n    function panLeft(distance, m) {\n        tempVec3.set(m[0], m[1], m[2]);\n        tempVec3.multiply(-distance);\n        panDelta.add(tempVec3);\n    }\n\n    function panUp(distance, m) {\n        tempVec3.set(m[4], m[5], m[6]);\n        tempVec3.multiply(distance);\n        panDelta.add(tempVec3);\n    }\n\n    const pan = (deltaX, deltaY) => {\n        let el = element === document ? document.body : element;\n        tempVec3.copy(object.position).sub(this.target);\n        let targetDistance = tempVec3.distance();\n        targetDistance *= Math.tan(((object.fov || 45) / 2) * Math.PI / 180.0);\n        panLeft(2 * deltaX * targetDistance / el.clientHeight, object.matrix);\n        panUp(2 * deltaY * targetDistance / el.clientHeight, object.matrix);\n    };\n\n    function dolly(dollyScale) {\n        sphericalDelta.radius /= dollyScale;\n    }\n\n    function handleMoveRotate(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, rotateStart).multiply(rotateSpeed);\n        let el = element === document ? document.body : element;\n        sphericalDelta.theta -= 2 * Math.PI * tempVec2b.x / el.clientHeight;\n        sphericalDelta.phi -= 2 * Math.PI * tempVec2b.y / el.clientHeight;\n        rotateStart.copy(tempVec2a);\n    }\n\n    function handleMouseMoveDolly(e) {\n        tempVec2a.set(e.clientX, e.clientY);\n        tempVec2b.sub(tempVec2a, dollyStart);\n        if (tempVec2b.y > 0) {\n            dolly(getZoomScale());\n        } else if (tempVec2b.y < 0) {\n            dolly(1 / getZoomScale());\n        }\n        dollyStart.copy(tempVec2a);\n    }\n\n    function handleMovePan(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, panStart).multiply(panSpeed);\n        pan(tempVec2b.x, tempVec2b.y);\n        panStart.copy(tempVec2a);\n    }\n\n    function handleTouchStartDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            dollyStart.set(0, distance);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            panStart.set(x, y);\n        }\n    }\n\n    function handleTouchMoveDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            tempVec2a.set(0, distance);\n            tempVec2b.set(0, Math.pow(tempVec2a.y / dollyStart.y, zoomSpeed));\n            dolly(tempVec2b.y);\n            dollyStart.copy(tempVec2a);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            handleMovePan(x, y);\n        }\n    }\n\n    const onMouseDown = (e) => {\n        if (!this.enabled) return;\n\n        switch (e.button) {\n            case this.mouseButtons.ORBIT:\n                if (enableRotate === false) return;\n                rotateStart.set(e.clientX, e.clientY);\n                state = STATE.ROTATE;\n                break;\n            case this.mouseButtons.ZOOM:\n                if (enableZoom === false) return;\n                dollyStart.set(e.clientX, e.clientY);\n                state = STATE.DOLLY;\n                break;\n            case this.mouseButtons.PAN:\n                if (enablePan === false) return;\n                panStart.set(e.clientX, e.clientY);\n                state = STATE.PAN;\n                break;\n        }\n\n        if (state !== STATE.NONE) {\n            window.addEventListener('mousemove', onMouseMove, false);\n            window.addEventListener('mouseup', onMouseUp, false);\n        }\n    };\n\n    const onMouseMove = (e) => {\n        if (!this.enabled) return;\n\n        switch (state) {\n            case STATE.ROTATE:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.clientX, e.clientY);\n                break;\n            case STATE.DOLLY:\n                if (enableZoom === false) return;\n                handleMouseMoveDolly(e);\n                break;\n            case STATE.PAN:\n                if (enablePan === false) return;\n                handleMovePan(e.clientX, e.clientY);\n                break;\n        }\n    };\n\n    const onMouseUp = () => {\n        window.removeEventListener('mousemove', onMouseMove, false);\n        window.removeEventListener('mouseup', onMouseUp, false);\n        state = STATE.NONE;\n    };\n\n    const onMouseWheel = (e) => {\n        if (!this.enabled || !enableZoom || (state !== STATE.NONE && state !== STATE.ROTATE)) return;\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.deltaY < 0) {\n            dolly(1 / getZoomScale());\n        } else if (e.deltaY > 0) {\n            dolly(getZoomScale());\n        }\n    };\n\n    const onTouchStart = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                rotateStart.set(e.touches[0].pageX, e.touches[0].pageY);\n                state = STATE.ROTATE;\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchStartDollyPan(e);\n                state = STATE.DOLLY_PAN;\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchMove = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n        e.stopPropagation();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.touches[0].pageX, e.touches[0].pageY);\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchMoveDollyPan(e);\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchEnd = () => {\n        if (!this.enabled) return;\n        state = STATE.NONE;\n    };\n\n    const onContextMenu = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n    };\n\n    function addHandlers() {\n        element.addEventListener('contextmenu', onContextMenu, false);\n        element.addEventListener('mousedown', onMouseDown, false);\n        element.addEventListener('wheel', onMouseWheel, {passive: false});\n        element.addEventListener('touchstart', onTouchStart, {passive: false});\n        element.addEventListener('touchend', onTouchEnd, false);\n        element.addEventListener('touchmove', onTouchMove, {passive: false});\n    }\n\n    this.remove = function() {\n        element.removeEventListener('contextmenu', onContextMenu);\n        element.removeEventListener('mousedown', onMouseDown);\n        element.removeEventListener('wheel', onMouseWheel);\n        element.removeEventListener('touchstart', onTouchStart);\n        element.removeEventListener('touchend', onTouchEnd);\n        element.removeEventListener('touchmove', onTouchMove);\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n    };\n\n    addHandlers();\n}","// TODO: add barycentric ?\n\nimport {Vec3} from '../math/Vec3.js';\nimport {Mat4} from '../math/Mat4.js';\n\nconst tempVec3a = new Vec3();\nconst tempVec3b = new Vec3();\nconst tempVec3c = new Vec3();\nconst tempMat4 = new Mat4();\n\nexport class Raycast {\n    constructor(gl) {\n        this.gl = gl;\n\n        this.origin = new Vec3();\n        this.direction = new Vec3();\n    }\n\n    // Set ray from mouse unprojection\n    castMouse(camera, mouse = [0, 0]) {\n        if (camera.type === 'orthographic') {\n            // Set origin\n            // Since camera is orthographic, origin is not the camera position\n            const {left, right, bottom, top, zoom} = camera;\n            const x = left / zoom + (right - left) / zoom * (mouse[0] * .5 + .5);\n            const y = bottom / zoom + (top - bottom) / zoom * (mouse[1] * .5 + .5);\n            this.origin.set(x, y, 0);\n            this.origin.applyMatrix4(camera.worldMatrix);\n\n            // Set direction\n            // https://community.khronos.org/t/get-direction-from-transformation-matrix-or-quat/65502/2\n            this.direction.x = -camera.worldMatrix[8];\n            this.direction.y = -camera.worldMatrix[9];\n            this.direction.z = -camera.worldMatrix[10];\n        } else {\n            // Set origin\n            camera.worldMatrix.getTranslation(this.origin);\n\n            // Set direction\n            this.direction.set(mouse[0], mouse[1], 0.5);\n            camera.unproject(this.direction);\n            this.direction.sub(this.origin).normalize();\n        }\n    }\n\n    intersectBounds(meshes) {\n        if (!Array.isArray(meshes)) meshes = [meshes];\n\n        const invWorldMat4 = tempMat4;\n        const origin = tempVec3a;\n        const direction = tempVec3b;\n\n        const hits = [];\n\n        meshes.forEach(mesh => {\n\n            // Create bounds\n            if (!mesh.geometry.bounds) mesh.geometry.computeBoundingBox();\n            if (mesh.geometry.raycast === 'sphere' && mesh.geometry.bounds.radius === Infinity) mesh.geometry.computeBoundingSphere();\n\n            // Take world space ray and make it object space to align with bounding box\n            invWorldMat4.inverse(mesh.worldMatrix);\n            origin.copy(this.origin).applyMatrix4(invWorldMat4);\n            direction.copy(this.direction).transformDirection(invWorldMat4);\n\n            let localDistance = 0;\n            if (mesh.geometry.raycast === 'sphere') {\n                localDistance = this.intersectSphere(mesh.geometry.bounds, origin, direction);\n            } else {\n                localDistance = this.intersectBox(mesh.geometry.bounds, origin, direction);\n            }\n            if (!localDistance) return;\n\n            // Create object on mesh to avoid generating lots of objects\n            if (!mesh.hit) mesh.hit = {localPoint: new Vec3(), point: new Vec3()};\n\n            mesh.hit.localPoint.copy(direction).multiply(localDistance).add(origin);\n            mesh.hit.point.copy(mesh.hit.localPoint).applyMatrix4(mesh.worldMatrix);\n            mesh.hit.distance = mesh.hit.point.distance(this.origin);\n\n            hits.push(mesh);\n        });\n\n        hits.sort((a, b) => a.hit.distance - b.hit.distance);\n        return hits;\n    }\n\n    intersectSphere(sphere, origin = this.origin, direction = this.direction) {\n        const ray = tempVec3c;\n        ray.sub(sphere.center, origin);\n        const tca = ray.dot(direction);\n        const d2 = ray.dot(ray) - tca * tca;\n        const radius2 = sphere.radius * sphere.radius;\n\n        if (d2 > radius2) return 0;\n\n        const thc = Math.sqrt(radius2 - d2);\n        const t0 = tca - thc;\n        const t1 = tca + thc;\n\n        if (t0 < 0 && t1 < 0) return 0;\n\n        if (t0 < 0) return t1;\n\n        return t0;\n    }\n\n    // Ray AABB - Ray Axis aligned bounding box testing\n    intersectBox(box, origin = this.origin, direction = this.direction) {\n        let tmin, tmax, tYmin, tYmax, tZmin, tZmax;\n    \n        const invdirx = 1 / direction.x;\n        const invdiry = 1 / direction.y;\n        const invdirz = 1 / direction.z;\n    \n        const min = box.min;\n        const max = box.max;\n\n        tmin = ((invdirx >= 0 ? min.x : max.x) - origin.x) * invdirx;\n        tmax = ((invdirx >= 0 ? max.x : min.x) - origin.x) * invdirx;\n\n        tYmin = ((invdiry >= 0 ? min.y : max.y) - origin.y) * invdiry;\n        tYmax = ((invdiry >= 0 ? max.y : min.y) - origin.y) * invdiry;\n    \n        if ((tmin > tYmax) || (tYmin > tmax)) return 0;\n    \n        if (tYmin > tmin) tmin = tYmin;\n        if (tYmax < tmax) tmax = tYmax;\n    \n        tZmin = ((invdirz >= 0 ? min.z : max.z) - origin.z) * invdirz;\n        tZmax = ((invdirz >= 0 ? max.z : min.z) - origin.z) * invdirz;\n    \n        if ((tmin > tZmax) || (tZmin > tmax)) return 0;\n        if (tZmin > tmin) tmin = tZmin;\n        if (tZmax < tmax) tmax = tZmax;\n    \n        if (tmax < 0) return 0;\n\n        return tmin >= 0 ? tmin : tmax;\n    }\n}\n\n\n\n","import {Vec3} from '../math/Vec3.js';\n\nconst CATMULLROM = 'catmullrom';\nconst CUBICBEZIER = 'cubicbezier';\nconst QUADRATICBEZIER = 'quadraticbezier';\n\n// temp\nconst _a0 = new Vec3(),\n  _a1 = new Vec3(),\n  _a2 = new Vec3(),\n  _a3 = new Vec3();\n\n/**\n * Get the control points of cubic bezier curve.\n * @param {*} i\n * @param {*} a\n * @param {*} b\n */\nfunction getCtrlPoint(points, i, a = 0.168, b = 0.168) {\n  if (i < 1) {\n    _a0.sub(points[1], points[0]).scale(a).add(points[0]);\n  } else {\n    _a0.sub(points[i + 1], points[i - 1]).scale(a).add(points[i]);\n  }\n  if (i > points.length - 3) {\n    const last = points.length - 1;\n    _a1.sub(points[last - 1], points[last]).scale(b).add(points[last]);\n  } else {\n    _a1.sub(points[i], points[i + 2]).scale(b).add(points[i + 1]);\n  }\n  return [_a0.clone(), _a1.clone()];\n}\n\nfunction getQuadraticBezierPoint(t, p0, c0, p1) {\n  const k = 1 - t;\n  _a0.copy(p0).scale(k ** 2);\n  _a1.copy(c0).scale(2 * k * t);\n  _a2.copy(p1).scale(t ** 2);\n  const ret = new Vec3();\n  ret.add(_a0, _a1).add(_a2);\n  return ret;\n}\n\nfunction getCubicBezierPoint(t, p0, c0, c1, p1) {\n  const k = 1 - t;\n  _a0.copy(p0).scale(k ** 3);\n  _a1.copy(c0).scale(3 * k ** 2 * t);\n  _a2.copy(c1).scale(3 * k * t ** 2);\n  _a3.copy(p1).scale(t ** 3);\n  const ret = new Vec3();\n  ret.add(_a0, _a1).add(_a2).add(_a3);\n  return ret;\n}\n\nexport class Curve {\n  constructor({\n    points = [ new Vec3(0, 0, 0),\n      new Vec3(0, 1, 0),\n      new Vec3(1, 1, 0),\n      new Vec3(1, 0, 0),\n    ],\n    divisions = 12,\n    type = CATMULLROM,\n  } = {}) {\n    this.points = points;\n    this.divisions = divisions;\n    this.type = type;\n  }\n\n  _getQuadraticBezierPoints(divisions = this.divisions) {\n    const points = [];\n    const count = this.points.length;\n\n    if (count < 3) {\n      console.warn('Not enough points provided.');\n      return [];\n    }\n\n    const p0 = this.points[0];\n    let c0 = this.points[1],\n      p1 = this.points[2];\n\n    for (let i = 0; i <= divisions; i++) {\n      const p = getQuadraticBezierPoint(i / divisions, p0, c0, p1);\n      points.push(p);\n    }\n\n    let offset = 3;\n    while (count - offset > 0) {\n      p0.copy(p1);\n      c0 = p1.scale(2).sub(c0);\n      p1 = this.points[offset];\n      for(let i = 1; i <= divisions; i++) {\n        const p = getQuadraticBezierPoint(i / divisions, p0, c0, p1);\n        points.push(p);\n      }\n      offset++;\n    }\n\n    return points;\n  }\n\n  _getCubicBezierPoints(divisions = this.divisions) {\n    const points = [];\n    const count = this.points.length;\n\n    if (count < 4) {\n      console.warn('Not enough points provided.');\n      return [];\n    }\n\n    let p0 = this.points[0],\n      c0 = this.points[1],\n      c1 = this.points[2],\n      p1 = this.points[3];\n    \n    for (let i = 0; i <= divisions; i++) {\n      const p = getCubicBezierPoint(i / divisions, p0, c0, c1, p1);\n      points.push(p);\n    }\n\n    let offset = 4;\n    while (count - offset > 1) {\n      p0.copy(p1);\n      c0 = p1.scale(2).sub(c1);\n      c1 = this.points[offset];\n      p1 = this.points[offset + 1];\n      for (let i = 1; i <= divisions; i++) {\n        const p = getCubicBezierPoint(i / divisions, p0, c0, c1, p1);\n        points.push(p);\n      }      \n      offset += 2;\n    }\n\n    return points;\n  }\n\n  _getCatmullRomPoints(divisions = this.divisions, a = 0.168, b = 0.168) {\n    const points = [];\n    const count = this.points.length;\n    \n    if(count <= 2) {\n      return this.points;\n    }\n    \n    let p0;\n    this.points.forEach((p, i) => {\n      if(i === 0) {\n        p0 = p;\n      } else {\n        const [c0, c1] = getCtrlPoint(this.points, i - 1, a, b);\n        const c = new Curve({\n          points: [p0, c0, c1, p],\n          type: CUBICBEZIER,\n        });\n        points.pop();\n        points.push(...c.getPoints(divisions));\n        p0 = p;\n      }\n    });\n\n    return points;\n  }\n\n  getPoints(divisions = this.divisions, a = 0.168, b = 0.168) {\n    const type = this.type;\n\n    if (type === QUADRATICBEZIER) {\n      return this._getQuadraticBezierPoints(divisions);\n    }\n\n    if (type === CUBICBEZIER) {\n      return this._getCubicBezierPoints(divisions);\n    }\n    \n    if (type === CATMULLROM) {\n      return this._getCatmullRomPoints(divisions, a, b);\n    }\n\n    return this.points;\n  }\n}\n\nCurve.CATMULLROM = CATMULLROM;\nCurve.CUBICBEZIER = CUBICBEZIER;\nCurve.QUADRATICBEZIER = QUADRATICBEZIER;\n","// TODO: Destroy render targets if size changed and exists\n\nimport {Program} from '../core/Program.js';\nimport {Mesh} from '../core/Mesh.js';\nimport {RenderTarget} from '../core/RenderTarget.js';\nimport {Triangle} from './Triangle.js';\n\nexport class Post {\n    constructor(gl, {\n        width,\n        height,\n        dpr,\n        wrapS = gl.CLAMP_TO_EDGE,\n        wrapT = gl.CLAMP_TO_EDGE,\n        minFilter = gl.LINEAR,\n        magFilter = gl.LINEAR,\n        geometry = new Triangle(gl),\n        targetOnly = null,\n    } = {}) {\n        this.gl = gl;\n\n        this.options = {wrapS, wrapT, minFilter, magFilter};\n\n        this.passes = [];\n\n        this.geometry = geometry;   \n\n        this.uniform = {value: null};\n        this.targetOnly = targetOnly;\n\n        const fbo = this.fbo = {\n            read: null,\n            write: null,\n            swap: () => {\n                let temp = fbo.read;\n                fbo.read = fbo.write;\n                fbo.write = temp;\n            },\n        };\n\n        this.resize({width, height, dpr});\n    }\n\n    addPass({\n        vertex = defaultVertex,\n        fragment = defaultFragment,\n        uniforms = {},\n        textureUniform = 'tMap',\n        enabled = true,\n    } = {}) {\n        uniforms[textureUniform] = {value: this.fbo.read.texture};\n\n        const program = new Program(this.gl, {vertex, fragment, uniforms});\n        const mesh = new Mesh(this.gl, {geometry: this.geometry, program});\n\n        const pass = {\n            mesh, \n            program,\n            uniforms,\n            enabled,\n            textureUniform,\n        };\n\n        this.passes.push(pass);\n        return pass;\n    }\n\n    resize({width, height, dpr} = {}) {\n        if (dpr) this.dpr = dpr;\n        if (width) {\n            this.width = width;\n            this.height = height || width;\n        }\n\n        dpr = this.dpr || this.gl.renderer.dpr;\n        width = (this.width || this.gl.renderer.width) * dpr;\n        height = (this.height || this.gl.renderer.height) * dpr;\n\n        this.options.width = width;\n        this.options.height = height;\n\n        this.fbo.read = new RenderTarget(this.gl, this.options);\n        this.fbo.write = new RenderTarget(this.gl, this.options);\n    }\n\n    // Uses same arguments as renderer.render\n    render({\n        scene,\n        camera,\n        target = null,\n        update = true,\n        sort = true,\n        frustumCull = true,\n    }) {\n        const enabledPasses = this.passes.filter(pass => pass.enabled);\n        \n        this.gl.renderer.render({\n            scene, camera,\n            target: enabledPasses.length || (!target && this.targetOnly) ? this.fbo.write : target,\n            update, sort, frustumCull,\n        });\n        this.fbo.swap();\n\n        enabledPasses.forEach((pass, i) => {\n            pass.mesh.program.uniforms[pass.textureUniform].value = this.fbo.read.texture;\n            this.gl.renderer.render({\n                scene: pass.mesh, \n                target: i === enabledPasses.length - 1 && (target || !this.targetOnly) ? target : this.fbo.write,\n                clear: i === enabledPasses.length - 1 ? true : false,\n            });\n            this.fbo.swap();\n        });\n\n        this.uniform.value = this.fbo.read.texture;\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n`;\n","import {Vec3} from '../math/Vec3.js';\nimport {Quat} from '../math/Quat.js';\n\nconst prevPos = new Vec3();\nconst prevRot = new Quat();\nconst prevScl = new Vec3();\n\nconst nextPos = new Vec3();\nconst nextRot = new Quat();\nconst nextScl = new Vec3();\n\nexport class Animation {\n    constructor({objects, data}) {\n        this.objects = objects;\n        this.data = data;\n        this.elapsed = 0;\n        this.weight = 1;\n        this.duration = data.frames.length - 1;\n    }\n\n    update(totalWeight = 1, isSet) {\n        const weight = isSet ? 1 : this.weight / totalWeight;\n        const elapsed = this.elapsed % this.duration;\n\n        const floorFrame = Math.floor(elapsed);\n        const blend = elapsed - floorFrame;\n        const prevKey = this.data.frames[floorFrame];\n        const nextKey = this.data.frames[(floorFrame + 1) % this.duration];\n\n        this.objects.forEach((object, i) => {\n            prevPos.fromArray(prevKey.position, i * 3)\n            prevRot.fromArray(prevKey.quaternion, i * 4);\n            prevScl.fromArray(prevKey.scale, i * 3);\n\n            nextPos.fromArray(nextKey.position, i * 3);\n            nextRot.fromArray(nextKey.quaternion, i * 4);\n            nextScl.fromArray(nextKey.scale, i * 3);\n\n            prevPos.lerp(nextPos, blend);\n            prevRot.slerp(nextRot, blend);\n            prevScl.lerp(nextScl, blend);\n\n            object.position.lerp(prevPos, weight);\n            object.quaternion.slerp(prevRot, weight);\n            object.scale.lerp(prevScl, weight);\n        });\n    }\n}","import {Mesh} from '../core/Mesh.js';\nimport {Transform} from '../core/Transform.js';\nimport {Mat4} from '../math/Mat4.js';\nimport {Texture} from '../core/Texture.js';\nimport {Animation} from './Animation.js';\n\nconst tempMat4 = new Mat4();\n\nexport class Skin extends Mesh {\n    constructor(gl, {\n        rig,\n        geometry,\n        program,\n        mode = gl.TRIANGLES,\n    } = {}) {\n        super(gl, {geometry, program, mode});\n\n        this.createBones(rig);\n        this.createBoneTexture();\n        this.animations = [];\n\n        Object.assign(this.program.uniforms, {\n            boneTexture: {value: this.boneTexture},\n            boneTextureSize: {value: this.boneTextureSize},\n        });\n    }\n\n    createBones(rig) {\n\n        // Create root so that can simply update world matrix of whole skeleton\n        this.root = new Transform();\n        \n        // Create bones\n        this.bones = [];\n        if (!rig.bones || !rig.bones.length) return;\n        for (let i = 0; i < rig.bones.length; i++) {\n            const bone = new Transform();\n\n            // Set initial values (bind pose)\n            bone.position.fromArray(rig.bindPose.position, i * 3)\n            bone.quaternion.fromArray(rig.bindPose.quaternion, i * 4);\n            bone.scale.fromArray(rig.bindPose.scale, i * 3);\n\n            this.bones.push(bone);\n        };\n        \n        // Once created, set the hierarchy\n        rig.bones.forEach((data, i) => {\n            this.bones[i].name = data.name;\n            if (data.parent === -1) return this.bones[i].setParent(this.root);\n            this.bones[i].setParent(this.bones[data.parent]);\n        });\n\n        // Then update to calculate world matrices\n        this.root.updateMatrixWorld(true);\n\n        // Store inverse of bind pose to calculate differences\n        this.bones.forEach(bone => {\n            bone.bindInverse = new Mat4(...bone.worldMatrix).inverse();\n        });\n    }\n\n    createBoneTexture() {\n        if (!this.bones.length) return;\n        const size = Math.max(4, Math.pow(2, Math.ceil(Math.log(Math.sqrt(this.bones.length * 4)) / Math.LN2)));\n        this.boneMatrices = new Float32Array(size * size * 4);\n        this.boneTextureSize = size;\n        this.boneTexture = new Texture(this.gl, {\n            image: this.boneMatrices,\n            generateMipmaps: false,\n            type: this.gl.FLOAT,\n            internalFormat: this.gl.renderer.isWebgl2 ? this.gl.RGBA16F : this.gl.RGBA,\n            flipY: false,\n            width: size,\n        });\n    }\n\n    addAnimation(data) {\n        const animation = new Animation({objects: this.bones, data});\n        this.animations.push(animation);\n        return animation;\n    }\n\n    update() {\n\n        // Calculate combined animation weight\n        let total = 0;\n        this.animations.forEach(animation => total += animation.weight);\n\n        this.animations.forEach((animation, i) => {\n\n            // force first animation to set in order to reset frame\n            animation.update(total, i === 0);\n        });\n    }\n\n    draw({\n        camera,\n    } = {}) {\n\n        // Update world matrices manually, as not part of scene graph\n        this.root.updateMatrixWorld(true);\n\n        // Update bone texture\n        this.bones.forEach((bone, i) => {\n\n            // Find difference between current and bind pose\n            tempMat4.multiply(bone.worldMatrix, bone.bindInverse);\n            this.boneMatrices.set(tempMat4, i * 16);\n        });\n        if (this.boneTexture) this.boneTexture.needsUpdate = true;\n\n        super.draw({camera});\n    }\n}\n","export function Text({\n    font,\n    text,\n    width = Infinity,\n    align = 'left',\n    size = 1,\n    letterSpacing = 0,\n    lineHeight = 1.4,\n    wordSpacing = 0,\n    wordBreak = false,\n}) {\n    const _this = this;\n    let glyphs, buffers;\n    let fontHeight, baseline, scale;\n\n    const newline = /\\n/;\n    const whitespace = /\\s/;\n\n    {\n        parseFont();\n        createGeometry();\n    }\n\n    function parseFont() {\n        glyphs = {};\n        font.chars.forEach(d => glyphs[d.char] = d);\n    }\n\n    function createGeometry() {\n        fontHeight = font.common.lineHeight;\n        baseline = font.common.base;\n\n        // Use baseline so that actual text height is as close to 'size' value as possible\n        scale = size / baseline;\n\n        // Strip spaces and newlines to get actual character length for buffers\n        let chars = text.replace(/[ \\n]/g, '');\n        let numChars = chars.length;\n\n        // Create output buffers\n        buffers = {\n            position: new Float32Array(numChars * 4 * 3),\n            uv: new Float32Array(numChars * 4 * 2),\n            id: new Float32Array(numChars * 4),\n            index: new Uint16Array(numChars * 6),\n        };\n\n        // Set values for buffers that don't require calculation\n        for (let i = 0; i < numChars; i++) {\n            buffers.id[i] = i;\n            buffers.index.set([i * 4, i * 4 + 2, i * 4 + 1, i * 4 + 1, i * 4 + 2, i * 4 + 3], i * 6);\n        }\n\n        layout();\n    }\n\n    function layout() {\n        const lines = [];\n\n        let cursor = 0;\n\n        let wordCursor = 0;\n        let wordWidth = 0;\n        let line = newLine();\n\n        function newLine() {\n            const line = {\n                width: 0,\n                glyphs: [],\n            };\n            lines.push(line);\n            wordCursor = cursor;\n            wordWidth = 0;\n            return line;\n        }\n\n        let maxTimes = 100;\n        let count = 0;\n        while (cursor < text.length && count < maxTimes) {\n            count++;\n\n            const char = text[cursor];\n\n            // Skip whitespace at start of line\n            if (!line.width && whitespace.test(char)) {\n                cursor++;\n                wordCursor = cursor;\n                wordWidth = 0;\n                continue;\n            }\n\n            // If newline char, skip to next line\n            if (newline.test(char)) {\n                cursor++;\n                line = newLine();\n                continue;\n            }\n\n            const glyph = glyphs[char];\n\n            // Find any applicable kern pairs\n            if (line.glyphs.length) {\n                const prevGlyph = line.glyphs[line.glyphs.length - 1][0];\n                let kern = getKernPairOffset(glyph.id, prevGlyph.id) * scale;\n                line.width += kern;\n                wordWidth += kern;\n            }\n\n            // add char to line\n            line.glyphs.push([glyph, line.width]);\n\n            // calculate advance for next glyph\n            let advance = 0;\n\n            // If whitespace, update location of current word for line breaks\n            if (whitespace.test(char)) {\n                wordCursor = cursor;\n                wordWidth = 0;\n\n                // Add wordspacing\n                advance += wordSpacing * size;\n            } else {\n\n                // Add letterspacing\n                advance += letterSpacing * size;\n            }\n\n            advance += glyph.xadvance * scale;\n\n            line.width += advance;\n            wordWidth += advance;\n\n            // If width defined\n            if (line.width > width) {\n\n                // If can break words, undo latest glyph if line not empty and create new line\n                if (wordBreak && line.glyphs.length > 1) {\n                    line.width -= advance;\n                    line.glyphs.pop();\n                    line = newLine();\n                    continue;\n\n                // If not first word, undo current word and cursor and create new line\n                } else if (!wordBreak && wordWidth !== line.width) {\n                    let numGlyphs = cursor - wordCursor + 1;\n                    line.glyphs.splice(-numGlyphs, numGlyphs);\n                    cursor = wordCursor;\n                    line.width -= wordWidth;\n                    line = newLine();\n                    continue;\n                }\n            }\n\n            cursor++;\n        }\n\n        // Remove last line if empty\n        if (!line.width) lines.pop();\n\n        populateBuffers(lines);\n    }\n\n    function populateBuffers(lines) {\n        const texW = font.common.scaleW;\n        const texH = font.common.scaleH;\n\n        // For all fonts tested, a little offset was needed to be right on the baseline, hence 0.07.\n        let y = 0.07 * size;\n        let j = 0;\n\n        for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {\n            let line = lines[lineIndex];\n\n            for (let i = 0; i < line.glyphs.length; i++) {\n                const glyph = line.glyphs[i][0];\n                let x = line.glyphs[i][1];\n\n                if (align === 'center') {\n                    x -= line.width * 0.5;\n                } else if (align === 'right') {\n                    x -= line.width;\n                }\n\n                // If space, don't add to geometry\n                if (whitespace.test(glyph.char)) continue;\n\n                // Apply char sprite offsets\n                x += glyph.xoffset * scale;\n                y -= glyph.yoffset * scale;\n\n                // each letter is a quad. axis bottom left\n                let w = glyph.width * scale;\n                let h = glyph.height * scale;\n                buffers.position.set([\n                    x,     y - h, 0,\n                    x,     y,     0,\n                    x + w, y - h, 0,\n                    x + w, y,     0\n                ], j * 4 * 3);\n\n                let u = glyph.x / texW;\n                let uw = glyph.width / texW;\n                let v = 1.0 - glyph.y / texH;\n                let vh = glyph.height / texH;\n                buffers.uv.set([\n                    u,      v - vh,\n                    u,      v,\n                    u + uw, v - vh,\n                    u + uw, v,\n                ], j * 4 * 2);\n\n                // Reset cursor to baseline\n                y += glyph.yoffset * scale;\n\n                j++;\n            }\n\n            y -= size * lineHeight;\n        }\n\n        _this.buffers = buffers;\n        _this.numLines = lines.length;\n        _this.height = _this.numLines * size * lineHeight;\n    }\n\n    function getKernPairOffset(id1, id2) {\n        for (let i = 0; i < font.kernings.length; i++) {\n            let k = font.kernings[i];\n            if (k.first < id1) continue;\n            if (k.second < id2) continue;\n            if (k.first > id1) return 0;\n            if (k.first === id1 && k.second > id2) return 0;\n            return k.amount;\n        }\n        return 0;\n    }\n\n    // Update buffers to layout with new layout\n    this.resize = function(options) {\n        ({width} = options);\n        layout();\n    };\n\n    // Completely change text (like creating new Text)\n    this.update = function(options) {\n        ({text} = options);\n        createGeometry()\n    };\n}\n\n","import {Program} from '../core/Program.js';\n\nconst vertex = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    attribute vec3 position;\n    attribute vec3 normal;\n\n    uniform mat3 normalMatrix;\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    varying vec3 vNormal;\n\n    void main() {\n        vNormal = normalize(normalMatrix * normal);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n\nconst fragment = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    varying vec3 vNormal;\n\n    void main() {\n        gl_FragColor.rgb = normalize(vNormal);\n        gl_FragColor.a = 1.0;\n    }\n`;\n\nexport function NormalProgram(gl) {\n    return new Program(gl, {\n        vertex: vertex,\n        fragment: fragment,\n        cullFace: null,\n    });\n}","import {RenderTarget} from '../core/RenderTarget.js';\nimport {Program} from '../core/Program.js';\nimport {Mesh} from '../core/Mesh.js';\nimport {Vec2} from '../math/Vec2.js';\nimport {Triangle} from './Triangle.js';\n\nexport class Flowmap {\n    constructor(gl, {\n        size = 128, // default size of the render targets\n        falloff = 0.3, // size of the stamp, percentage of the size\n        alpha = 1, // opacity of the stamp\n        dissipation = 0.98, // affects the speed that the stamp fades. Closer to 1 is slower\n        type, // Pass in gl.FLOAT to force it, defaults to gl.HALF_FLOAT\n    } = {}) {\n        const _this = this;\n        this.gl = gl;\n\n        // output uniform containing render target textures\n        this.uniform = {value: null};\n\n        this.mask = {\n            read: null,\n            write: null,\n\n            // Helper function to ping pong the render targets and update the uniform\n            swap: () => {\n                let temp = _this.mask.read;\n                _this.mask.read = _this.mask.write;\n                _this.mask.write = temp;\n                _this.uniform.value = _this.mask.read.texture;\n            },\n        }\n\n        {\n            createFBOs();\n\n            this.aspect = 1;\n            this.mouse = new Vec2();\n            this.velocity = new Vec2();\n\n            this.mesh = initProgram();\n        }\n\n        function createFBOs() {\n            // Requested type not supported, fall back to half float\n            if (!type) type = gl.HALF_FLOAT || gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES;\n\n            let minFilter = (() => {\n                if (gl.renderer.isWebgl2) return gl.LINEAR;\n                if (gl.renderer.extensions[`OES_texture_${type === gl.FLOAT ? '' : 'half_'}float_linear`]) return gl.LINEAR;\n                return gl.NEAREST;\n            })();\n\n            const options = {\n                width: size, \n                height: size, \n                type,\n                format: gl.RGBA,\n                internalFormat: gl.renderer.isWebgl2 \n                    ? (type === gl.FLOAT ? gl.RGBA32F : gl.RGBA16F) \n                    : gl.RGBA,\n                minFilter,\n                depth: false,\n            };\n\n            _this.mask.read = new RenderTarget(gl, options);\n            _this.mask.write = new RenderTarget(gl, options);\n            _this.mask.swap();\n        }\n\n        function initProgram() {\n            return new Mesh(gl, {\n\n                // Triangle that includes -1 to 1 range for 'position', and 0 to 1 range for 'uv'.\n                geometry: new Triangle(gl),\n\n                program: new Program(gl, {\n                    vertex,\n                    fragment,\n                    uniforms: {\n                        tMap: _this.uniform,\n\n                        uFalloff: {value: falloff * 0.5},\n                        uAlpha: {value: alpha},\n                        uDissipation: {value: dissipation},\n\n                        // User needs to update these\n                        uAspect: {value: 1},\n                        uMouse: {value: _this.mouse},\n                        uVelocity: {value: _this.velocity},\n                    },\n                    depthTest: false,\n                }),\n            });\n        }\n    }\n\n    update() {\n        this.mesh.program.uniforms.uAspect.value = this.aspect;\n\n        this.gl.renderer.render({\n            scene: this.mesh,\n            target: this.mask.write,\n            clear: false,\n        });\n        this.mask.swap();\n    }\n}\n\nconst vertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst fragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n\n    uniform float uFalloff;\n    uniform float uAlpha;\n    uniform float uDissipation;\n    \n    uniform float uAspect;\n    uniform vec2 uMouse;\n    uniform vec2 uVelocity;\n\n    varying vec2 vUv;\n\n    void main() {\n        vec4 color = texture2D(tMap, vUv) * uDissipation;\n\n        vec2 cursor = vUv - uMouse;\n        cursor.x *= uAspect;\n\n        vec3 stamp = vec3(uVelocity * vec2(1, -1), 1.0 - pow(1.0 - min(1.0, length(uVelocity)), 3.0));\n        float falloff = smoothstep(uFalloff, 0.0, length(cursor)) * uAlpha;\n\n        color.rgb = mix(color.rgb, stamp, vec3(falloff));\n\n        gl_FragColor = color;\n    }\n`;","import {Program} from '../core/Program.js';\nimport {Mesh} from '../core/Mesh.js';\nimport {Texture} from '../core/Texture.js';\nimport {RenderTarget} from '../core/RenderTarget.js';\nimport {Triangle} from './Triangle.js';\n\nexport class GPGPU {\n    constructor(gl, {\n\n        // Always pass in array of vec4s (RGBA values within texture)\n        data = new Float32Array(16),\n\n        geometry = new Triangle(gl),\n        type, // Pass in gl.FLOAT to force it, defaults to gl.HALF_FLOAT\n    }) {\n        this.gl = gl;\n        const initialData = data;\n        this.passes = [];\n        this.geometry = geometry;\n        this.dataLength = initialData.length / 4;\n\n        // Windows and iOS only like power of 2 textures\n        // Find smallest PO2 that fits data\n        this.size = Math.pow(2, Math.ceil(Math.log(Math.ceil(Math.sqrt(this.dataLength))) / Math.LN2));\n\n        // Create coords for output texture\n        this.coords = new Float32Array(this.dataLength * 2);\n        for (let i = 0; i < this.dataLength; i++) {\n            const x = (i % this.size) / this.size; // to add 0.5 to be center pixel ?\n            const y = Math.floor(i / this.size) / this.size;\n            this.coords.set([x, y], i * 2);\n        }\n\n        // Use original data if already correct length of PO2 texture, else copy to new array of correct length\n        const floatArray = (() => {\n            if (initialData.length === this.size * this.size * 4) {\n                return initialData;\n            } else {\n                const a = new Float32Array(this.size * this.size * 4);\n                a.set(initialData);\n                return a;\n            }\n        })();\n\n        // Create output texture uniform using input float texture with initial data\n        this.uniform = {value: new Texture(gl, {\n            image: floatArray,\n            target: gl.TEXTURE_2D,\n            type: gl.FLOAT,\n            format: gl.RGBA,\n            internalFormat: gl.renderer.isWebgl2 ? gl.RGBA32F : gl.RGBA,\n            wrapS: gl.CLAMP_TO_EDGE,\n            wrapT: gl.CLAMP_TO_EDGE,\n            generateMipmaps: false,\n            minFilter: gl.NEAREST,\n            magFilter: gl.NEAREST,\n            width: this.size,\n            flipY: false,\n        })};\n\n        // Create FBOs\n        const options = {\n            width: this.size, \n            height: this.size, \n            type: type || gl.HALF_FLOAT || gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\n            format: gl.RGBA,\n            internalFormat: gl.renderer.isWebgl2 \n                ? (type === gl.FLOAT ? gl.RGBA32F : gl.RGBA16F) \n                : gl.RGBA,\n            minFilter: gl.NEAREST,\n            depth: false,\n            unpackAlignment: 1,\n        };\n\n        this.fbo = {\n            read: new RenderTarget(gl, options),\n            write: new RenderTarget(gl, options),\n            swap: () => {\n                let temp = this.fbo.read;\n                this.fbo.read = this.fbo.write;\n                this.fbo.write = temp;\n                this.uniform.value = this.fbo.read.texture;\n            },\n        };\n    }\n\n    addPass({\n        vertex = defaultVertex,\n        fragment = defaultFragment,\n        uniforms = {},\n        textureUniform = 'tMap',\n        enabled = true,\n    } = {}) {\n        uniforms[textureUniform] = this.uniform;\n        const program = new Program(this.gl, {vertex, fragment, uniforms});\n        const mesh = new Mesh(this.gl, {geometry: this.geometry, program});\n\n        const pass = {\n            mesh, \n            program,\n            uniforms,\n            enabled,\n            textureUniform,\n        };\n\n        this.passes.push(pass);\n        return pass;\n    }\n\n    render() {\n        const enabledPasses = this.passes.filter(pass => pass.enabled);\n\n        enabledPasses.forEach((pass, i) => {\n            this.gl.renderer.render({\n                scene: pass.mesh, \n                target: this.fbo.write,\n                clear: false,\n            });\n            this.fbo.swap();\n        });\n    }\n};\n\nconst defaultVertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n`;","import {Geometry} from '../core/Geometry.js';\nimport {Program} from '../core/Program.js';\nimport {Mesh} from '../core/Mesh.js';\nimport {Vec2} from '../math/Vec2.js';\nimport {Vec3} from '../math/Vec3.js';\nimport {Color} from '../math/Color.js';\n\nconst tmp = new Vec3();\n\nexport class Polyline {\n    constructor(gl, {\n        points, // Array of Vec3s\n        vertex = defaultVertex,\n        fragment = defaultFragment,\n        uniforms = {},\n        attributes = {}, // For passing in custom attribs\n    }) {\n        this.gl = gl;\n        this.points = points;\n        this.count = points.length;\n\n        // Create buffers\n        this.position = new Float32Array(this.count * 3 * 2);\n        this.prev = new Float32Array(this.count * 3 * 2);\n        this.next = new Float32Array(this.count * 3 * 2);\n        const side = new Float32Array(this.count * 1 * 2);\n        const uv = new Float32Array(this.count * 2 * 2);\n        const index = new Uint16Array((this.count - 1) * 3 * 2);\n\n        // Set static buffers\n        for (let i = 0; i < this.count; i++) {\n            side.set([-1, 1], i * 2);\n            const v = i / (this.count - 1);\n            uv.set([0, v, 1, v], i * 4);\n\n            if (i === this.count - 1) continue;\n            const ind = i * 2;\n            index.set([ind + 0, ind + 1, ind + 2], (ind + 0) * 3);\n            index.set([ind + 2, ind + 1, ind + 3], (ind + 1) * 3);\n        }\n\n        const geometry = this.geometry = new Geometry(gl, Object.assign(attributes, {\n            position: {size: 3, data: this.position},\n            prev: {size: 3, data: this.prev},\n            next: {size: 3, data: this.next},\n            side: {size: 1, data: side},\n            uv: {size: 2, data: uv},\n            index: {size: 1, data: index},\n        }));\n\n        // Populate dynamic buffers\n        this.updateGeometry();\n\n        if (!uniforms.uResolution) this.resolution = uniforms.uResolution = {value: new Vec2()};\n        if (!uniforms.uDPR) this.dpr = uniforms.uDPR = {value: 1};\n        if (!uniforms.uThickness) this.thickness = uniforms.uThickness = {value: 1};\n        if (!uniforms.uColor) this.color = uniforms.uColor = {value: new Color('#000')};\n        if (!uniforms.uMiter) this.miter = uniforms.uMiter = {value: 1};\n\n        // Set size uniforms' values\n        this.resize();\n\n        const program = this.program = new Program(gl, {\n            vertex,\n            fragment,\n            uniforms,\n        });\n        \n        this.mesh = new Mesh(gl, {geometry, program});\n    }\n\n    updateGeometry() {\n        this.points.forEach((p, i) => {\n            p.toArray(this.position, i * 3 * 2);\n            p.toArray(this.position, i * 3 * 2 + 3);\n\n            if (!i) {\n\n                // If first point, calculate prev using the distance to 2nd point\n                tmp.copy(p).sub(this.points[i + 1]).add(p);\n                tmp.toArray(this.prev, i * 3 * 2);\n                tmp.toArray(this.prev, i * 3 * 2 + 3);\n            } else {\n                p.toArray(this.next, (i - 1) * 3 * 2);\n                p.toArray(this.next, (i - 1) * 3 * 2 + 3);\n            }\n\n            if (i === this.points.length - 1) {\n\n                // If last point, calculate next using distance to 2nd last point\n                tmp.copy(p).sub(this.points[i - 1]).add(p);\n                tmp.toArray(this.next, i * 3 * 2);\n                tmp.toArray(this.next, i * 3 * 2 + 3);\n            } else {\n                p.toArray(this.prev, (i + 1) * 3 * 2);\n                p.toArray(this.prev, (i + 1) * 3 * 2 + 3);\n            }\n        });\n\n        this.geometry.attributes.position.needsUpdate = true;\n        this.geometry.attributes.prev.needsUpdate = true;\n        this.geometry.attributes.next.needsUpdate = true;\n    }\n\n    // Only need to call if not handling resolution uniforms manually\n    resize() {\n\n        // Update automatic uniforms if not overridden\n        if (this.resolution) this.resolution.value.set(this.gl.canvas.width, this.gl.canvas.height);\n        if (this.dpr) this.dpr.value = this.gl.renderer.dpr;\n    }\n};\n\nconst defaultVertex = /* glsl */ `\n    precision highp float;\n\n    attribute vec3 position;\n    attribute vec3 next;\n    attribute vec3 prev;\n    attribute vec2 uv;\n    attribute float side;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n    uniform vec2 uResolution;\n    uniform float uDPR;\n    uniform float uThickness;\n    uniform float uMiter;\n\n    varying vec2 vUv;\n\n    vec4 getPosition() {\n        mat4 mvp = projectionMatrix * modelViewMatrix;\n        vec4 current = mvp * vec4(position, 1);\n        vec4 nextPos = mvp * vec4(next, 1);\n        vec4 prevPos = mvp * vec4(prev, 1);\n\n        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);    \n        vec2 currentScreen = current.xy / current.w * aspect;\n        vec2 nextScreen = nextPos.xy / nextPos.w * aspect;\n        vec2 prevScreen = prevPos.xy / prevPos.w * aspect;\n    \n        vec2 dir1 = normalize(currentScreen - prevScreen);\n        vec2 dir2 = normalize(nextScreen - currentScreen);\n        vec2 dir = normalize(dir1 + dir2);\n    \n        vec2 normal = vec2(-dir.y, dir.x);\n        normal /= mix(1.0, max(0.3, dot(normal, vec2(-dir1.y, dir1.x))), uMiter);\n        normal /= aspect;\n\n        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);\n        float pixelWidth = current.w * pixelWidthRatio;\n        normal *= pixelWidth * uThickness;\n        current.xy -= normal * side;\n    \n        return current;\n    }\n\n    void main() {\n        vUv = uv;\n        gl_Position = getPosition();\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform vec3 uColor;\n    \n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor.rgb = uColor;\n        gl_FragColor.a = 1.0;\n    }\n`;\n\n\n\n\n","import {Camera} from '../core/Camera.js';\nimport {Program} from '../core/Program.js';\nimport {RenderTarget} from '../core/RenderTarget.js';\n\nexport class Shadow {\n    constructor(gl, {\n        light = new Camera(gl),\n        width = 1024,\n        height = width,\n    }) {\n        this.gl = gl;\n\n        this.light = light;\n        \n        this.target = new RenderTarget(gl, {width, height});\n\n        this.depthProgram = new Program(gl, {\n            vertex: defaultVertex,\n            fragment: defaultFragment,\n            cullFace: null,\n        });\n\n        this.castMeshes = [];\n    }\n\n    add({\n        mesh,\n        receive = true,\n        cast = true,\n        vertex = defaultVertex,\n        fragment = defaultFragment,\n        uniformProjection = 'shadowProjectionMatrix',\n        uniformView = 'shadowViewMatrix',\n        uniformTexture = 'tShadow',\n    }) {\n\n        // Add uniforms to existing program\n        if (receive && !mesh.program.uniforms[uniformProjection]) {\n            mesh.program.uniforms[uniformProjection] = {value: this.light.projectionMatrix};\n            mesh.program.uniforms[uniformView] = {value: this.light.viewMatrix};\n            mesh.program.uniforms[uniformTexture] = {value: this.target.texture};\n        }\n\n        if (!cast) return;\n        this.castMeshes.push(mesh);\n\n        // Store program for when switching between depth override\n        mesh.colorProgram = mesh.program;\n\n        // Check if depth program already attached\n        if (mesh.depthProgram) return;\n\n        // Use global depth override if nothing custom passed in\n        if (vertex === defaultVertex && fragment === defaultFragment) {\n            mesh.depthProgram = this.depthProgram;\n            return;\n        }\n\n        // Create custom override program\n        mesh.depthProgram = new Program(gl, {\n            vertex,\n            fragment,\n            cullFace: null,\n        });\n    }\n\n    render({scene}) {\n\n        // For depth render, replace program with depth override.\n        // Hide meshes not casting shadows.\n        scene.traverse(node => {\n            if (!node.draw) return;\n            if (!!~this.castMeshes.indexOf(node)) {\n                node.program = node.depthProgram;\n            } else {\n                node.isForceVisibility = node.visible;\n                node.visible = false;\n            }\n        });\n\n        // Render the depth shadow map using the light as the camera\n        this.gl.renderer.render({\n            scene, \n            camera: this.light, \n            target: this.target,\n        });\n\n        // Then switch the program back to the normal one\n        scene.traverse(node => {\n            if (!node.draw) return;\n            if (!!~this.castMeshes.indexOf(node)) {\n                node.program = node.colorProgram;\n            } else {\n                node.visible = node.isForceVisibility;\n            }\n        });\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec3 position;\n    attribute vec2 uv;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    void main() {\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    vec4 packRGBA (float v) {\n        vec4 pack = fract(vec4(1.0, 255.0, 65025.0, 16581375.0) * v);\n        pack -= pack.yzww * vec2(1.0 / 255.0, 0.0).xxxy;\n        return pack;\n    }\n\n    void main() {\n        gl_FragColor = packRGBA(gl_FragCoord.z);\n    }\n`;","import { Texture } from '../core/Texture.js';\n\n// TODO: Support cubemaps\n// Generate textures using https://github.com/TimvanScherpenzeel/texture-compressor\n\nexport class KTXTexture extends Texture {\n    constructor(gl, {\n        buffer,\n        wrapS = gl.CLAMP_TO_EDGE,\n        wrapT = gl.CLAMP_TO_EDGE,\n        anisotropy = 0,\n    } = {}) {\n        super(gl, {\n            generateMipmaps: false,\n            wrapS,\n            wrapT,\n            anisotropy,\n        });\n\n        if (buffer) return this.parseBuffer(buffer);\n    }\n\n    parseBuffer(buffer) {\n        const ktx = new KhronosTextureContainer(buffer);\n        ktx.mipmaps.isCompressedTexture = true;\n        \n        // Update texture\n        this.image = ktx.mipmaps;\n        this.internalFormat = ktx.glInternalFormat;\n        this.minFilter = ktx.numberOfMipmapLevels > 1 ? this.gl.NEAREST_MIPMAP_LINEAR : this.gl.LINEAR;\n\n        // TODO: support cube maps\n        // ktx.numberOfFaces\n    }\n};\n\nfunction KhronosTextureContainer(buffer) {\n    const idCheck = [0xab, 0x4b, 0x54, 0x58, 0x20, 0x31, 0x31, 0xbb, 0x0d, 0x0a, 0x1a, 0x0a];\n    const id = new Uint8Array(buffer, 0, 12);\n    for (let i = 0; i < id.length; i++)\n        if (id[i] !== idCheck[i]) return console.error('File missing KTX identifier');\n\n    // TODO: Is this always 4? Tested: [android, macos]\n    const size = Uint32Array.BYTES_PER_ELEMENT;\n    const head = new DataView(buffer, 12, 13 * size);\n    const littleEndian = head.getUint32(0, true) === 0x04030201;\n    const glType = head.getUint32(1 * size, littleEndian);\n    if (glType !== 0) return console.warn('only compressed formats currently supported');\n    this.glInternalFormat = head.getUint32(4 * size, littleEndian);\n    let width = head.getUint32(6 * size, littleEndian);\n    let height = head.getUint32(7 * size, littleEndian);\n    this.numberOfFaces = head.getUint32(10 * size, littleEndian);\n    this.numberOfMipmapLevels = Math.max(1, head.getUint32(11 * size, littleEndian));\n    const bytesOfKeyValueData = head.getUint32(12 * size, littleEndian);\n\n    this.mipmaps = [];\n    let offset = 12 + 13 * 4 + bytesOfKeyValueData;\n    for (let level = 0; level < this.numberOfMipmapLevels; level++) {\n        const levelSize = new Int32Array(buffer, offset, 1)[0]; // size per face, since not supporting array cubemaps\n        offset += 4; // levelSize field\n        for (let face = 0; face < this.numberOfFaces; face++) {\n            const data = new Uint8Array(buffer, offset, levelSize);\n            this.mipmaps.push({ data, width, height });\n            offset += levelSize;\n            offset += 3 - ((levelSize + 3) % 4); // add padding for odd sized image\n        }\n        width = width >> 1;\n        height = height >> 1;\n    }\n}\n","import { Texture } from '../core/Texture.js';\nimport { KTXTexture } from './KTXTexture.js';\n\n// For compressed textures, generate using https://github.com/TimvanScherpenzeel/texture-compressor\n\nlet cache = {};\nconst supportedExtensions = [];\n\nexport class TextureLoader {\n    static load(gl, {\n        src, // string or object of extension:src key-values\n        // {\n        //     pvrtc: '...ktx',\n        //     s3tc: '...ktx',\n        //     etc: '...ktx',\n        //     etc1: '...ktx',\n        //     astc: '...ktx',\n        //     webp: '...webp',\n        //     jpg: '...jpg',\n        //     png: '...png',\n        // }\n\n        // Only props relevant to KTXTexture\n        wrapS = gl.CLAMP_TO_EDGE,\n        wrapT = gl.CLAMP_TO_EDGE,\n        anisotropy = 0,\n\n        // For regular images\n        format = gl.RGBA,\n        internalFormat = format,\n        generateMipmaps = true,\n        minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\n        magFilter = gl.LINEAR,\n        premultiplyAlpha = false,\n        unpackAlignment = 4,\n        flipY = true,\n    } = {}) {\n        const support = this.getSupportedExtensions(gl);\n        let ext = 'none';\n\n        // If src is string, determine which format from the extension\n        if (typeof src === 'string') {\n            ext = src\n                .split('.')\n                .pop()\n                .split('?')[0]\n                .toLowerCase();\n        }\n\n        // If src is object, use supported extensions and provided list to choose best option\n        // Get first supported match, so put in order of preference\n        if (typeof src === 'object') {\n            for (const prop in src) {\n                if (support.includes(prop.toLowerCase())) {\n                    ext = prop.toLowerCase();\n                    src = src[prop];\n                    break;\n                }\n            }\n        }\n\n        // Stringify props\n        const cacheID =\n            src +\n            wrapS +\n            wrapT +\n            anisotropy +\n            format +\n            internalFormat +\n            generateMipmaps +\n            minFilter +\n            magFilter +\n            premultiplyAlpha +\n            unpackAlignment +\n            flipY + \n            gl.renderer.id;\n\n        // Check cache for existing texture\n        if (cache[cacheID]) return cache[cacheID];\n\n        let texture;\n        switch (ext) {\n            case 'ktx':\n            case 'pvrtc':\n            case 's3tc':\n            case 'etc':\n            case 'etc1':\n            case 'astc':\n                // Load compressed texture using KTX format\n                texture = new KTXTexture(gl, {\n                    src,\n                    wrapS,\n                    wrapT,\n                    anisotropy,\n                });\n                texture.loaded = this.loadKTX(src, texture);\n                break;\n            case 'webp':\n            case 'jpg':\n            case 'jpeg':\n            case 'png':\n                texture = new Texture(gl, {\n                    wrapS,\n                    wrapT,\n                    anisotropy,\n                    format,\n                    internalFormat,\n                    generateMipmaps,\n                    minFilter,\n                    magFilter,\n                    premultiplyAlpha,\n                    unpackAlignment,\n                    flipY,\n                });\n                texture.loaded = this.loadImage(gl, src, texture);\n                break;\n            default:\n                console.warn('No supported format supplied');\n                texture = new Texture(gl);\n        }\n\n        texture.ext = ext;\n        cache[cacheID] = texture;\n        return texture;\n    }\n\n    static getSupportedExtensions(gl) {\n        if (supportedExtensions.length) return supportedExtensions;\n\n        const extensions = {\n            pvrtc:\n                gl.renderer.getExtension('WEBGL_compressed_texture_pvrtc') ||\n                gl.renderer.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n            s3tc:\n                gl.renderer.getExtension('WEBGL_compressed_texture_s3tc') ||\n                gl.renderer.getExtension('MOZ_WEBGL_compressed_texture_s3tc') ||\n                gl.renderer.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc'),\n            etc: gl.renderer.getExtension('WEBGL_compressed_texture_etc'),\n            etc1: gl.renderer.getExtension('WEBGL_compressed_texture_etc1'),\n            astc: gl.renderer.getExtension('WEBGL_compressed_texture_astc'),\n        };\n\n        for (const ext in extensions) if (extensions[ext]) supportedExtensions.push(ext);\n\n        // Check for WebP support\n        if (detectWebP) supportedExtensions.push('webp');\n\n        // Formats supported by all\n        supportedExtensions.push('png', 'jpg');\n\n        return supportedExtensions;\n    }\n\n    static loadKTX(src, texture) {\n        return fetch(src)\n            .then(res => res.arrayBuffer())\n            .then(buffer => texture.parseBuffer(buffer));\n    }\n\n    static loadImage(gl, src, texture) {\n        return decodeImage(src).then(imgBmp => {\n            // Catch non POT textures and update params to avoid errors\n            if (!powerOfTwo(imgBmp.width) || !powerOfTwo(imgBmp.height)) {\n                if (texture.generateMipmaps) texture.generateMipmaps = false;\n                if (texture.minFilter === gl.NEAREST_MIPMAP_LINEAR) texture.minFilter = gl.LINEAR;\n                if (texture.wrapS === gl.REPEAT) texture.wrapS = texture.wrapT = gl.CLAMP_TO_EDGE;\n            }\n\n            texture.image = imgBmp;\n\n            // For createImageBitmap, close once uploaded\n            texture.onUpdate = () => {\n                if (imgBmp.close) imgBmp.close();\n                texture.onUpdate = null;\n            };\n        });\n    }\n\n    static clearCache() {\n        cache = {};\n    }\n}\n\nfunction detectWebP() {\n    return (\n        document\n            .createElement('canvas')\n            .toDataURL('image/webp')\n            .indexOf('data:image/webp') == 0\n    );\n}\n\nfunction powerOfTwo(value) {\n    return Math.log2(value) % 1 === 0;\n}\n\nfunction decodeImage(src) {\n    return new Promise(resolve => {\n        const img = new Image();\n        img.src = src;\n\n        // Only chrome's implementation of createImageBitmap is fully supported\n        const isChrome = navigator.userAgent.toLowerCase().includes('chrome');\n        if (!!window.createImageBitmap && isChrome) {\n            img.onload = () => {\n                createImageBitmap(img, {\n                    imageOrientation: 'flipY',\n                    premultiplyAlpha: 'none',\n                }).then(imgBmp => {\n                    resolve(imgBmp);\n                });\n            };\n        } else {\n            img.onload = () => resolve(img);\n        }\n    });\n}\n","import {Vec3} from '../math/Vec3.js';\nimport {Quat} from '../math/Quat.js';\n\nconst tmpVec3A = new Vec3();\nconst tmpVec3B = new Vec3();\nconst tmpVec3C = new Vec3();\nconst tmpVec3D = new Vec3();\n\nconst tmpQuatA = new Quat();\nconst tmpQuatB = new Quat();\nconst tmpQuatC = new Quat();\nconst tmpQuatD = new Quat();\n\nexport class GLTFAnimation {\n    constructor(data, weight = 1) {\n\n        this.data = data;\n        this.elapsed = 0;\n        this.weight = weight;\n\n        // Set to false to not apply modulo to elapsed against duration\n        this.loop = true;\n\n        // Get duration from largest final time in all channels\n        this.duration = data.reduce((a, {times}) => Math.max(a, times[times.length - 1]), 0);\n    }\n\n    update(totalWeight = 1, isSet) {\n        const weight = isSet ? 1 : this.weight / totalWeight;\n        const elapsed = this.loop ?\n            this.elapsed % this.duration :\n            Math.min(this.elapsed, this.duration);\n\n        this.data.forEach(({\n            node,\n            transform,\n            interpolation,\n            times,\n            values,\n        }) => {\n\n            // Get index of two time values elapsed is between\n            const prevIndex = Math.max(1, times.findIndex(t => t > elapsed)) - 1;\n            const nextIndex = prevIndex + 1;\n\n            // Get linear blend/alpha between the two\n            let alpha = (elapsed - times[prevIndex]) / (times[nextIndex] - times[prevIndex]);\n            if (interpolation === 'STEP') alpha = 0;\n\n            let prevVal = tmpVec3A;\n            let prevTan = tmpVec3B;\n            let nextTan = tmpVec3C;\n            let nextVal = tmpVec3D;\n            let size = 3;\n\n            if (transform === 'quaternion') {\n                prevVal = tmpQuatA;\n                prevTan = tmpQuatB;\n                nextTan = tmpQuatC;\n                nextVal = tmpQuatD;\n                size = 4;\n            }\n\n            if (interpolation === 'CUBICSPLINE') {\n\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size * 3 + size * 1);\n                prevTan.fromArray(values, prevIndex * size * 3 + size * 2);\n                nextTan.fromArray(values, nextIndex * size * 3 + size * 0);\n                nextVal.fromArray(values, nextIndex * size * 3 + size * 1);\n\n                // interpolate for final value\n                prevVal = this.cubicSplineInterpolate(alpha, prevVal, prevTan, nextTan, nextVal);\n                if (size === 4) prevVal.normalize();\n            } else {\n\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size);\n                nextVal.fromArray(values, nextIndex * size);\n\n                // interpolate for final value\n                if (size === 4) prevVal.slerp(nextVal, alpha);\n                else prevVal.lerp(nextVal, alpha);\n            }\n\n            // interpolate between multiple possible animations\n            if (size === 4) node[transform].slerp(prevVal, weight);\n            else node[transform].lerp(prevVal, weight);\n        });\n    }\n\n    cubicSplineInterpolate(t, prevVal, prevTan, nextTan, nextVal) {\n        const t2 = t * t;\n        const t3 = t2 * t;\n\n        const s2 = 3 * t2 - 2 * t3;\n        const s3 = t3 - t2;\n        const s0 = 1 - s2;\n        const s1 = s3 - t2 + t;\n\n        for (let i = 0; i < prevVal.length; i++) {\n            prevVal[i] = s0 * prevVal[i] + s1 * (1 - t) * prevTan[i] + s2 * nextVal[i] + s3 * t * nextTan[i];\n        }\n\n        return prevVal;\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\nimport { Transform } from '../core/Transform.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { GLTFAnimation } from './GLTFAnimation.js';\nimport { NormalProgram } from './NormalProgram.js';\n\n// Supports\n// [x] Geometry\n// [ ] Sparse support\n// [x] Nodes and Hierarchy\n// [ ] Morph Targets\n// [ ] Skins\n// [ ] Materials\n// [ ] Textures\n// [x] Animation\n// [ ] Cameras\n// [ ] Extensions\n\n// TODO: Sparse accessor packing? For morph targets basically\n// TODO: init accessor missing bufferView with 0s\n// TODO: morph target animations\n\nconst TYPE_ARRAY = {\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array,\n};\n\nconst TYPE_SIZE = {\n    SCALAR: 1,\n    VEC2: 2,\n    VEC3: 3,\n    VEC4: 4,\n    MAT2: 4,\n    MAT3: 9,\n    MAT4: 16,\n};\n\nconst ATTRIBUTES = {\n    POSITION: 'position',\n    NORMAL: 'normal',\n    TANGENT: 'tangent',\n    TEXCOORD_0: 'uv',\n    TEXCOORD_1: 'uv2',\n    COLOR_0: 'color',\n    WEIGHTS_0: 'skinWeight',\n    JOINTS_0: 'skinIndex',\n};\n\nconst TRANSFORMS = {\n    translation: 'position',\n    rotation: 'quaternion',\n    scale: 'scale',\n};\n\n\nexport class GLTFLoader {\n    static async load(gl, src) {\n        const dir = src.split('/').slice(0, -1).join('/') + '/';\n\n        // load main description json\n        const desc = await fetch(src).then(res => res.json());\n\n        if (desc.asset === undefined || desc.asset.version[0] < 2)\n            console.warn('Only GLTF >=2.0 supported. Attempting to parse.');\n\n        // Load buffers async\n        const buffers = await this.loadBuffers(desc, dir);\n\n        // Create gl buffers from bufferViews\n        const bufferViews = this.parseBufferViews(gl, desc, buffers);\n\n        // Create geometries for each mesh primitive\n        const meshes = this.parseMeshes(gl, desc, bufferViews);\n\n        // Create transforms, meshes and hierarchy\n        const nodes = this.parseNodes(gl, desc, meshes);\n\n        // Create animation handlers\n        const animations = this.parseAnimations(gl, desc, nodes, bufferViews);\n\n        // Get top level nodes for each scene\n        const scenes = this.parseScenes(desc, nodes);\n        const scene = scenes[desc.scene];\n\n        return {\n            json: desc,\n            buffers,\n            bufferViews,\n            meshes,\n            nodes,\n            animations,\n            scenes,\n            scene,\n        };\n    }\n\n    // Threejs GLTF Loader https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/GLTFLoader.js#L1085\n    static resolveURI(uri, dir) {\n        // Invalid URI\n        if (typeof uri !== 'string' || uri === '') return '';\n\n        // Host Relative URI\n        if (/^https?:\\/\\//i.test(dir) && /^\\//.test(uri)) {\n            dir = dir.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n        }\n\n        // Absolute URI http://, https://, //\n        if ( /^(https?:)?\\/\\//i.test(uri)) return uri;\n\n        // Data URI\n        if (/^data:.*,.*$/i.test(uri)) return uri;\n\n        // Blob URI\n        if (/^blob:.*$/i.test(uri)) return uri;\n\n        // Relative URI\n        return dir + uri;\n    }\n\n    static async loadBuffers(desc, dir) {\n        return await Promise.all(desc.buffers.map(buffer => {\n            const uri = this.resolveURI(buffer.uri, dir);\n            return fetch(uri).then(res => res.arrayBuffer());\n        }));\n    }\n\n    static parseBufferViews(gl, desc, buffers) {\n\n        // Clone to leave description pure\n        const bufferViews = desc.bufferViews.map(o => Object.assign({}, o));\n\n        desc.meshes.forEach(({primitives}) => {\n            primitives.forEach(({attributes, indices}) => {\n\n                // Flag bufferView as an attribute, so it knows to create a gl buffer\n                for (let attr in attributes) bufferViews[desc.accessors[attributes[attr]].bufferView].isAttribute = true;\n\n                if (indices === undefined) return;\n                bufferViews[desc.accessors[indices].bufferView].isAttribute = true;\n\n                // Make sure indices bufferView have a target property for gl buffer binding\n                bufferViews[desc.accessors[indices].bufferView].target = gl.ELEMENT_ARRAY_BUFFER;\n            });\n        })\n\n        // Get componentType of each bufferView from the accessors\n        desc.accessors.forEach(({bufferView: i, componentType}) => {\n            bufferViews[i].componentType = componentType;\n        });\n\n        // Push each bufferView to the GPU as a separate buffer\n        bufferViews.forEach(({\n            buffer: bufferIndex, // required\n            byteOffset = 0, // optional\n            byteLength, // required\n            byteStride, // optional\n            target = gl.ARRAY_BUFFER, // optional, added above for elements\n            name, // optional\n            extensions, // optional\n            extras, // optional\n\n            componentType, // required, added from accessor above\n            isAttribute,\n        }, i) => {\n            const TypeArray = TYPE_ARRAY[componentType];\n            const elementBytes = TypeArray.BYTES_PER_ELEMENT;\n\n            const data = new TypeArray(buffers[bufferIndex], byteOffset, byteLength / elementBytes);\n            bufferViews[i].data = data;\n\n            // Create gl buffers for the bufferView, pushing it to the GPU\n            if (!isAttribute) return;\n            const buffer = gl.createBuffer();\n            gl.bindBuffer(target, buffer);\n            gl.renderer.state.boundBuffer = buffer;\n            gl.bufferData(target, data, gl.STATIC_DRAW);\n            bufferViews[i].buffer = buffer;\n        });\n\n        return bufferViews;\n    }\n\n    static parseMeshes(gl, desc, bufferViews) {\n        return desc.meshes.map(({\n            primitives, // required\n            weights, // optional\n            name, // optional\n            extensions, // optional\n            extras, // optional\n        }) => {\n            return {\n                primitives: this.parsePrimitives(gl, primitives, desc, bufferViews),\n                weights,\n                name,\n            };\n        });\n\n    }\n\n    static parsePrimitives(gl, primitives, desc, bufferViews) {\n        return primitives.map(({\n            attributes, // required\n            indices, // optional\n            material, // optional\n            mode = 4, // optional\n            targets, // optional\n            extensions, // optional\n            extras, // optional\n        }) => {\n            const geometry = new Geometry(gl);\n\n            // Add each attribute found in primitive\n            for (let attr in attributes) {\n                geometry.addAttribute(ATTRIBUTES[attr], this.parseAccessor(attributes[attr], desc, bufferViews));\n            }\n\n            // Add index attribute if found\n            if (indices !== undefined) geometry.addAttribute('index', this.parseAccessor(indices, desc, bufferViews));\n\n            // TODO: materials\n            const program = new NormalProgram(gl);\n\n            return {\n                geometry,\n                program,\n                mode,\n            };\n        });\n    }\n\n    static parseAccessor(index, desc, bufferViews) {\n        // TODO: init missing bufferView with 0s\n        // TODO: support sparse\n\n        const {\n            bufferView: bufferViewIndex, // optional\n            byteOffset = 0, // optional\n            componentType, // required\n            normalized = false, // optional\n            count, // required\n            type, // required\n            min, // optional\n            max, // optional\n            sparse, // optional\n            // name, // optional\n            // extensions, // optional\n            // extras, // optional\n        } = desc.accessors[index];\n\n        const {\n            data, // attached in parseBufferViews\n            buffer, // replaced to be the actual GL buffer\n            // byteOffset = 0, // applied in parseBufferViews\n            // byteLength, // applied in parseBufferViews\n            byteStride = 0,\n            target,\n            // name,\n            // extensions,\n            // extras,\n        } = bufferViews[bufferViewIndex];\n\n        const size = TYPE_SIZE[type];\n\n        // Return attribute data\n        return {\n            data, // Optional. Used for computing bounds if no min/max\n            size,\n            type: componentType,\n            normalized,\n            buffer,\n            stride: byteStride,\n            offset: byteOffset,\n            count,\n            min,\n            max,\n        };\n    }\n\n    static parseNodes(gl, desc, meshes) {\n        const nodes = desc.nodes.map(({\n            camera,\n            children,\n            skin,\n            matrix,\n            mesh: meshIndex,\n            rotation,\n            scale,\n            translation,\n            weights,\n            name,\n            extensions,\n            extras,\n        }) => {\n            const node = new Transform();\n            if (matrix) {\n                node.matrix.copy(matrix);\n                node.decompose();\n            } else {\n                if (rotation) node.quaternion.copy(rotation);\n                if (scale) node.scale.copy(scale);\n                if (translation) node.position.copy(translation);\n            }\n\n            if (meshIndex !== undefined) {\n                meshes[meshIndex].primitives.forEach(({geometry, program, mode}) => {\n                    const mesh = new Mesh(gl, {geometry, program, mode});\n                    mesh.setParent(node);\n                });\n            }\n\n            return node;\n        });\n\n        // Set hierarchy now all nodes created\n        desc.nodes.forEach(({children = []}, i) => {\n            children.forEach(childIndex => {\n                nodes[childIndex].setParent(nodes[i]);\n            });\n        });\n\n        return nodes;\n    }\n\n    static parseAnimations(gl, desc, nodes, bufferViews) {\n        if (!desc.animations) return null;\n        return desc.animations.map(({\n            channels, // required\n            samplers, // required\n            name, // optional\n            // extensions, // optional\n            // extras,  // optional\n        }) => {\n            const data = channels.map(({\n                sampler: samplerIndex, // required\n                target, // required\n                // extensions, // optional\n                // extras, // optional\n            }) => {\n                const {\n                    input: inputIndex, // required\n                    interpolation = 'LINEAR',\n                    output: outputIndex, // required\n                    // extensions, // optional\n                    // extras, // optional\n                } = samplers[samplerIndex];\n\n                const {\n                    node: nodeIndex, // optional - TODO: when is it not included?\n                    path, // required\n                    // extensions, // optional\n                    // extras, // optional\n                } = target;\n\n                const node = nodes[nodeIndex];\n                const transform = TRANSFORMS[path];\n                const timesAcc = this.parseAccessor(inputIndex, desc, bufferViews);\n                const times = timesAcc.data.slice(timesAcc.offset / 4, timesAcc.count * timesAcc.size);\n                const valuesAcc = this.parseAccessor(outputIndex, desc, bufferViews);\n                const values = valuesAcc.data.slice(valuesAcc.offset / 4, valuesAcc.count * valuesAcc.size);\n\n                return {\n                    node,\n                    transform,\n                    interpolation,\n                    times,\n                    values,\n                };\n            });\n\n            return {\n                name,\n                animation: new GLTFAnimation(data),\n            };\n        });\n    }\n\n    static parseScenes(desc, nodes) {\n        return desc.scenes.map(({\n            nodes: nodesIndices = [],\n            name,\n            extensions,\n            extras,\n        }) => {\n            return nodesIndices.map(i => nodes[i]);\n        });\n    }\n}\n","// Core\nexport {Geometry} from './core/Geometry.js';\nexport {Program} from './core/Program.js';\nexport {Renderer} from './core/Renderer.js';\nexport {Camera} from './core/Camera.js';\nexport {Transform} from './core/Transform.js';\nexport {Mesh} from './core/Mesh.js';\nexport {Texture} from './core/Texture.js';\nexport {RenderTarget} from './core/RenderTarget.js';\n\n// Maths\nexport {Color} from './math/Color.js';\nexport {Euler} from './math/Euler.js';\nexport {Mat3} from './math/Mat3.js';\nexport {Mat4} from './math/Mat4.js';\nexport {Quat} from './math/Quat.js';\nexport {Vec2} from './math/Vec2.js';\nexport {Vec3} from './math/Vec3.js';\nexport {Vec4} from './math/Vec4.js';\n\n// Extras\nexport {Plane} from './extras/Plane.js';\nexport {Box} from './extras/Box.js';\nexport {Sphere} from './extras/Sphere.js';\nexport {Cylinder} from './extras/Cylinder.js';\nexport {Triangle} from './extras/Triangle.js';\nexport {Orbit} from './extras/Orbit.js';\nexport {Raycast} from './extras/Raycast.js';\nexport {Curve} from './extras/Curve.js';\nexport {Post} from './extras/Post.js';\nexport {Skin} from './extras/Skin.js';\nexport {Animation} from './extras/Animation.js';\nexport {Text} from './extras/Text.js';\nexport {NormalProgram} from './extras/NormalProgram.js';\nexport {Flowmap} from './extras/Flowmap.js';\nexport {GPGPU} from './extras/GPGPU.js';\nexport {Polyline} from './extras/Polyline.js';\nexport {Shadow} from './extras/Shadow.js';\nexport {KTXTexture} from './extras/KTXTexture.js';\nexport {TextureLoader} from './extras/TextureLoader.js';\nexport {GLTFLoader} from './extras/GLTFLoader.js';\n","import {\r\n    Vec2\r\n} from 'ogl';\r\n\r\n//use trig to get viewPort dimensions\r\nexport const getCameraViewplaneSize = (camera) => {\r\n\r\n    // rendering full screen quad as if the far plane is at distance 1\r\n    const cameraFov = camera.fov;\r\n    const cameraAspect = camera.aspect;\r\n    const dist = Math.max(1.0, camera.position.z); //assuming the plane will always be one unit away from camera\r\n    // let viewportHeight = 2.0 * Math.tan((cameraFov * (Math.PI / 180.0)) * 0.5) * dist;\r\n    let viewportHeight = Math.tan((cameraFov * (Math.PI / 180.0)) * 0.5) * dist;\r\n    let viewportWidth = viewportHeight * cameraAspect;\r\n\r\n    return new Vec2(viewportWidth, viewportHeight);\r\n\r\n}","// TODO: upload empty texture if null ? maybe not\r\n// TODO: upload identity matrix if null ?\r\n// TODO: sampler Cube\r\n\r\nlet ID = 1;\r\n\r\n// cache of typed arrays used to flatten uniform arrays\r\nconst arrayCacheF32 = {};\r\n\r\nexport class Program {\r\n    constructor(gl, {\r\n        vertex,\r\n        fragment,\r\n        uniforms = {},\r\n\r\n        transparent = false,\r\n        cullFace = gl.BACK,\r\n        frontFace = gl.CCW,\r\n        depthTest = true,\r\n        depthWrite = true,\r\n        depthFunc = gl.LESS,\r\n    } = {}) {\r\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\r\n        this.gl = gl;\r\n        this.uniforms = uniforms;\r\n        this.id = ID++;\r\n\r\n        if (!vertex) console.warn('vertex shader not supplied');\r\n        if (!fragment) console.warn('fragment shader not supplied');\r\n\r\n        // Store program state\r\n        this.transparent = transparent;\r\n        this.cullFace = cullFace;\r\n        this.frontFace = frontFace;\r\n        this.depthTest = depthTest;\r\n        this.depthWrite = depthWrite;\r\n        this.depthFunc = depthFunc;\r\n        this.blendFunc = {};\r\n        this.blendEquation = {};\r\n\r\n        // set default blendFunc if transparent flagged\r\n        if (this.transparent && !this.blendFunc.src) {\r\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n        }\r\n\r\n        // compile vertex shader and log errors\r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        gl.shaderSource(vertexShader, vertex);\r\n        gl.compileShader(vertexShader);\r\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\r\n        }\r\n\r\n        // compile fragment shader and log errors\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n        gl.shaderSource(fragmentShader, fragment);\r\n        gl.compileShader(fragmentShader);\r\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\r\n        }\r\n\r\n        // compile program and log errors\r\n        this.program = gl.createProgram();\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            return console.warn(gl.getProgramInfoLog(this.program));\r\n        }\r\n\r\n        // Remove shader once linked\r\n        gl.deleteShader(vertexShader);\r\n        gl.deleteShader(fragmentShader);\r\n\r\n        // Get active uniform locations\r\n        this.uniformLocations = new Map();\r\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\r\n            let uniform = gl.getActiveUniform(this.program, uIndex);\r\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\r\n\r\n            // split uniforms' names to separate array and struct declarations\r\n            const split = uniform.name.match(/(\\w+)/g);\r\n            \r\n            uniform.uniformName = split[0];\r\n            \r\n            if (split.length === 3) {\r\n                uniform.isStructArray = true;\r\n                uniform.structIndex = Number(split[1]);\r\n                uniform.structProperty = split[2];\r\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\r\n                uniform.isStruct = true;\r\n                uniform.structProperty = split[1];\r\n            }\r\n        }\r\n\r\n        // Get active attribute locations\r\n        this.attributeLocations = new Map();\r\n        const locations = []; \r\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\r\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\r\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\r\n            const location = gl.getAttribLocation(this.program, attribute.name);\r\n            locations[location] = attribute.name;\r\n            this.attributeLocations.set(attribute.name, location);\r\n        }\r\n        this.attributeOrder = locations.join('');\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        this.blendFunc.src = src;\r\n        this.blendFunc.dst = dst;\r\n        this.blendFunc.srcAlpha = srcAlpha;\r\n        this.blendFunc.dstAlpha = dstAlpha;\r\n        if (src) this.transparent = true;\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        this.blendEquation.modeRGB = modeRGB;\r\n        this.blendEquation.modeAlpha = modeAlpha;\r\n    }\r\n\r\n    applyState() {\r\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\r\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\r\n\r\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\r\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\r\n\r\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\r\n        else this.gl.renderer.disable(this.gl.BLEND);\r\n\r\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\r\n        this.gl.renderer.setFrontFace(this.frontFace);\r\n        this.gl.renderer.setDepthMask(this.depthWrite);\r\n        this.gl.renderer.setDepthFunc(this.depthFunc);\r\n        if (this.blendFunc.src) this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\r\n        if (this.blendEquation.modeRGB) this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\r\n    }\r\n\r\n    use({\r\n        flipFaces = false,\r\n    } = {}) {\r\n        let textureUnit = -1;\r\n        const programActive = this.gl.renderer.currentProgram === this.id;\r\n\r\n        // Avoid gl call if program already in use\r\n        if (!programActive) {\r\n            this.gl.useProgram(this.program);\r\n            this.gl.renderer.currentProgram = this.id;\r\n        }\r\n\r\n        // Set only the active uniforms found in the shader\r\n        this.uniformLocations.forEach((location, activeUniform) => {\r\n            let name = activeUniform.uniformName;\r\n\r\n            // get supplied uniform\r\n            let uniform = this.uniforms[name];\r\n\r\n            // For structs, get the specific property instead of the entire object\r\n            if (activeUniform.isStruct) {\r\n                uniform = uniform[activeUniform.structProperty];\r\n                name += `.${activeUniform.structProperty}`;\r\n            }\r\n            if (activeUniform.isStructArray) {\r\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\r\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\r\n            }\r\n\r\n            if (!uniform) {\r\n                return warn(`Active uniform ${name} has not been supplied`);\r\n            }\r\n\r\n            if (uniform && uniform.value === undefined) {\r\n                return warn(`${name} uniform is missing a value parameter`);\r\n            }\r\n\r\n            if (uniform.value.texture) {\r\n                textureUnit = textureUnit + 1;\r\n                \r\n                // Check if texture needs to be updated\r\n                uniform.value.update(textureUnit);\r\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\r\n            }\r\n\r\n            // For texture arrays, set uniform as an array of texture units instead of just one\r\n            if (uniform.value.length && uniform.value[0].texture) {\r\n                const textureUnits = [];\r\n                uniform.value.forEach(value => {\r\n                    textureUnit = textureUnit + 1;\r\n                    value.update(textureUnit);\r\n                    textureUnits.push(textureUnit);\r\n                });\r\n                \r\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\r\n            }\r\n\r\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\r\n        });\r\n\r\n        this.applyState();\r\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\r\n    }\r\n\r\n    remove() {\r\n        this.gl.deleteProgram(this.program);\r\n    }\r\n}\r\n\r\nfunction setUniform(gl, type, location, value) {\r\n    value = value.length ? flatten(value) : value;\r\n    const setValue = gl.renderer.state.uniformLocations.get(location);\r\n\r\n    // Avoid redundant uniform commands\r\n    if (value.length) {\r\n        if (setValue === undefined) {\r\n\r\n            // clone array to store as cache\r\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\r\n        } else {\r\n            if (arraysEqual(setValue, value)) return;\r\n\r\n            // Update cached array values\r\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\r\n            gl.renderer.state.uniformLocations.set(location, setValue);\r\n        }\r\n    } else {\r\n        if (setValue === value) return;\r\n        gl.renderer.state.uniformLocations.set(location, value);\r\n    }\r\n\r\n    switch (type) {\r\n        case 5126  : return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\r\n        case 35664 : return gl.uniform2fv(location, value); // FLOAT_VEC2\r\n        case 35665 : return gl.uniform3fv(location, value); // FLOAT_VEC3\r\n        case 35666 : return gl.uniform4fv(location, value); // FLOAT_VEC4\r\n        case 35670 : // BOOL\r\n        case 5124  : // INT\r\n        case 35678 : // SAMPLER_2D\r\n        case 35680 : return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\r\n        case 35671 : // BOOL_VEC2\r\n        case 35667 : return gl.uniform2iv(location, value); // INT_VEC2\r\n        case 35672 : // BOOL_VEC3\r\n        case 35668 : return gl.uniform3iv(location, value); // INT_VEC3\r\n        case 35673 : // BOOL_VEC4\r\n        case 35669 : return gl.uniform4iv(location, value); // INT_VEC4\r\n        case 35674 : return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\r\n        case 35675 : return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\r\n        case 35676 : return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\r\n    }\r\n}\r\n\r\nfunction addLineNumbers(string) {\r\n    let lines = string.split('\\n');\r\n    for (let i = 0; i < lines.length; i ++) {\r\n        lines[i] = (i + 1) + ': ' + lines[i];\r\n    }\r\n    return lines.join('\\n');\r\n}\r\n\r\nfunction flatten(a) {\r\n    const arrayLen = a.length;\r\n    const valueLen = a[0].length;\r\n    if (valueLen === undefined) return a;\r\n    const length = arrayLen * valueLen;\r\n    let value = arrayCacheF32[length];\r\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\r\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\r\n    return value;\r\n}\r\n\r\nfunction arraysEqual(a, b) {\r\n\tif (a.length !== b.length) return false;\r\n\tfor (let i = 0, l = a.length; i < l; i ++) {\r\n\t\tif (a[i] !== b[i]) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction setArray(a, b) {\r\n    for (let i = 0, l = a.length; i < l; i ++) {\r\n\t\ta[i] = b[i];\r\n\t}\r\n}\r\n\r\nlet warnCount = 0;\r\nfunction warn(message) {\r\n    if (warnCount > 100) return;\r\n    console.warn(message);\r\n    warnCount++;\r\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\r\n}","import {\r\n  Mesh,\r\n  Vec2,\r\n  Plane\r\n} from \"ogl\";\r\n\r\nimport {\r\n  getCameraViewplaneSize\r\n} from \"../../utils/getCameraViewplaneSize\";\r\nimport { Program } from \"../../../../vendors/ogl/src/core/Program\";\r\n\r\nexport default class DomQuad extends Mesh {\r\n  constructor(\r\n    gl,\r\n    {\r\n      widthSegments = 1.0,\r\n      heightSegments = 1.0,\r\n    }\r\n  ) {\r\n    \r\n    super(gl);\r\n\r\n    this.viewPlaneSize = new Vec2(1.0, 1.0);\r\n    this.aspect = 1.0;\r\n\r\n  }\r\n\r\n  //get camera's current viewplane dimensions as well as the reference dom's scale phase\r\n  //based on the viewport's current size to determine final width and height\r\n  //relative to the camera's view plane\r\n  updateDimensions({\r\n    domElement,\r\n    camera\r\n  }) {\r\n    //get current viewplane size based on perspective camera's fov and desired plane distance\r\n    this.cameraViewplaneSize = getCameraViewplaneSize(camera); //make this globally available\r\n    this.viewportScalePhase = this.calcViewportScalePhase(domElement);\r\n\r\n    //rename viewplane size\r\n    this.viewPlaneSize.x = this.cameraViewplaneSize.x * this.viewportScalePhase.x;\r\n    this.viewPlaneSize.y = this.cameraViewplaneSize.y * this.viewportScalePhase.y;\r\n\r\n    // this.scale.x = this.viewPlaneSize.x;\r\n    // this.scale.y = this.viewPlaneSize.y;\r\n\r\n  }\r\n\r\n  calcViewportScalePhase(domElement) {\r\n    \r\n    const rect = domElement.getBoundingClientRect();\r\n    \r\n    const viewportScaleX = rect.width / window.innerWidth;\r\n    const viewportScaleY = rect.height / window.innerHeight;\r\n    \r\n    this.aspect = rect.width / rect.height;\r\n\r\n    return new Vec2(viewportScaleX, viewportScaleY);\r\n  \r\n  }\r\n\r\n  //tranlate the dom elements position in \"dom space\" to a position relative\r\n  //to the calculted view plane's dimensions\r\n  calcDomToWebGLPos({\r\n    domElement\r\n  }) {\r\n    \r\n    const rect = domElement.getBoundingClientRect();\r\n\r\n    const posPhaseX =\r\n      2.0 * ((rect.left + (rect.width * 0.5)) / window.innerWidth) - 1.0;\r\n    const posPhaseY =\r\n      2.0 * ((rect.top + (rect.height * 0.5)) / window.innerHeight) - 1.0;\r\n\r\n    //a bit isoteric (maybe), but a normalized coordinate plane goes between -1 and 1\r\n    //in my case, I have a normalized position in the domain -1 and 1, which I multiply\r\n    //with the widht and height equal to \"half\" the near plane's width and height,\r\n    //which gives me a coordinate plane where the domain is [-viewplane size, viewplane size]\r\n    //which will result in the \"correct\" position on the coordinate plane based on the calculated near plane\r\n    const posX = posPhaseX * this.cameraViewplaneSize.x;\r\n    const posY = posPhaseY * this.cameraViewplaneSize.y * -1.0;\r\n\r\n    //set position of quad\r\n    this.position.x = posX;\r\n    this.position.y = posY;\r\n  }\r\n\r\n  dispose() {\r\n\r\n    this.visible = false;\r\n\r\n  }\r\n\r\n}","// TODO: delete texture\r\n// TODO: use texSubImage2D for updates (video or when loaded)\r\n// TODO: need? encoding = linearEncoding\r\n// TODO: support non-compressed mipmaps uploads\r\n\r\nconst emptyPixel = new Uint8Array(4);\r\n\r\nfunction isPowerOf2(value) {\r\n    return (value & (value - 1)) === 0;\r\n}\r\n\r\nlet ID = 1;\r\n\r\nexport class Texture {\r\n    constructor(gl, {\r\n        image,\r\n        target = gl.TEXTURE_2D,\r\n        type = gl.UNSIGNED_BYTE,\r\n        format = gl.RGBA,\r\n        internalFormat = format,\r\n        wrapS = gl.CLAMP_TO_EDGE,\r\n        wrapT = gl.CLAMP_TO_EDGE,\r\n        generateMipmaps = true,\r\n        minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\r\n        magFilter = gl.LINEAR,\r\n        premultiplyAlpha = false,\r\n        unpackAlignment = 4,\r\n        flipY = target == gl.TEXTURE_2D ? true : false,\r\n        anisotropy = 0,\r\n        level = 0,\r\n        width, // used for RenderTargets or Data Textures\r\n        height = width,\r\n    } = {}) {\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n\r\n        this.image = image;\r\n        this.target = target;\r\n        this.type = type;\r\n        this.format = format;\r\n        this.internalFormat = internalFormat;\r\n        this.minFilter = minFilter;\r\n        this.magFilter = magFilter;\r\n        this.wrapS = wrapS;\r\n        this.wrapT = wrapT;\r\n        this.generateMipmaps = generateMipmaps;\r\n        this.premultiplyAlpha = premultiplyAlpha;\r\n        this.unpackAlignment = unpackAlignment;\r\n        this.flipY = flipY;\r\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\r\n        this.level = level;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.texture = this.gl.createTexture();\r\n        \r\n        this.store = {\r\n            image: null,\r\n        };\r\n        \r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // State store to avoid redundant calls for per-texture state\r\n        this.state = {};\r\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\r\n        this.state.magFilter = this.gl.LINEAR;\r\n        this.state.wrapS = this.gl.REPEAT;\r\n        this.state.wrapT = this.gl.REPEAT;\r\n        this.state.anisotropy = 0;\r\n    }\r\n\r\n    bind() {\r\n\r\n        // Already bound to active texture unit\r\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\r\n        this.gl.bindTexture(this.target, this.texture);\r\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\r\n    }\r\n\r\n    update(textureUnit = 0) {\r\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\r\n\r\n        // Make sure that texture is bound to its texture unit\r\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\r\n\r\n            // set active texture unit to perform texture functions\r\n            this.gl.renderer.activeTexture(textureUnit);\r\n            this.bind();\r\n        }\r\n\r\n        if (!needsUpdate) return;\r\n        this.needsUpdate = false;\r\n\r\n        if (this.flipY !== this.glState.flipY) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\r\n            this.glState.flipY = this.flipY;\r\n        }\r\n\r\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\r\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\r\n        }\r\n\r\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\r\n            this.glState.unpackAlignment = this.unpackAlignment;\r\n        }\r\n\r\n        if (this.minFilter !== this.state.minFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\r\n            this.state.minFilter = this.minFilter;\r\n        }\r\n\r\n        if (this.magFilter !== this.state.magFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\r\n            this.state.magFilter = this.magFilter;\r\n        }\r\n\r\n        if (this.wrapS !== this.state.wrapS) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\r\n            this.state.wrapS = this.wrapS;\r\n        }\r\n\r\n        if (this.wrapT !== this.state.wrapT) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\r\n            this.state.wrapT = this.wrapT;\r\n        }\r\n\r\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\r\n            this.gl.texParameterf(this.target, this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT, this.anisotropy);\r\n            this.state.anisotropy = this.anisotropy;\r\n        }\r\n\r\n        if (this.image) {\r\n            if (this.image.width) {\r\n                this.width = this.image.width;\r\n                this.height = this.image.height;\r\n            }\r\n            \r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n\r\n                // For cube maps\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, this.level, this.internalFormat, this.format, this.type, this.image[i]);\r\n                }\r\n            } else if (ArrayBuffer.isView(this.image)) {\r\n\r\n                // Data texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\r\n            } else if (this.image.isCompressedTexture) {\r\n\r\n                // Compressed texture\r\n                for (let level = 0; level < this.image.length; level++) {\r\n                    this.gl.compressedTexImage2D(this.target, level, this.internalFormat, this.image[level].width, this.image[level].height, 0, this.image[level].data);\r\n                }\r\n            } else {\r\n                \r\n                // Regular texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\r\n            }\r\n\r\n            if (this.generateMipmaps) {\r\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\r\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\r\n                    this.generateMipmaps = false;\r\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\r\n                    this.minFilter = this.gl.LINEAR;\r\n                } else {\r\n                    this.gl.generateMipmap(this.target);\r\n                }\r\n            }\r\n\r\n            // Callback for when data is pushed to GPU\r\n            this.onUpdate && this.onUpdate();\r\n        } else {\r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n\r\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\r\n                }\r\n            } else if (this.width) {\r\n\r\n                // image intentionally left null for RenderTarget\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\r\n            } else {\r\n\r\n                // Upload empty pixel if no image to avoid errors while image or video loading\r\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\r\n            }\r\n        }\r\n        this.store.image = this.image;\r\n    }\r\n}","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","// attribute params\r\n// {\r\n//     data - typed array eg UInt16Array for indices, Float32Array\r\n//     size - int default 1\r\n//     instanced - default null. Pass divisor amount\r\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\r\n//     normalized - boolean default false\r\n\r\n//     buffer - gl buffer, if buffer exists, don't need to provide data\r\n//     stride - default 0 - for when passing in buffer\r\n//     offset - default 0 - for when passing in buffer\r\n//     count - default null - for when passing in buffer\r\n//     min - array - for when passing in buffer\r\n//     max - array - for when passing in buffer\r\n// }\r\n\r\n// TODO: fit in transform feedback\r\n// TODO: when would I disableVertexAttribArray ?\r\n// TODO: add fallback for non vao support (ie)\r\n// TODO: use offset/stride if exists\r\n// TODO: check size of position (eg triangle with Vec2)\r\n\r\nimport {Vec3} from '../math/Vec3.js';\r\n\r\nconst tempVec3 = new Vec3();\r\n\r\nlet ID = 1;\r\nlet ATTR_ID = 1;\r\n\r\n// To stop inifinite warnings\r\nlet isBoundsWarned = false;\r\n\r\nexport class Geometry {\r\n    constructor(gl, attributes = {}) {\r\n        if (!gl.canvas) console.error('gl not passed as fist argument to Geometry');\r\n        this.gl = gl;\r\n        this.attributes = attributes;\r\n        this.id = ID++;\r\n\r\n        // Store one VAO per program attribute locations order\r\n        this.VAOs = {};\r\n\r\n        this.drawRange = {start: 0, count: 0};\r\n        this.instancedCount = 0;\r\n\r\n        // Unbind current VAO so that new buffers don't get added to active mesh\r\n        this.gl.renderer.bindVertexArray(null);\r\n        this.gl.renderer.currentGeometry = null;\r\n\r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // create the buffers\r\n        for (let key in attributes) {\r\n            this.addAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n\r\n    addAttribute(key, attr) {\r\n        this.attributes[key] = attr;\r\n\r\n        // Set options\r\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\r\n        attr.size = attr.size || 1;\r\n        attr.type = attr.type || (\r\n            attr.data.constructor === Float32Array ? this.gl.FLOAT : \r\n            attr.data.constructor === Uint16Array ? this.gl.UNSIGNED_SHORT : \r\n            this.gl.UNSIGNED_INT); // Uint32Array\r\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\r\n        attr.normalized = attr.normalized || false;\r\n        attr.stride = attr.stride || 0;\r\n        attr.offset = attr.offset || 0;\r\n        attr.count = attr.count || attr.data.length / attr.size;\r\n        attr.divisor = attr.instanced || 0;\r\n        attr.needsUpdate = false;\r\n\r\n        if (!attr.buffer) {\r\n            attr.buffer = this.gl.createBuffer();\r\n\r\n            // Push data to buffer\r\n            this.updateAttribute(attr);\r\n        }\r\n\r\n        // Update geometry counts. If indexed, ignore regular attributes\r\n        if (attr.divisor) {\r\n            this.isInstanced = true;\r\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\r\n                console.warn('geometry has multiple instanced buffers of different length');\r\n                return this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor);\r\n            }\r\n            this.instancedCount = attr.count * attr.divisor;\r\n        } else if (key === 'index') {\r\n            this.drawRange.count = attr.count;\r\n        } else if (!this.attributes.index) {\r\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\r\n        }\r\n    }\r\n\r\n    updateAttribute(attr) {\r\n        if (this.glState.boundBuffer !== attr.buffer) {\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n        }\r\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\r\n        attr.needsUpdate = false;\r\n    }\r\n\r\n    setIndex(value) {\r\n        this.addAttribute('index', value);\r\n    }\r\n\r\n    setDrawRange(start, count) {\r\n        this.drawRange.start = start;\r\n        this.drawRange.count = count;\r\n    }\r\n\r\n    setInstancedCount(value) {\r\n        this.instancedCount = value;\r\n    }\r\n\r\n    createVAO(program) {\r\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\r\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n        this.bindAttributes(program);\r\n    }\r\n\r\n    bindAttributes(program) {\r\n\r\n        // Link all attributes to program using gl.vertexAttribPointer\r\n        program.attributeLocations.forEach((location, name) => {\r\n\r\n            // If geometry missing a required shader attribute\r\n            if (!this.attributes[name]) {\r\n                console.warn(`active attribute ${name} not being supplied`);\r\n                return;\r\n            }\r\n\r\n            const attr = this.attributes[name];\r\n\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n            this.gl.vertexAttribPointer(\r\n                location,\r\n                attr.size,\r\n                attr.type,\r\n                attr.normalized,\r\n                attr.stride,\r\n                attr.offset\r\n            );\r\n            this.gl.enableVertexAttribArray(location);\r\n\r\n            // For instanced attributes, divisor needs to be set.\r\n            // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\r\n            this.gl.renderer.vertexAttribDivisor(location, attr.divisor);\r\n        });\r\n\r\n        // Bind indices if geometry indexed\r\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\r\n    }\r\n\r\n    draw({\r\n        program,\r\n        mode = this.gl.TRIANGLES,\r\n    }) {\r\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {   \r\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\r\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\r\n        }\r\n\r\n        // Check if any attributes need updating\r\n        program.attributeLocations.forEach((location, name) => {\r\n            const attr = this.attributes[name];\r\n            if (attr.needsUpdate) this.updateAttribute(attr);\r\n        });\r\n\r\n        if (this.isInstanced) {\r\n            if (this.attributes.index) {\r\n                this.gl.renderer.drawElementsInstanced(mode, this.drawRange.count, this.attributes.index.type, this.drawRange.start, this.instancedCount);\r\n            } else {\r\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\r\n            }\r\n        } else {\r\n            if (this.attributes.index) {\r\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\r\n            } else {\r\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\r\n            }\r\n        }\r\n    }\r\n\r\n    getPositionArray() {\r\n\r\n        // Use position buffer, or min/max if available\r\n        const attr = this.attributes.position;\r\n        if (attr.min) return [...attr.min, ...attr.max];\r\n        if (attr.data) return attr.data;\r\n        if (isBoundsWarned) return;\r\n        console.warn('No position buffer data found to compute bounds');\r\n        return isBoundsWarned = true;\r\n    }\r\n\r\n    computeBoundingBox(array) {\r\n        if (!array) array = this.getPositionArray();\r\n\r\n        if (!this.bounds) {\r\n            this.bounds = {\r\n                min: new Vec3(),\r\n                max: new Vec3(),\r\n                center: new Vec3(),\r\n                scale: new Vec3(),\r\n                radius: Infinity,\r\n            };\r\n        }\r\n\r\n        const min = this.bounds.min;\r\n        const max = this.bounds.max;\r\n        const center = this.bounds.center;\r\n        const scale = this.bounds.scale;\r\n\r\n        min.set(+Infinity);\r\n        max.set(-Infinity);\r\n\r\n        // TODO: use offset/stride if exists\r\n        // TODO: check size of position (eg triangle with Vec2)\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            const x = array[i];\r\n            const y = array[i + 1];\r\n            const z = array[i + 2];\r\n\r\n            min.x = Math.min(x, min.x);\r\n            min.y = Math.min(y, min.y);\r\n            min.z = Math.min(z, min.z);\r\n\r\n            max.x = Math.max(x, max.x);\r\n            max.y = Math.max(y, max.y);\r\n            max.z = Math.max(z, max.z);\r\n        }\r\n\r\n        scale.sub(max, min);\r\n        center.add(min, max).divide(2);\r\n    }\r\n\r\n    computeBoundingSphere(array) {\r\n        if (!array) array = this.getPositionArray();\r\n        if (!this.bounds) this.computeBoundingBox(array);\r\n\r\n        let maxRadiusSq = 0;\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            tempVec3.fromArray(array, i);\r\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\r\n        }\r\n\r\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\r\n    }\r\n\r\n    remove() {\r\n        if (this.vao) this.gl.renderer.deleteVertexArray(this.vao);\r\n        for (let key in this.attributes) {\r\n            this.gl.deleteBuffer(this.attributes[key].buffer);\r\n            delete this.attributes[key];\r\n        }\r\n    }\r\n}","import {Geometry} from '../core/Geometry.js';\r\n\r\nexport class Plane extends Geometry {\r\n    constructor(gl, {\r\n        width = 1, \r\n        height = 1, \r\n        widthSegments = 1, \r\n        heightSegments = 1,\r\n        attributes = {},\r\n    } = {}) {\r\n        const wSegs = widthSegments;\r\n        const hSegs = heightSegments;\r\n\r\n        // Determine length of arrays\r\n        const num = (wSegs + 1) * (hSegs + 1);\r\n        const numIndices = wSegs * hSegs * 6;\r\n\r\n        // Generate empty arrays once\r\n        const position = new Float32Array(num * 3);\r\n        const normal = new Float32Array(num * 3);\r\n        const uv = new Float32Array(num * 2);\r\n        const index = (num > 65536) ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\r\n\r\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\r\n\r\n        Object.assign(attributes, {\r\n            position: {size: 3, data: position},\r\n            normal: {size: 3, data: normal},\r\n            uv: {size: 2, data: uv},\r\n            index: {data: index},\r\n        }); \r\n\r\n        super(gl, attributes);\r\n    }\r\n\r\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs,\r\n        u = 0, v = 1, w = 2,\r\n        uDir = 1, vDir = -1,\r\n        i = 0, ii = 0\r\n    ) {\r\n        const io = i;\r\n        const segW = width / wSegs;\r\n        const segH = height / hSegs;\r\n\r\n        for (let iy = 0; iy <= hSegs; iy++) {\r\n            let y = iy * segH - height / 2;\r\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\r\n                let x = ix * segW - width / 2;\r\n\r\n                position[i * 3 + u] = x * uDir;\r\n                position[i * 3 + v] = y * vDir;\r\n                position[i * 3 + w] = depth / 2;\r\n\r\n                normal[i * 3 + u] = 0;\r\n                normal[i * 3 + v] = 0;\r\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\r\n\r\n                uv[i * 2] = ix / wSegs;\r\n                uv[i * 2 + 1] = 1 - iy / hSegs;\r\n\r\n                if (iy === hSegs || ix === wSegs) continue;\r\n                let a = io + ix + iy * (wSegs + 1);\r\n                let b = io + ix + (iy + 1) * (wSegs + 1);\r\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\r\n                let d = io + ix + iy * (wSegs + 1) + 1;\r\n\r\n                index[ii * 6] = a;\r\n                index[ii * 6 + 1] = b;\r\n                index[ii * 6 + 2] = d;\r\n                index[ii * 6 + 3] = b;\r\n                index[ii * 6 + 4] = c;\r\n                index[ii * 6 + 5] = d;\r\n                ii++;\r\n            }\r\n        }\r\n    }\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\nattribute vec3 normal;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 modelMatrix;\\n\\nuniform sampler2D _FlowMap;\\nuniform float _FlowMapPhase;\\nuniform float _FlipFlowMapForce;\\nuniform float _ScrollPhase;\\n\\nuniform sampler2D _Image;\\nuniform float _Scale;\\nuniform bool _InView;\\n\\nuniform vec2 _ViewplaneSize;\\nvarying vec3 vMvPos;\\nvarying vec3 mPos;\\n\\nvarying vec2 vUv;\\nvarying vec2 vClipPos;\\nvarying float vDist;\\n\\n#define DISTORTSTR 0.7\\n#define SCROLLDISTORTSTR 0.5\\n#define DISPLACEMENTSTR 0.2\\n#define HEIGHTMAPSTR 0.4\\n#define lumaK 0.33333333333333333\\n\\n// #define DISTORTSTR 0.8\\n// #define SCROLLDISTORTSTR 0.5\\n// #define DISPLACEMENTSTR 0.3\\n// #define HEIGHTMAPSTR 1.4\\n\\nvoid main() {\\n\\n    vec3 pos = position;\\n    pos.xy *= _ViewplaneSize * _Scale;\\n    \\n    vec3 col = texture2D(_Image, uv).xyz;\\n    float heightMapDistort = (col.x + col.y + col.z) * lumaK;\\n    float phase = 1.0 - dot(position.xy, position.xy);\\n    \\n    pos.z += (phase * DISPLACEMENTSTR + (heightMapDistort * HEIGHTMAPSTR)) * _ScrollPhase * SCROLLDISTORTSTR;\\n\\n    mat4 modelViewProjection = projectionMatrix * modelViewMatrix;\\n\\n    vec4 clipPos = modelViewProjection * vec4(pos, 1.0);\\n    clipPos.xyz /= clipPos.w;\\n    clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n    vec3 distort = texture2D(_FlowMap, clipPos.xy).xyz * DISTORTSTR;\\n    heightMapDistort = mix(heightMapDistort, 1.0 - heightMapDistort, _FlipFlowMapForce);\\n    pos += distort * max(0.2, heightMapDistort) * _FlowMapPhase * distort.z * mix(0.0, 1.0, _InView ? 1.0 : 0.0);\\n    vClipPos = clipPos.xy;\\n\\n    gl_Position = modelViewProjection * vec4(pos, 1.0);\\n    vUv = uv;\\n    vMvPos = (modelViewMatrix * vec4(position, 1.0)).xyz;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Image;\\nuniform sampler2D _FlowMap;\\nuniform float _FlowMapPhase;\\n\\nuniform float _ScalePhase;\\nuniform float _Alpha;\\nuniform float _RevealPhase;\\nuniform float _RevealDirection;\\nuniform float _ScrollPhase;\\n\\nvarying vec2 vUv;\\nvarying vec3 vMvPos;\\nvarying vec2 vClipPos;\\nvarying float vDist;\\n\\n#define OFFSETAMOUNTX 0.008\\n#define OFFSETAMOUNTY 0.001\\n\\n// #define MINVIEWDIST 0.18\\n#define MINVIEWDIST 0.2\\n// #define MAXVIEWDIST 0.4\\n#define MAXVIEWDIST 0.5\\n// #define ALPHAFALLOFFDIST 20.0\\n#define ALPHAFALLOFFDIST 30.0\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n    uv -= 0.5;\\n    uv *= mix(1.0, 0.85, _ScalePhase); //rename uniform\\n    uv += 0.5;\\n\\n    vec2 flow = texture2D(_FlowMap, vClipPos).xy * _FlowMapPhase;\\n\\n    vec3 img = texture2D(_Image, uv).xyz;\\n    float inputPhase = _ScrollPhase * 3.0;\\n    vec2 offsetX = (vec2(inputPhase, 0.0)) * OFFSETAMOUNTX;\\n    vec2 offsetY = (vec2(0.0, inputPhase)) * OFFSETAMOUNTY;\\n\\n    float r = texture2D(_Image, uv - offsetX - (flow * 0.02)).x;\\n    float g = texture2D(_Image, uv + offsetY + (flow * 0.002)).y;\\n    float b = texture2D(_Image, uv + offsetX + (flow * 0.02)).z;\\n\\n    float len = (vMvPos.z * vMvPos.z);\\n    float idleAlpha = smoothstep(MINVIEWDIST, MAXVIEWDIST, len);\\n    float scrollAlpha = idleAlpha * mix(1.0, 0.5, abs(_ScrollPhase)) * (smoothstep(ALPHAFALLOFFDIST, 0.0, len));\\n    float alpha = mix(idleAlpha, scrollAlpha, abs(_ScrollPhase));\\n    alpha *= _Alpha;\\n\\n    //reveal phase\\n    // alpha *= step(abs((vUv.y * 0.99) * 2.0 - 1.0), _RevealPhase);\\n    // alpha *= step(vUv.x, _RevealPhase);\\n    alpha *= mix(step(vUv.y, _RevealPhase), step(1.0 - (vUv.x * 0.99), _RevealPhase), _RevealDirection);\\n  \\n    gl_FragColor = vec4(vec3(r,g,b), alpha);\\n\\n}\";","\r\n  //https://torstencurdt.com/tech/posts/modulo-of-negative-numbers/\r\nexport const loopNegativeNumber = ({a, b}) => {\r\n\r\n    a %= b;\r\n    a = a > 0.0 ? a + b : a;\r\n    return a;\r\n\r\n}\r\n\r\n//https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\r\nexport const makeid = ({length}) => {\r\n  var result           = '';\r\n  var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  var charactersLength = characters.length;\r\n  for ( var i = 0; i < length; i++ ) {\r\n     result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}","import DomQuad from '../../../extras/DomQuad/DomQuad.js';\r\nimport { Program } from '../../../../../vendors/ogl/src/core/Program.js';\r\nimport { Texture } from '../../../../../vendors/ogl/src/core/Texture.js';\r\nimport { Plane } from '../../../../../vendors/ogl/src/extras/Plane.js';\r\n  \r\n  const vert = require(\"./shaders/projectQuad.vert\");\r\n  const frag = require(\"./shaders/projectQuad.frag\");\r\n  \r\n  import {loopNegativeNumber, makeid} from '../../../../../utils/Math.js';\r\n  import eventEmitter from '../../../../EventEmitter.js'\r\n  const emitter = eventEmitter.emitter;\r\n  import events from '../../../../../utils/events.js';\r\n  \r\n  import {gsap} from 'gsap';\r\n  \r\n  export default class ProjectQuad extends DomQuad {\r\n    constructor(\r\n      gl,\r\n      media, {\r\n        widthSegments = 1.0,\r\n        heightSegments = 1.0,\r\n        posOffset = 0.0,\r\n      } = {}\r\n    ) {\r\n\r\n      super(gl,\r\n        {\r\n            widthSegments,\r\n            heightSegments,\r\n        } = {});\r\n\r\n      this.gl = gl;\r\n      \r\n      this.id = makeid({length: 9});\r\n\r\n      this.index = posOffset; //rename argument\r\n    \r\n      // this.videos = media;\r\n      this.media = media;\r\n  \r\n      this.video = this.media.video;\r\n  \r\n      this.initPos = this.position.z = 0 - (posOffset % 5.0);\r\n    \r\n      this.targetPos = this.position.z;\r\n\r\n      this.inScrollMode = false;\r\n\r\n      this.scrollPhase = 0;\r\n\r\n      this.isInView = false;\r\n      \r\n      this.restoreDelta = 1;\r\n      \r\n      this.restorePhase = 0;\r\n\r\n      this.restoreEase = 0;\r\n        \r\n      this.initProgram();\r\n  \r\n      this.initEvents();\r\n  \r\n    }\r\n  \r\n    initEvents() {\r\n  \r\n      emitter.on(events.PLAY_VIDEO, this.playVideo);\r\n      emitter.on(events.PAUSE_VIDEO, this.pauseVideo);\r\n      \r\n      emitter.on(events.APPLY_SCROLL_MODE_ANIM, this.applyScrollMode);\r\n      emitter.on(events.REMOVE_SCROLL_MODE_ANIM, this.removeScrollMode);\r\n\r\n    }\r\n  \r\n    initProgram = () => {\r\n    \r\n    this.geometry = new Plane(this.gl, {\r\n      width: 2,\r\n      height: 2,\r\n      widthSegments: 32.0,\r\n      heightSegments: 32.0\r\n    });\r\n  \r\n      this.texture = new Texture(this.gl, {\r\n        generateMipmaps: false,\r\n        minFilter: this.gl.LINEAR,\r\n        magFilter: this.gl.LINEAR\r\n      });\r\n\r\n      this.updateTexture = true;\r\n      this.texture.needsUpdate = this.updateTexture;\r\n    \r\n      const u = {\r\n        _ViewplaneSize: {\r\n          value: this.viewPlaneSize\r\n        },\r\n        _Time: {\r\n          value: 0\r\n        },\r\n        _Image: {\r\n          value: this.texture\r\n        },\r\n        _FlowMap: {\r\n          value: new Texture(this.gl)\r\n        },\r\n        _FlowMapPhase: {\r\n          value: 1.0\r\n        },\r\n        _ScrollPhase: {\r\n          value: 0\r\n        },\r\n        _InputForce: {\r\n          value: 0.0\r\n        },\r\n        _FlipFlowMapForce: {\r\n          value: 0.0\r\n        },\r\n        _ScalePhase: {\r\n          value: 0.0\r\n        },\r\n        _RevealPhase: {\r\n          value: 0.0\r\n        },\r\n        _RevealDirection: {\r\n          value: 0.0\r\n        },\r\n        _InView: {\r\n          value: false\r\n        },\r\n        _Alpha: {\r\n          value: 0.0\r\n        },\r\n        _Scale: {\r\n          value: 1.0\r\n        },\r\n      };\r\n  \r\n      this.program = new Program(this.gl, {\r\n        vertex: vert,\r\n        fragment: frag,\r\n        uniforms: u,\r\n        transparent: true,\r\n      });\r\n    }\r\n  \r\n    //consider making the animation faster\r\n    applyScrollMode = () => {\r\n  \r\n      this.inScrollMode = true;\r\n      this.animteUniforms({scale: 0.85, alpha: 1.0, alphaPhase: 1.0, flowMapPhase: 0.0});\r\n  \r\n    }\r\n  \r\n    removeScrollMode = () => {\r\n      \r\n      this.inScrollMode = false;\r\n      this.animteUniforms({scale: 1.0, alpha: this.isInView ? 1.0 : 0.0, alphaPhase: 0.0, flowMapPhase: this.isInView ? 1.0 : 0.0});\r\n      this.targetPos = Math.round(this.position.z);\r\n      const delta = this.targetPos - this.position.z;\r\n      this.restoreDelta = Math.abs(delta) > 0 ? delta : 1.0;\r\n\r\n    }\r\n  \r\n    update({force}) {\r\n\r\n      if(this.video !== null) {\r\n        this.updateVideoTexture();\r\n      }\r\n      \r\n      if(this.inScrollMode) {\r\n          \r\n          this.position.z += force;\r\n          this.scrollPhase += force;\r\n\r\n      } else {\r\n        this.restorePosition();\r\n      }\r\n\r\n      this.updateScrollPhase();\r\n\r\n    }\r\n\r\n    updateScrollPhase() {\r\n\r\n      this.scrollPhase = Math.max(-1.0, Math.min(1.0, this.scrollPhase));\r\n      this.program.uniforms._ScrollPhase.value = this.scrollPhase;\r\n      this.scrollPhase *= 0.94;\r\n      if(Math.abs(this.scrollPhase) < 0.0001) this.scrollPhase = 0;\r\n\r\n    }\r\n\r\n    restorePosition() {\r\n\r\n      const delta = this.targetPos - this.position.z;\r\n      this.restoreEase = delta * 0.1;\r\n      this.position.z += this.restoreEase;\r\n      if(Math.abs(delta) < 0.0001) {\r\n        this.position.z = Math.round(this.position.z);\r\n        this.restoreEase = 0;\r\n      } else {\r\n        this.restorePhase = delta / this.restoreDelta;\r\n        const fallOff = 1.0 - ((1.0 - this.restorePhase) * (1.0 - this.restorePhase));\r\n        this.restoreEase *= 0.5 + (1.0 - 0.5) * fallOff;\r\n      }\r\n      \r\n    }\r\n\r\n    animteUniforms({scale, alpha, alphaPhase, flowMapPhase}) {\r\n\r\n      if(this.scrollModeTl) this.scrollModeTl.kill();\r\n      this.scrollModeTl = gsap.timeline({})\r\n      this.scrollModeTl.to(this.program.uniforms._Alpha, {\r\n        value: alpha,\r\n        duration: 0.5,\r\n        ease: \"power1.out\"\r\n      }, \"<\");\r\n\r\n      this.scrollModeTl.to(this.program.uniforms._Scale, {\r\n        value: scale,\r\n        duration: 0.35,\r\n        ease: \"power1.out\"\r\n      }, \"<\");\r\n\r\n      this.scrollModeTl.to(this.program.uniforms._ScalePhase, {\r\n          value: alphaPhase,\r\n          duration: 0.35,\r\n          ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n        this.scrollModeTl.to(this.program.uniforms._FlowMapPhase, {\r\n          value: flowMapPhase,\r\n          duration: 0.3,\r\n          ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n    }\r\n  \r\n    updateVideoTexture() {\r\n  \r\n        // this.video = this.videos[this.index].vid;\r\n        this.program.uniforms._FlipFlowMapForce.value = this.media.brightVal;\r\n\r\n        if(this.inView) {\r\n          if (this.video.readyState >= this.video.HAVE_ENOUGH_DATA) {\r\n            this.texture.image = this.video;\r\n            this.updateTexture = !this.updateTexture;\r\n            this.texture.needsUpdate = this.updateTexture;\r\n          }\r\n        }\r\n  \r\n    }\r\n  \r\n    playVideo = () => {\r\n      \r\n      if(this.video === null) return;\r\n      if(this.inView({inViewPosZ: 0 - this.parent.position.z})) this.video.play();\r\n  \r\n    }\r\n  \r\n    pauseVideo = () => {\r\n\r\n      if(this.video === null) return;\r\n      this.video.pause();\r\n  \r\n    }\r\n\r\n    inView({inViewPosZ}) {\r\n  \r\n      this.program.uniforms._InView.value = this.isInView = Math.round(this.position.z) === inViewPosZ ? true : false;\r\n      return this.isInView;\r\n\r\n    }\r\n  \r\n  }","import { Transform } from \"../../../../vendors/ogl/src/core/Transform\";\r\nimport eventEmitter from \"../../../EventEmitter\";\r\nimport events from \"../../../../utils/events\";\r\nconst emitter = eventEmitter.emitter;\r\n\r\nexport default class DomquadMediator extends Transform {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        super();\r\n\r\n        this.scene = scene;\r\n\r\n        this.camera = camera;\r\n\r\n        this.quadsLoaded = false;\r\n\r\n    }\r\n    \r\n    unloadQuads = () => {\r\n        \r\n        this.children.map((quad) => {\r\n            quad.visible = false;\r\n        });\r\n\r\n    }\r\n\r\n}","import ProjectQuad from \"../Projects/ProjectQuad/ProjectQuad\";\r\nimport DomquadMediator from '../../extras/DomQuad/DomquadMediator';\r\n\r\nimport eventEmitter from '../../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../../utils/events.js';\r\n\r\nimport {gsap} from 'gsap';\r\nimport { Vec2 } from \"../../../../vendors/ogl/src/math/Vec2\";\r\n\r\nexport default class ProjectQuadMediator extends DomquadMediator {\r\n  constructor(gl, scene, camera) {\r\n    super(gl, scene, camera);\r\n\r\n    this.gl = gl;\r\n\r\n    this.quads = [];\r\n\r\n    this.quadCount = 5;\r\n\r\n    this.quadInView;\r\n\r\n    this.quadSwapped = false;\r\n    \r\n    this.position.z = 1.0;\r\n\r\n    this.inputForce = new Vec2(0.0, 0.0);\r\n\r\n    this.inputForceInertia = 0.93;\r\n\r\n    this.inScrollMode = false;\r\n\r\n    this.minBounds = -5.0;\r\n\r\n    this.maxBounds = 0.0;\r\n\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    emitter.on(events.ENTER_SCROLL_MODE, this.enterScrollMode);\r\n    emitter.on(events.EXIT_SCROLL_MODE, this.exitScrollMode);\r\n    emitter.on(events.REVEAL_QUADS, this.revealQuads);\r\n    emitter.on(events.SWAP_QUAD, this.swapQuad);\r\n    emitter.on(events.PREPARE_UNMOUNT, this.hideQuads);\r\n\r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    emitter.off(events.ENTER_SCROLL_MODE, this.enterScrollMode);\r\n    emitter.off(events.EXIT_SCROLL_MODE, this.exitScrollMode);\r\n    emitter.off(events.REVEAL_QUADS, this.revealQuads);\r\n    emitter.off(events.SWAP_QUAD, this.swapQuad);\r\n    emitter.off(events.PREPARE_UNMOUNT, this.hideQuads);\r\n\r\n  }\r\n\r\n  initQuads = ({referenceElement, media, getFirstQuad}) => {\r\n\r\n    this.setParent(this.scene);\r\n\r\n    if (referenceElement === null) {\r\n      console.error(\"reference dom elements not available\");\r\n      return;\r\n    }\r\n\r\n    //videos\r\n    this.media = media;\r\n\r\n    //dom element that quads position's and scales will have it's\r\n    //world position and scales be based on\r\n    this.referenceElement = referenceElement;\r\n\r\n    if(this.quadsLoaded === false) {\r\n    \r\n      //create quads for each project video\r\n      let i = 0;\r\n      while (i < this.media.length) {\r\n\r\n        const quad = new ProjectQuad(\r\n          this.gl,\r\n          this.media[i], {\r\n            widthSegments: 16.0,\r\n            heightSegments: 16.0,\r\n            posOffset: i, //rename or make new prop for index?\r\n            // phase: phase\r\n          }\r\n        );\r\n\r\n        this.calculateDomTransforms({quad});\r\n        \r\n        this.quads[i] = quad;\r\n        i++;\r\n        \r\n      }\r\n      \r\n      this.quadsLoaded = true;\r\n\r\n      //only append the amount of quads based on quad count\r\n      i = 0;\r\n      while(i < this.quadCount) {\r\n        this.quads[i].setParent(this);\r\n        i++;\r\n      }\r\n  \r\n    }\r\n\r\n  this.children.map((quad) => {\r\n\r\n      quad.visible = true;\r\n\r\n  })\r\n\r\n  if(getFirstQuad) {\r\n    this.quadInView = this.getQuadInView();\r\n    this.quadInView.playVideo();\r\n  }\r\n\r\n    // this.revealQuads();\r\n\r\n  }\r\n\r\n  enterScrollMode = () => {\r\n\r\n    this.inScrollMode = true;\r\n    emitter.emit(events.PAUSE_VIDEO);\r\n    emitter.emit(events.APPLY_SCROLL_MODE_ANIM);\r\n\r\n  }\r\n\r\n  exitScrollMode = () => {\r\n\r\n    this.inScrollMode = false;\r\n    this.quadInView = this.getQuadInView();\r\n    this.quadInView.playVideo();\r\n    emitter.emit(events.REMOVE_SCROLL_MODE_ANIM);\r\n    \r\n  }\r\n\r\n  revealQuads = () => {\r\n\r\n    if(this.revealQuadAnim) this.revealQuadAnim.kill();\r\n\r\n    this.revealQuadAnim = gsap.timeline({\r\n      onComplete: () => {\r\n        this.children.map((quad) => {\r\n          quad.program.uniforms._RevealPhase.value = 1.0\r\n        });\r\n      }\r\n    })\r\n\r\n    this.revealQuadAnim.set(this.quadInView.program.uniforms._RevealDirection, {\r\n      value: 0.0\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(this.quadInView.program.uniforms._Alpha, {\r\n      duration: 0.1,\r\n      value: 1.0,\r\n      ease: \"sine.in\"\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(this.quadInView.program.uniforms._RevealPhase, {\r\n      duration: 0.85,\r\n      value: 1.0,\r\n      ease: \"circ.inOut\",\r\n    }, \"<\");\r\n      \r\n  }\r\n\r\n  hideQuads = () => {\r\n\r\n    this.children.map((quad) => {\r\n\r\n      gsap.set(quad.program.uniforms._RevealDirection, {\r\n        value: 1.0\r\n      });\r\n  \r\n      gsap.to(quad.program.uniforms._RevealPhase, {\r\n        duration: 0.9,\r\n        value: 0.0,\r\n        ease: \"circ.inOut\",\r\n        onComplete: () => {\r\n          gsap.set(quad.program.uniforms._Alpha, {\r\n            value: 0.0\r\n          });\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  //add the quadratic inertia here as well\r\n  updateInputForce({inputDelta, dt = 14.0}) {\r\n\r\n    this.inputForce.y += inputDelta.y * 0.007 / dt;\r\n    // this.inputForce.y += inputDelta.y * 0.005 / dt;\r\n\r\n  }\r\n\r\n  update({dt, inputDelta, flowMap}) {\r\n\r\n      if(this.inScrollMode) {\r\n        this.updateInputForce({inputDelta, dt});\r\n      }\r\n        \r\n      this.children.map((quad) => {\r\n          \r\n        quad.update({force: this.inputForce.y, deltaTime: dt});\r\n        quad.program.uniforms._InputForce.value = Math.min(1.0, Math.abs(this.inputForce.y * 1.0));\r\n        quad.program.uniforms._Time.value += dt;\r\n        quad.program.uniforms._FlowMap.value = flowMap;\r\n          \r\n      });\r\n\r\n      this.inputForce.y *= this.inputForceInertia;\r\n      if(Math.abs(this.inputForce.y) < 0.001) this.inputForce.y = 0.0;\r\n\r\n      this.loopQuads();\r\n\r\n  }\r\n\r\n  loopQuads() {\r\n\r\n    this.children.map((quad) => {\r\n\r\n      if(quad.position.z < -5.0) {\r\n        this.swapQuad({quad, direction: -1});\r\n      } else if(quad.position.z > 0.0) {\r\n        this.swapQuad({quad, direction: 1});\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  swapQuad = ({quad, direction}) => {\r\n\r\n    //current quad's position\r\n    const pos = quad.position;\r\n    \r\n    //current quad's ID\r\n    const id = quad.id;\r\n\r\n    //current quad's index;\r\n    let index = quad.index;\r\n\r\n    //increase or decrease index based on active quad length which will be used\r\n    //to tell which quad to append\r\n    index = direction <= -1 ? index - this.quadCount : index + this.quadCount;\r\n\r\n    //loop index\r\n    //*NOTE* I have no idea how it makes sense, but after some pen & paper coding I noticed\r\n    //that applying the delta between the video count and the quad count gives me the desired index\r\n    index = (((index % this.quads.length) + this.quads.length) % this.quads.length);\r\n\r\n    //remove quad\r\n    for(let i = 0; i < this.quadCount; i++) {\r\n      if(this.children[i].id === id) {\r\n        this.removeChild(this.children[i]);        \r\n        break;\r\n      }\r\n    }\r\n    \r\n    //init new quad\r\n    const newQuad = this.quads[index];\r\n    newQuad.position = pos;\r\n    newQuad.program.uniforms._RevealPhase.value = 1.0;\r\n    \r\n    //calculte position and scale based on reference dom element\r\n    //and append to parent transform\r\n    this.calculateDomTransforms({quad: newQuad}); \r\n    \r\n    newQuad.setParent(this);\r\n\r\n    //loop positions\r\n    this.children.map((quad) => {\r\n\r\n      if(quad.position.z < -5.0) {\r\n        quad.position.z += 5.0;\r\n      } else if(quad.position.z > 0.0) {\r\n        quad.position.z -= 5.0;\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  //get the quad whose position equals to the camera's position along Z\r\n  //and offsetted by the parents transform. That way I'll get the quad\r\n  //that is in view of the camera (or simply in front)\r\n  getQuadInView() {\r\n      \r\n      let quadInView;\r\n\r\n      this.children.map((quad) => {  \r\n        \r\n        if(quad.inView({inViewPosZ: 0 - this.position.z})) {          \r\n        // if(quad.inView({inViewPosZ: this.position.z})) {          \r\n          quadInView = quad;\r\n          emitter.emit(events.LOAD_PROJECT_CONTENT, quadInView.index);\r\n\r\n        }\r\n      \r\n      });\r\n\r\n      return quadInView;\r\n      \r\n  }\r\n\r\n  calculateDomTransforms({quad}) {\r\n\r\n    quad.updateDimensions({\r\n      domElement: this.referenceElement,\r\n      camera: this.camera\r\n    });\r\n\r\n    quad.calcDomToWebGLPos({\r\n      domElement: this.referenceElement,\r\n    });\r\n\r\n  }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\n\\nuniform vec2 _ViewplaneSize;\\nuniform sampler2D _FlowMap;\\nuniform sampler2D _Image;\\n\\nuniform float _Alpha;\\n\\nuniform float _Aspect;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nvarying vec2 vUv;\\nvarying vec2 vClipPos;\\n\\n#define DISTORTSTR 0.8\\n#define lumaK 0.33333333333333333\\n\\nvoid main() {\\n\\n    vec3 pos = position;\\n    pos.xy *= _ViewplaneSize;\\n    \\n    mat4 modelViewProjection = projectionMatrix * modelViewMatrix;\\n\\n    vec4 clipPos = modelViewProjection * vec4(pos, 1.0);\\n    clipPos.xyz /= clipPos.w;\\n    clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n    vec3 distort = texture2D(_FlowMap, clipPos.xy).xyz * DISTORTSTR;\\n\\n    vec2 imgCoord = uv;\\n    // imgCoord.x *= _Aspect;\\n\\n    vec3 col = texture2D(_Image, imgCoord).xyz;\\n    float heightMap = (col.x + col.y + col.z) * lumaK;\\n    heightMap *= heightMap;\\n    // pos += distort * max(0.2, heightMap) * distort.z;\\n    pos += distort * distort.z;\\n\\n    gl_Position = modelViewProjection * vec4(pos, 1.0);\\n    vUv = uv;\\n    vClipPos = clipPos.xy;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Image;\\nuniform sampler2D _FlowMap;\\nuniform float _Alpha;\\nuniform float _Aspect;\\n\\nuniform float _RevealDirection;\\n\\nvarying vec2 vUv;\\nvarying vec2 vClipPos;\\n\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n\\n    uv -= 0.5;\\n    uv.x *= _Aspect;\\n    uv += 0.5;\\n\\n    vec3 flow = texture2D(_FlowMap, vClipPos).xyz;\\n\\n    uv -= flow.xy * 0.8;\\n\\n    vec2 offSet = flow.xy;\\n\\n    float r = texture2D(_Image, uv + offSet * 0.01).x;\\n    float g = texture2D(_Image, uv + offSet * 0.001).y;\\n    float b = texture2D(_Image, uv - offSet * 0.01).z;\\n\\n    vec3 outPutCol = vec3(r,g,b);\\n\\n    gl_FragColor = vec4(outPutCol, mix(step(vUv.y, _Alpha), 1.0 - step(_Alpha, vUv.x * 0.99), _RevealDirection));\\n\\n}\";","import {Program} from '../../../../../vendors/ogl/src/core/Program';\r\nimport {Vec2} from '../../../../../vendors/ogl/src/math/Vec2';\r\nimport {Texture} from '../../../../../vendors/ogl/src/core/Texture';\r\nimport {Plane} from '../../../../../vendors/ogl/src/extras/Plane';\r\nimport DomQuad from \"../../../extras/DomQuad/DomQuad\";\r\n\r\nconst vert = require('./shaders/aboutQuad.vert');\r\nconst frag = require('./shaders/aboutQuad.frag');\r\n\r\nimport {gsap} from 'gsap';\r\n\r\n\r\nexport default class AboutQuad extends DomQuad {\r\n\r\n    constructor(\r\n        gl,\r\n        media, {\r\n          widthSegments,\r\n          heightSegments,\r\n        } = {}\r\n      ) {\r\n\r\n        super(gl, {\r\n            widthSegments,\r\n            heightSegments\r\n        });\r\n\r\n        this.gl = gl;\r\n\r\n        this.image = media.image;\r\n\r\n        this.initProgram();\r\n\r\n      }\r\n\r\n      initProgram = () => {\r\n\r\n        this.texture = new Texture(this.gl, {\r\n            generateMipmaps: false,\r\n        });\r\n\r\n        this.texture.image = this.image;\r\n\r\n        this.geometry = new Plane(this.gl, {\r\n            width: 2,\r\n            height: 2,\r\n            widthSegments: 32.0,\r\n            heightSegments: 32.0\r\n          });\r\n\r\n        const u = {\r\n\r\n            _ViewplaneSize: {\r\n                value: this.viewPlaneSize\r\n            },\r\n            _Image: {\r\n                value: this.texture\r\n            },\r\n            _FlowMap: {\r\n                value: null\r\n            },\r\n            _Alpha: {\r\n                value: 0.0\r\n            },\r\n            _RevealDirection: {\r\n              value: 0.0\r\n            },\r\n            _Aspect: {\r\n                value: this.aspect\r\n            }\r\n\r\n        }\r\n\r\n        this.program = new Program(this.gl, {\r\n            vertex: vert,\r\n            fragment: frag,\r\n            uniforms: u,\r\n            transparent: true\r\n        });\r\n\r\n      }\r\n      \r\n      reveal() {\r\n\r\n        gsap.to(this.program.uniforms._Alpha, {\r\n            duration: 0.85,\r\n            value: 1.0,\r\n            ease: \"circ.inOut\"\r\n        });\r\n\r\n        gsap.set(this.program.uniforms._RevealDirection, {\r\n          value: 0.0\r\n        });\r\n\r\n      }\r\n\r\n      hide() {\r\n\r\n        gsap.to(this.program.uniforms._Alpha, {\r\n            duration: 0.9,\r\n            value: 0.0,\r\n            ease: \"circ.inOut\"\r\n        });\r\n\r\n        gsap.set(this.program.uniforms._RevealDirection, {\r\n          value: 1.0\r\n        });\r\n\r\n      }\r\n\r\n      update(flowMap) {\r\n        \r\n        this.program.uniforms._Aspect.value = this.aspect;\r\n        this.program.uniforms._FlowMap.value = flowMap;\r\n\r\n      }\r\n\r\n}","import DomquadMediator from '../../extras/DomQuad/DomquadMediator.js';\r\nimport AboutQuad from './AboutQuad/AboutQuad.js';\r\n\r\nimport eventEmitter from '../../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../../utils/events';\r\n\r\nexport default class AboutQuadMediator extends DomquadMediator {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        super(gl, scene, camera);\r\n\r\n        this.gl = gl;\r\n\r\n        this.position.z = 0.0;\r\n\r\n    }\r\n\r\n    initEvents = () => {\r\n        emitter.on(events.REVEAL_QUADS, this.revealQuad);\r\n        emitter.on(events.PREPARE_UNMOUNT, this.animateOutQuads);\r\n    }\r\n\r\n    removeEvents = () => {\r\n        emitter.off(events.REVEAL_QUADS, this.revealQuad);\r\n        emitter.off(events.PREPARE_UNMOUNT, this.animateOutQuads);\r\n    }\r\n\r\n    initQuads = ({referenceElement, media}) => {\r\n\r\n        this.setParent(this.scene);\r\n\r\n        this.referenceElement = referenceElement;\r\n\r\n        if(this.quadsLoaded === false) {\r\n\r\n            this.quad = new AboutQuad(this.gl, media, {\r\n                widthSegments: 16.0,\r\n                heightSegments: 16.0\r\n            });\r\n    \r\n            this.quad.setParent(this);\r\n\r\n            this.quadsLoaded = true;\r\n\r\n        }\r\n\r\n        this.quad.visible = true;\r\n\r\n        this.calculateDomTransforms();\r\n    }\r\n\r\n    revealQuad = () => {\r\n\r\n        this.quad.reveal();\r\n\r\n    }\r\n\r\n    animateOutQuads = () => {\r\n\r\n        this.quad.hide();\r\n\r\n    }\r\n\r\n    update({flowMap}) {\r\n        \r\n        this.quad.update(flowMap);\r\n\r\n    }\r\n\r\n    calculateDomTransforms() {\r\n\r\n        this.quad.updateDimensions({\r\n            domElement: this.referenceElement,\r\n            camera: this.camera\r\n        });\r\n\r\n        this.quad.calcDomToWebGLPos({\r\n            domElement: this.referenceElement,\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\n","import eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport ProjectQuadMediator from './Projects/projectQuadMediator.js'\r\nimport AboutQuadMediator from './About/AboutQudMediator.js';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nexport default class DomQuadManager {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        this.gl = gl;\r\n\r\n        this.scene = scene;\r\n\r\n        this.camera = camera;\r\n\r\n        this.initMediators();\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n\r\n    initMediators() {\r\n\r\n        this.activeMediator = null;\r\n        this.mediators = {\r\n            PROJECTS: new ProjectQuadMediator(this.gl, this.scene, this.camera),\r\n            ABOUT: new AboutQuadMediator(this.gl, this.scene, this.camera)\r\n        }\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.INIT_DOMGL, this.loadMediator);\r\n        emitter.on(events.REMOVE_DOMGL, this.unloadActiveMediator);\r\n        emitter.on(events.RESIZE, this.resize)\r\n\r\n    }\r\n\r\n    loadMediator = ({view, params}) => { //rename\r\n\r\n        this.activeMediator = this.mediators[view];\r\n        this.activeMediator.initQuads(params);\r\n        this.activeMediator.initEvents();\r\n\r\n    }\r\n\r\n    unloadActiveMediator = () => {\r\n\r\n            this.activeMediator.removeEvents();\r\n            this.activeMediator.unloadQuads();\r\n            this.scene.removeChild(this.activeMediator);\r\n\r\n    }\r\n\r\n    update({dt, inputPos, inputDelta, flowMap}) {\r\n\r\n        if(this.activeMediator === null) return;\r\n\r\n        this.activeMediator.update({dt, inputPos, inputDelta, flowMap});\r\n        this.activeMediator.children.map((quad) => {\r\n\r\n            quad.calcDomToWebGLPos({\r\n                domElement: this.activeMediator.referenceElement,\r\n              });\r\n\r\n        });\r\n\r\n    }\r\n    \r\n    updateQuadDimensions() {\r\n\r\n        if(this.activeMediator === null) return;\r\n\r\n        this.activeMediator.children.map((quad) => {\r\n          \r\n            quad.updateDimensions({\r\n            domElement: this.activeMediator.referenceElement,\r\n            camera: this.camera\r\n\r\n          });\r\n        \r\n        });\r\n\r\n    }\r\n\r\n    resize = () => {\r\n\r\n        if(this.updateDimensions) this.updateDimensions.kill();\r\n        this.updateDimensions = gsap.delayedCall(0.1, () => {\r\n            this.updateQuadDimensions();\r\n        });\r\n\r\n    }\r\n\r\n}","import { Geometry } from '../core/Geometry.js';\r\n\r\nexport class Triangle extends Geometry {\r\n    constructor(gl, {\r\n        attributes = {},\r\n    } = {}) {\r\n\r\n        Object.assign(attributes, {\r\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\r\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\r\nexport function fromMat4(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[4];\r\n    out[4] = a[5];\r\n    out[5] = a[6];\r\n    out[6] = a[8];\r\n    out[7] = a[9];\r\n    out[8] = a[10];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0], y = q[1], z = q[2], w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[3] = yx - wz;\r\n    out[6] = zx + wy;\r\n\r\n    out[1] = yx + wz;\r\n    out[4] = 1 - xx - zz;\r\n    out[7] = zy - wx;\r\n\r\n    out[2] = zx - wy;\r\n    out[5] = zy + wx;\r\n    out[8] = 1 - xx - yy;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m10;\r\n    out[4] = m11;\r\n    out[5] = m12;\r\n    out[6] = m20;\r\n    out[7] = m21;\r\n    out[8] = m22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 1;\r\n    out[5] = 0;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1], a02 = a[2], a12 = a[5];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a01;\r\n        out[5] = a[7];\r\n        out[6] = a02;\r\n        out[7] = a12;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a[1];\r\n        out[4] = a[4];\r\n        out[5] = a[7];\r\n        out[6] = a[2];\r\n        out[7] = a[5];\r\n        out[8] = a[8];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2];\r\n    let a10 = a[3], a11 = a[4], a12 = a[5];\r\n    let a20 = a[6], a21 = a[7], a22 = a[8];\r\n\r\n    let b01 = a22 * a11 - a12 * a21;\r\n    let b11 = -a22 * a10 + a12 * a20;\r\n    let b21 = a21 * a10 - a11 * a20;\r\n\r\n    // Calculate the determinant\r\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = b01 * det;\r\n    out[1] = (-a22 * a01 + a02 * a21) * det;\r\n    out[2] = (a12 * a01 - a02 * a11) * det;\r\n    out[3] = b11 * det;\r\n    out[4] = (a22 * a00 - a02 * a20) * det;\r\n    out[5] = (-a12 * a00 + a02 * a10) * det;\r\n    out[6] = b21 * det;\r\n    out[7] = (-a21 * a00 + a01 * a20) * det;\r\n    out[8] = (a11 * a00 - a01 * a10) * det;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2];\r\n    let a10 = a[3], a11 = a[4], a12 = a[5];\r\n    let a20 = a[6], a21 = a[7], a22 = a[8];\r\n\r\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\r\n}\r\n\r\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2];\r\n    let a10 = a[3], a11 = a[4], a12 = a[5];\r\n    let a20 = a[6], a21 = a[7], a22 = a[8];\r\n\r\n    let b00 = b[0], b01 = b[1], b02 = b[2];\r\n    let b10 = b[3], b11 = b[4], b12 = b[5];\r\n    let b20 = b[6], b21 = b[7], b22 = b[8];\r\n\r\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\r\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\r\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\r\n\r\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\r\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\r\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\r\n\r\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\r\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\r\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2],\r\n        a10 = a[3], a11 = a[4], a12 = a[5],\r\n        a20 = a[6], a21 = a[7], a22 = a[8],\r\n        x = v[0], y = v[1];\r\n\r\n    out[0] = a00;\r\n    out[1] = a01;\r\n    out[2] = a02;\r\n\r\n    out[3] = a10;\r\n    out[4] = a11;\r\n    out[5] = a12;\r\n\r\n    out[6] = x * a00 + y * a10 + a20;\r\n    out[7] = x * a01 + y * a11 + a21;\r\n    out[8] = x * a02 + y * a12 + a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\r\nexport function rotate(out, a, rad) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2],\r\n        a10 = a[3], a11 = a[4], a12 = a[5],\r\n        a20 = a[6], a21 = a[7], a22 = a[8],\r\n\r\n        s = Math.sin(rad),\r\n        c = Math.cos(rad);\r\n\r\n    out[0] = c * a00 + s * a10;\r\n    out[1] = c * a01 + s * a11;\r\n    out[2] = c * a02 + s * a12;\r\n\r\n    out[3] = c * a10 - s * a00;\r\n    out[4] = c * a11 - s * a01;\r\n    out[5] = c * a12 - s * a02;\r\n\r\n    out[6] = a20;\r\n    out[7] = a21;\r\n    out[8] = a22;\r\n    return out;\r\n};\r\n\r\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0], y = v[1];\r\n\r\n    out[0] = x * a[0];\r\n    out[1] = x * a[1];\r\n    out[2] = x * a[2];\r\n\r\n    out[3] = y * a[3];\r\n    out[4] = y * a[4];\r\n    out[5] = y * a[5];\r\n\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {mat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function normalFromMat4(out, a) {\r\n    let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\r\n    let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\r\n    let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\r\n    let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n\r\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n\r\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\r\nexport function projection(out, width, height) {\r\n    out[0] = 2 / width;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = -2 / height;\r\n    out[5] = 0;\r\n    out[6] = -1;\r\n    out[7] = 1;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    return out;\r\n}","import * as Mat3Func from './functions/Mat3Func.js';\r\n\r\nexport class Mat3 extends Array {\r\n    constructor(\r\n        m00 = 1, m01 = 0, m02 = 0, \r\n        m10 = 0, m11 = 1, m12 = 0, \r\n        m20 = 0, m21 = 0, m22 = 1\r\n    ) {\r\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat3Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, m = this) {\r\n        Mat3Func.rotate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat3Func.scale(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat3Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat3Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat3Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat3Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromMatrix4(m) {\r\n        Mat3Func.fromMat4(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat3Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    fromBasis(vec3a, vec3b, vec3c) {\r\n        this.set(\r\n            vec3a[0],\r\n            vec3a[1],\r\n            vec3a[2],\r\n            vec3b[0],\r\n            vec3b[1],\r\n            vec3b[2],\r\n            vec3c[0],\r\n            vec3c[1],\r\n            vec3c[2]\r\n        );\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat3Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    getNormalMatrix(m) {\r\n        Mat3Func.normalFromMat4(this, m);\r\n        return this;\r\n    }\r\n}\r\n","import {Transform} from './Transform.js';\r\nimport {Mat3} from '../math/Mat3.js';\r\nimport {Mat4} from '../math/Mat4.js';\r\n\r\nlet ID = 0;\r\n\r\nexport class Mesh extends Transform {\r\n    constructor(gl, {\r\n        geometry,\r\n        program,\r\n        mode = gl.TRIANGLES,\r\n        frustumCulled = true,\r\n        renderOrder = 0,\r\n    } = {}) {\r\n        super();\r\n        if (!gl.canvas) console.error('gl not passed as fist argument to Mesh');\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n\r\n        this.geometry = geometry;\r\n        this.program = program;\r\n        this.mode = mode;\r\n\r\n        // Used to skip frustum culling\r\n        this.frustumCulled = frustumCulled;\r\n\r\n        // Override sorting to force an order\r\n        this.renderOrder = renderOrder;\r\n\r\n        this.modelViewMatrix = new Mat4();\r\n        this.normalMatrix = new Mat3();\r\n\r\n        this.beforeRenderCallbacks = [];\r\n        this.afterRenderCallbacks = [];\r\n    }\r\n\r\n    onBeforeRender(f) {\r\n        this.beforeRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    onAfterRender(f) {\r\n        this.afterRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    draw({\r\n        camera,\r\n    } = {}) {\r\n        this.beforeRenderCallbacks.forEach(f => f && f({mesh: this, camera}));\r\n\r\n        // Set the matrix uniforms\r\n        if (camera) {\r\n\r\n            // Add empty matrix uniforms to program if unset\r\n            if (!this.program.uniforms.modelMatrix) {\r\n                Object.assign(this.program.uniforms, {\r\n                    modelMatrix: {value: null},\r\n                    viewMatrix: {value: null},\r\n                    modelViewMatrix: {value: null},\r\n                    normalMatrix: {value: null},\r\n                    projectionMatrix: {value: null},\r\n                    cameraPosition: {value: null},\r\n                });\r\n            }\r\n\r\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\r\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\r\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\r\n\r\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\r\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\r\n\r\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\r\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\r\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\r\n        }\r\n\r\n        // determine if faces need to be flipped - when mesh scaled negatively\r\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\r\n\r\n        this.program.use({flipFaces});\r\n        this.geometry.draw({mode: this.mode, program: this.program});\r\n\r\n        this.afterRenderCallbacks.forEach(f => f && f({mesh: this, camera}));\r\n    }\r\n}","// TODO: multi target rendering\r\n// TODO: test stencil and depth\r\n// TODO: destroy\r\n// TODO: blit on resize?\r\nimport {Texture} from './Texture.js';\r\n\r\nexport class RenderTarget {\r\n    constructor(gl, {\r\n        width = gl.canvas.width,\r\n        height = gl.canvas.height,\r\n        target = gl.FRAMEBUFFER,\r\n        color = 1, // number of color attachments\r\n        depth = true,\r\n        stencil = false,\r\n        depthTexture = false, // note - stencil breaks\r\n        wrapS = gl.CLAMP_TO_EDGE,\r\n        wrapT = gl.CLAMP_TO_EDGE,\r\n        minFilter = gl.LINEAR,\r\n        magFilter = minFilter,\r\n        type = gl.UNSIGNED_BYTE,\r\n        format = gl.RGBA,\r\n        internalFormat = format,\r\n        unpackAlignment,\r\n        premultiplyAlpha,\r\n    } = {}) {\r\n        this.gl = gl;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.depth = depth;\r\n        this.buffer = this.gl.createFramebuffer();\r\n        this.target = target;\r\n        this.gl.bindFramebuffer(this.target, this.buffer);\r\n\r\n        this.textures = [];\r\n        const drawBuffers = [];\r\n\r\n        // create and attach required num of color textures\r\n        for (let i = 0; i < color; i++) {\r\n            this.textures.push(new Texture(gl, {\r\n                width, height, \r\n                wrapS, wrapT, minFilter, magFilter, type, format, internalFormat, unpackAlignment, premultiplyAlpha,\r\n                flipY: false,\r\n                generateMipmaps: false,\r\n            }));\r\n            this.textures[i].update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\r\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\r\n        }\r\n\r\n        // For multi-render targets shader access\r\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\r\n\r\n        // alias for majority of use cases\r\n        this.texture = this.textures[0];\r\n\r\n        // note depth textures break stencil - so can't use together\r\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\r\n            this.depthTexture = new Texture(gl, {\r\n                width, height,\r\n                minFilter: this.gl.NEAREST,\r\n                magFilter: this.gl.NEAREST,\r\n                format: this.gl.DEPTH_COMPONENT,\r\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\r\n                type: this.gl.UNSIGNED_INT,\r\n            });\r\n            this.depthTexture.update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\r\n        } else {\r\n\r\n            // Render buffers\r\n            if (depth && !stencil) {\r\n                this.depthBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\r\n            }\r\n\r\n            if (stencil && !depth) {\r\n                this.stencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\r\n            }\r\n\r\n            if (depth && stencil) {\r\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n            }\r\n        }\r\n\r\n        this.gl.bindFramebuffer(this.target, null);\r\n    }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    gl_Position = vec4(position, 1.0);\\n    vUv = uv;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _PrevFrame;\\n\\nuniform vec2 _InputPos;\\nuniform vec2 _InputVel;\\n\\nuniform float _FadeRate;\\nuniform float _Force;\\nuniform float _Radius;\\nuniform float _Aspect;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n    uv = 2.0 * uv - 1.0;\\n    vec2 toInput = _InputPos - uv;\\n    toInput.x *= _Aspect;\\n\\n    float phase = smoothstep(_Radius, 0.0, length(toInput));\\n    vec3 vel = vec3(_InputVel,1.0 - pow(1.0 - min(1.0, length(_InputVel)), 2.0)) * phase * _Force;\\n    \\n    // vec3 vel = vec3(_InputVel,1.0 - pow(1.0 - min(1.0, length(_InputVel)), 2.0)) * _Force;\\n    // float phase = smoothstep(vel.z * 0.5, 0.0, length(toInput));\\n    // vel *= phase;\\n\\n    vec3 prev = texture2D(_PrevFrame, vUv).xyz;\\n    vec3 outputPhase = mix(vel, prev, _FadeRate);\\n\\n    gl_FragColor = vec4(outputPhase, 1.0);\\n\\n}\";","import { Transform } from \"../../../vendors/ogl/src/core/Transform\";\r\nimport {Triangle} from \"../../../vendors/ogl/src/extras/Triangle\";\r\nimport {Mesh} from \"../../../vendors/ogl/src/core/Mesh\";\r\nimport {Program} from \"../../../vendors/ogl/src/core/Program\";\r\nimport { Vec2 } from \"../../../vendors/ogl/src/math/Vec2\";\r\nimport { RenderTarget } from \"../../../vendors/ogl/src/core/RenderTarget\";\r\n\r\nconst vert = require('./shaders/mouseFlowmap.vert');\r\nconst frag = require('./shaders/mouseFlowmap.frag');\r\n\r\nexport default class MouseFlowmap {\r\n\r\n    constructor(gl, {\r\n        size\r\n    }) {\r\n\r\n        this.gl = gl;\r\n\r\n        this.scene = new Transform;\r\n\r\n        this.initFBO(size);\r\n\r\n        this.initProgram();\r\n\r\n    }\r\n\r\n    initFBO(size) {\r\n\r\n        this.read = this.createRenderTexture(size);\r\n        this.write = this.createRenderTexture(size);\r\n        \r\n    }\r\n\r\n    swap() {\r\n\r\n        const tmp = this.read;\r\n        this.read = this.write;\r\n        this.write = tmp;\r\n\r\n    }\r\n\r\n    createRenderTexture(s) {\r\n\r\n        const params = {\r\n            width: s,\r\n            height: s,\r\n            type: this.gl.HALF_FLOAT || this.gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\r\n            format: this.gl.RGBA,\r\n            internalFormat: this.gl.RGBA16F,\r\n            depth: false\r\n        }\r\n        return new RenderTarget(this.gl, params);\r\n    }\r\n\r\n    initProgram() {\r\n\r\n        const geo = new Triangle(this.gl);\r\n\r\n        const u = {\r\n\r\n            _PrevFrame: {\r\n                value: this.read.texture\r\n            },\r\n            _InputPos: {\r\n                value: new Vec2(0.0, 0.0)\r\n            },\r\n            _InputVel: {\r\n                value: new Vec2(0.0, 0.0)\r\n            },\r\n            _Force: {\r\n                value: 1.5\r\n            },\r\n            _Radius: {\r\n                value: 0.5\r\n            },\r\n            _FadeRate: {\r\n                value: 0.97\r\n            },\r\n            _Aspect: {\r\n                value: this.gl.canvas.width / this.gl.canvas.height\r\n            }\r\n\r\n        }\r\n\r\n        const program = new Program(this.gl, {\r\n            vertex: vert,\r\n            fragment: frag,\r\n            uniforms: u,\r\n            depthTest: false,\r\n            depthWrite: false,\r\n        });\r\n\r\n        this.flowMap = new Mesh(this.gl, {geometry: geo, program: program});\r\n        this.flowMap.setParent(this.scene);\r\n\r\n    }\r\n\r\n    update(renderer, {dt = 1.0, inputPos, inputDelta}) {\r\n\r\n        this.flowMap.program.uniforms._InputPos.value.copy(inputPos);\r\n\r\n        const velX = inputDelta.x / dt;\r\n        const velY = inputDelta.y / dt;\r\n\r\n        this.flowMap.program.uniforms._InputVel.value.set(velX, velY);\r\n\r\n        this.flowMap.program.uniforms._PrevFrame.value = this.read.texture;\r\n\r\n        renderer.render({scene: this.scene, target: this.write, clear: false});\r\n\r\n        this.swap();\r\n\r\n    }\r\n\r\n    get Texture() {\r\n        return this.read.texture;\r\n    }\r\n\r\n    get Aspect() {\r\n        return this.flowMap.program.uniforms._Aspect.value;\r\n    }\r\n\r\n    set Aspect(a) {\r\n\r\n        this.flowMap.program.uniforms._Aspect.value = a;\r\n\r\n    }\r\n\r\n}","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (!this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","import {\r\n  Transform\r\n} from \"../../vendors/ogl/src/core/Transform\";\r\nimport {\r\n  Renderer\r\n} from \"../../vendors/ogl/src/core/Renderer\";\r\nimport {\r\n  Camera\r\n} from \"../../vendors/ogl/src/core/Camera\";\r\n\r\nimport {\r\n  Vec2\r\n} from \"../../vendors/ogl/src/math/Vec2\";\r\n\r\nimport DomQuadManager from './DomQuads/DomQuadManager.js'\r\n\r\nimport MouseFlowmap from './MouseFlowmap/MouseFlowmap';\r\n\r\nimport eventEmitter from '../EventEmitter';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nconst Stats = require('stats-js'); \r\n\r\nimport * as dat from 'dat.gui';\r\n\r\n// window.gui = new dat.GUI({});\r\n\r\nexport default class WebGLContext {\r\n  constructor(container) {\r\n    this.initScene(container);\r\n    this.initEvents();\r\n    this.initDomQuadManager();\r\n    this.initMouseflowMap();\r\n  }\r\n\r\n  initScene(container) {\r\n    this.renderer = new Renderer({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      antialias: true,\r\n      dpr: 1.0\r\n    });\r\n    this.gl = this.renderer.gl;\r\n    this.gl.clearColor(0.9, 0.9, 0.9, 1.0);\r\n\r\n    this.gl.canvas.style.position = \"absolute\";\r\n    this.gl.canvas.style.width = \"100%\";\r\n    this.gl.canvas.style.height = \"100%\";\r\n    this.gl.canvas.style.top = \"0%\";\r\n    this.gl.canvas.style.left = \"0%\";\r\n    this.gl.canvas.style.zIndex = \"-1\";\r\n\r\n    document.body.appendChild(this.gl.canvas);\r\n\r\n    this.camera = new Camera(this.gl, {\r\n      fov: 35,\r\n      aspect: window.innerWidth / window.innerHeight,\r\n      near: 0.1,\r\n      far: 50.0\r\n    });\r\n\r\n    this.camera.position.set(0.0, 0.0, 1.0);\r\n\r\n    this.currentTime = 0;\r\n    this.prevtime = 0;\r\n    this.deltaTime = 1;\r\n\r\n    this.scene = new Transform();\r\n\r\n    this.stats = new Stats();\r\n    // document.body.appendChild(this.stats.dom);\r\n\r\n  }\r\n\r\n  initDomQuadManager() {\r\n\r\n    this.domQuadManager = new DomQuadManager(this.gl, this.scene, this.camera);\r\n\r\n  }\r\n\r\n  initMouseflowMap() {\r\n\r\n    this.mouseFlowmap = new MouseFlowmap(this.gl, {size: 256});\r\n\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    emitter.on(events.MOUSE_DOWN, this.onMouseDown);\r\n    emitter.on(events.MOUSE_MOVE, this.onMouseMove);\r\n    emitter.on(events.MOUSE_UP, this.onMouseUp);\r\n    emitter.on(events.UPDATE, this.update);\r\n\r\n    this.isInteracting = false;\r\n    this.firstMove = false;\r\n    this.inputPos = new Vec2(0.0, 0.0);\r\n    this.prevInputPos = new Vec2(0.0, 0.0);\r\n    this.inputDelta = new Vec2(0.0, 0.0);\r\n\r\n    emitter.on(events.RESIZE, this.onResize);\r\n    this.isResizing = false;\r\n\r\n  }\r\n\r\n  onMouseDown = (e) => {\r\n\r\n    this.isInteracting = true;\r\n    this.inputPos.x = 2.0 * (e.x / window.innerWidth) - 1.0;\r\n    this.inputPos.y = -1 * (2.0 * (e.y / window.innerHeight) - 1.0);\r\n    this.prevInputPos.copy(this.inputPos);\r\n    this.inputDelta = this.inputPos.clone().sub(this.prevInputPos);\r\n\r\n  }\r\n\r\n  onMouseMove = (e) => {\r\n\r\n\r\n     this.inputPos.x = 2.0 * (e.x / window.innerWidth) - 1.0;\r\n     this.inputPos.y = -1 * (2.0 * (e.y / window.innerHeight) - 1.0);\r\n     if(this.firstMove === false) {\r\n      this.firstMove = true;\r\n      this.prevInputPos.copy(this.inputPos);\r\n      this.inputDelta = this.inputPos.clone().sub(this.prevInputPos);\r\n    }\r\n\r\n  }\r\n\r\n  onMouseUp = () => {\r\n\r\n    this.isInteracting = false;\r\n    this.firstMove = false;\r\n\r\n  }\r\n\r\n  render() {\r\n    this.renderer.render({\r\n      scene: this.scene,\r\n      camera: this.camera\r\n    });\r\n  }\r\n\r\n  update = () => {\r\n    // this.stats.begin();\r\n    this.currentTime = performance.now();\r\n    this.deltaTime = (this.currentTime - this.prevtime) / 1000.0;\r\n\r\n    // if(this.isInteracting) this.inputDelta = this.inputPos.clone().sub(this.prevInputPos);\r\n    this.inputDelta = this.inputPos.clone().sub(this.prevInputPos);\r\n\r\n    this.mouseFlowmap.update(this.renderer, {dt: this.deltaTime, inputPos: this.inputPos, inputDelta: this.inputDelta});\r\n\r\n    this.domQuadManager.update({\r\n      dt: this.deltaTime,\r\n      inputPos: this.inputPos, \r\n      inputDelta: this.inputDelta,\r\n      flowMap: this.mouseFlowmap.Texture \r\n    });\r\n\r\n    this.render();\r\n    \r\n    this.prevInputPos.copy(this.inputPos);\r\n\r\n    this.prevtime = this.currentTime;\r\n\r\n    // this.stats.end();\r\n\r\n  }\r\n\r\n  onResize = () => {\r\n\r\n    if(this.resizeContext) this.resizeContext.kill();\r\n\r\n    this.resizeContext = gsap.delayedCall(0.05, () => {\r\n\r\n      const w = window.innerWidth;\r\n      const h = window.innerHeight;\r\n\r\n      this.renderer.setSize(w, h);\r\n      const aspectRatio = w / h;\r\n      this.camera.perspective({\r\n        aspect: aspectRatio\r\n      });\r\n  \r\n      this.mouseFlowmap.Aspect = w/h;\r\n\r\n    });\r\n\r\n  }\r\n}","import eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events.js';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nexport default class LoadingScreen {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.body.querySelector('.loader');\r\n\r\n        this.copyContainer = document.body.querySelector('.loader__copy-container');\r\n        this.title = document.body.querySelector('.loader__title');\r\n        this.subTitle = document.body.querySelector('.loader__sub-title');\r\n\r\n        this.alpha = 0;\r\n        this.targetAlpha = 0;\r\n\r\n        this.title.style.opacity = 0;\r\n        this.subTitle.style.opacity = 0;\r\n\r\n        this.title.firstElementChild.innerHTML = \"Douglas Lilliequist\"\r\n        this.subTitle.firstElementChild.innerHTML = \"Creative Technologist\"\r\n        \r\n        this.reveal();\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.UPDATE_PROGRESS, this.updateProgressAnim);\r\n        emitter.on(events.CONTENT_LOADED, this.hide);\r\n\r\n    }\r\n\r\n    reveal() {\r\n\r\n        gsap.fromTo(this.copyContainer, {\r\n            y: -10,\r\n            opacity: 0.01\r\n        }, {\r\n            delay: 1.0,\r\n            duration: 1.0,\r\n            y: 0.0,\r\n            opacity: 1.0,\r\n            ease: \"power1.out\"\r\n        });\r\n\r\n    }\r\n\r\n    hide = () => {\r\n\r\n        const hideTl = new gsap.timeline({\r\n            delay: 2.0,\r\n            onComplete: () => {\r\n                this.el.style.display = \"none\";\r\n                emitter.emit(events.LOADING_ANIM_COMPLETED);\r\n            }\r\n        });\r\n\r\n        hideTl.to(this.copyContainer, {\r\n            duration: 1.0,\r\n            // opacity: 0.001,\r\n            y: 50,\r\n            ease: \"power2.in\"\r\n        });\r\n\r\n        hideTl.to(this.el, {\r\n\r\n            duration: 0.5,\r\n            ease: \"power2.inOut\"\r\n\r\n        });\r\n\r\n    }\r\n\r\n    updateProgressAnim = (phase) => {\r\n\r\n        emitter.on(events.UPDATE, this.update);\r\n        this.targetAlpha = phase;\r\n        gsap.delayedCall(0.3, () => {\r\n            emitter.off(events.UPDATE, this.update);\r\n        })\r\n\r\n    }\r\n\r\n    update = () => {\r\n\r\n        this.alpha += (this.targetAlpha - this.alpha) * 0.5;\r\n\r\n        this.title.style.opacity = this.alpha;\r\n        this.subTitle.style.opacity = this.alpha;\r\n\r\n    }\r\n\r\n}","import eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events';\r\n\r\nexport default class Navigation {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.querySelector('.navigation__links');\r\n        \r\n        this.links = this.el.querySelectorAll('.link');\r\n\r\n        this.active = false;\r\n\r\n        this.initEvents();\r\n\r\n        this.updateSelectionState();\r\n\r\n        this.updateActiveState();\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        window.hoveringLink = false;\r\n\r\n        this.el.childNodes.forEach((link) => {\r\n\r\n            link.addEventListener('mouseenter', this.onLinkHover);\r\n            link.addEventListener('mouseleave', this.onLinkLeave);\r\n\r\n        });\r\n\r\n        window.viewMediator.on('NAVIGATE_IN', ({to, location}) => {\r\n\r\n            this.updateSelectionState(location);\r\n\r\n        });\r\n\r\n        emitter.on(events.LOADING_ANIM_COMPLETED, this.enableLinks);\r\n        \r\n    }\r\n\r\n    updateSelectionState(location = null) {\r\n\r\n        this.links.forEach((link) => {\r\n\r\n            link.classList.remove('link--active');\r\n\r\n            const currentLocation = location ? location.href : window.location.href;\r\n\r\n            if(link.href === currentLocation) link.classList.add('link--active');\r\n\r\n        })\r\n\r\n    }\r\n\r\n    enableLinks = () => {\r\n\r\n        this.active = true;\r\n        this.updateActiveState();\r\n\r\n    }\r\n\r\n    updateActiveState = () => {\r\n\r\n        this.links.forEach((link) => {\r\n\r\n            if(this.active) {\r\n                link.classList.remove('link--disabled');\r\n            } else {\r\n                link.classList.add('link--disabled');\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    onLinkHover = () => {\r\n\r\n        window.hoveringLink = true;\r\n        emitter.emit(events.HOVERING_LINK);\r\n\r\n    }\r\n\r\n    onLinkLeave = () => {\r\n\r\n        window.hoveringLink = false;\r\n        emitter.emit(events.LEAVING_LINK);\r\n\r\n    }\r\n\r\n}","import eventEmitter from '../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events';\r\n\r\nimport {gsap} from 'gsap';\r\n\r\n/**\r\n * Make this available if not using mobile\r\n */\r\n\r\nexport default class Cursor {\r\n\r\n    constructor() {\r\n\r\n        this.dpr = Math.min(1.5, window.devicePixelRatio);\r\n\r\n        this.canvas = document.querySelector('.main-cursor');\r\n\r\n        this.width = this.canvas.width = window.innerWidth * this.dpr;\r\n        \r\n        this.height = this.canvas.height = window.innerHeight * this.dpr;\r\n\r\n        this.ctx = this.canvas.getContext('2d');\r\n\r\n        this.ctx.scale(this.dpr, this.dpr);\r\n\r\n        this.initCursor();\r\n\r\n        this.initCursorArrows();\r\n\r\n        this.initCta();\r\n        \r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initCursor() {\r\n\r\n        this.position = {\r\n\r\n            x: 0,\r\n            y: 0,\r\n\r\n        }\r\n\r\n        this.prevPosition = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n\r\n        this.delta = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n\r\n        this.target = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n        \r\n        this.inScrollMode = false;\r\n\r\n        this.defaultRadius = 18.0;\r\n\r\n        this.scrollModeRadius = 22.0;\r\n\r\n        this.radius = this.defaultRadius;\r\n\r\n        this.strokeWidth = 0.5;\r\n\r\n        this.startAngle = 0;\r\n\r\n        this.endAngle = Math.PI * 2.0;\r\n\r\n        this.ease = 0.2;\r\n\r\n    }\r\n\r\n    initCursorArrows() {\r\n\r\n        this.arrowOriginOffset = {\r\n\r\n            x: 4,\r\n            y: 4\r\n\r\n        }\r\n\r\n        this.arrowLocalPos = {\r\n\r\n            x: 4,\r\n            y: 9\r\n\r\n        }\r\n\r\n        this.cursorArrowAlpha = 0.0;\r\n\r\n        this.inputPhase = 0.0;\r\n\r\n        this.inputDirection = 0.0;\r\n\r\n    }\r\n\r\n    initCta() {\r\n\r\n        this.holdMessage = this.createCanvasText({word: \"Hold\", fontSize: 15});\r\n        this.dragMessage = this.createCanvasText({word: \"Drag\", fontSize: 15});\r\n\r\n        this.ctaPosOffset = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n\r\n        this.ctaTextAlpha = 1.0;\r\n\r\n        this.removeCTA = false;\r\n\r\n        this.drawMessage = false;\r\n\r\n        this.inputTravel = 0;\r\n\r\n        this.inputTravelThreshold = 100;\r\n\r\n    }\r\n\r\n    createCanvasText({word, fontSize}) {\r\n        \r\n        this.ctx.font = `${fontSize}px Muli`;\r\n        const messageBounds = this.ctx.measureText(word);\r\n        return {word, width: messageBounds.width, fontSize};\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.LOADING_ANIM_COMPLETED, this.reveal)\r\n        emitter.on(events.SHOW_CLICKDRAG_CTA, this.showCTAText);\r\n        emitter.on(events.HIDE_CLICKDRAG_CTA, this.hideCTAText);\r\n        emitter.on(events.MOUSE_MOVE, this.onMouseMove);\r\n        emitter.on(events.ENTER_SCROLL_MODE, this.onMouseDown);\r\n        emitter.on(events.EXIT_SCROLL_MODE, this.onMouseUp);\r\n        emitter.on(events.HOVERING_LINK, this.animteHoverMode);\r\n        emitter.on(events.LEAVING_LINK, this.restore);\r\n        emitter.on(events.UPDATE, this.update);\r\n        emitter.on(events.RESIZE, this.onResize);\r\n\r\n    }\r\n\r\n    onMouseDown = () => {\r\n\r\n        this.inScrollMode = true;\r\n        this.canvas.style.zIndex = 10; //prevent click + drag issues in safari\r\n        this.prevPosition.x = this.target.x;\r\n        this.prevPosition.y = this.target.y;\r\n        this.animateScrollMode();\r\n\r\n    }\r\n\r\n    onMouseMove = (event) => {\r\n\r\n        this.target.x = event.clientX;\r\n        this.target.y = event.clientY;\r\n\r\n        if(this.inScrollMode) {\r\n\r\n            this.inputTravel = this.inputTravel < this.inputTravelThreshold ? this.inputTravel + 1 : this.inputTravelThreshold;\r\n            if(this.inputTravel >= this.inputTravelThreshold) {\r\n                this.removeCTAText();\r\n            }\r\n\r\n        }   \r\n\r\n    }\r\n\r\n    onMouseUp = () => {\r\n\r\n        this.canvas.style.zIndex = 0; //restore normal browser behaviour\r\n        this.restore();\r\n\r\n    }\r\n\r\n    //include kill animation\r\n    //make this to TL animation\r\n    animateScrollMode() {\r\n\r\n        if(this.inScrollMode) {\r\n\r\n            if(this.scrollModeAnim) this.scrollModeAnim.kill();\r\n\r\n            this.scrollModeAnim = gsap.timeline({});\r\n\r\n            this.scrollModeAnim.to(this, {\r\n                duration: 0.2,\r\n                radius: this.scrollModeRadius,\r\n                cursorArrowAlpha: 0.5,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n            this.scrollModeAnim.to(this.arrowOriginOffset, {\r\n                duration: 0.2,\r\n                y: 10.0,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n            this.scrollModeAnim.fromTo(this.ctaPosOffset, {\r\n                y: 24\r\n            }, {\r\n                y: 0,\r\n                duration: 0.5,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n        }\r\n\r\n    }\r\n\r\n    restore = () => {\r\n\r\n        if(this.restoreAnim) this.restoreAnim.kill();\r\n\r\n        this.restoreAnim = gsap.timeline({\r\n            onComplete: () => this.inScrollMode = false\r\n        });\r\n\r\n        this.restoreAnim.to(this, {\r\n            duration: 0.2,\r\n            radius: this.defaultRadius,\r\n            ctaTextAlpha: this.removeCTA ? 0.0 : 1.0,\r\n            cursorArrowAlpha: 0.0,\r\n            ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n        this.restoreAnim.to(this.arrowOriginOffset, {\r\n            duration: 0.2,\r\n            y: 4.0,\r\n            ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n    }\r\n\r\n    reveal = () => {\r\n\r\n        const revealAnim = gsap.timeline({});\r\n        revealAnim.fromTo(this, {\r\n            radius: 0,\r\n            ctaTextAlpha: 0\r\n        }, {\r\n            duration: 0.2,\r\n            radius: this.defaultRadius,\r\n            ctaTextAlpha: 1.0,\r\n            ease: \"circ.out\"\r\n        });\r\n\r\n    }\r\n\r\n    animteHoverMode = () => {\r\n\r\n        if(this.hoverModeAnim) this.hoverModeAnim.kill();\r\n        this.hoverModeAnim = gsap.to(this, {\r\n            duration: 0.2,\r\n            radius: 0,\r\n            ctaTextAlpha: 0.0,\r\n        });\r\n    }\r\n\r\n    drawCursorArrows() {\r\n\r\n        //top arrow\r\n        this.ctx.beginPath();\r\n        const topArrowAlpha = Math.min(1.0, this.cursorArrowAlpha + (this.inputDirection > 0 ? this.inputPhase : 0));\r\n        this.ctx.fillStyle = `rgba(${0.0}, ${0.0}, ${0.0}, ${topArrowAlpha})`;\r\n        \r\n        const topArrowScale = Math.min(2.0, this.inputDirection > 0 ? this.inputPhase : 0);\r\n        this.ctx.moveTo(this.position.x - (4 + topArrowScale), this.position.y - (this.radius + this.arrowOriginOffset.y));  \r\n        this.ctx.lineTo(this.position.x + (4 + topArrowScale), this.position.y - (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x, this.position.y - (this.radius + this.arrowOriginOffset.y + 5.0 + topArrowScale));\r\n        \r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n\r\n        // //bottom arrow\r\n        this.ctx.beginPath();\r\n        const bottomArrowAlpha = Math.min(1.0, this.cursorArrowAlpha + (this.inputDirection < 0 ? this.inputPhase : 0));\r\n        this.ctx.fillStyle = `rgba(${0.0}, ${0.0}, ${0.0}, ${bottomArrowAlpha})`;\r\n        \r\n        const bottomArrowScale = Math.min(2.0, this.inputDirection < 0 ? this.inputPhase : 0);\r\n        this.ctx.moveTo(this.position.x - (4 + bottomArrowScale), this.position.y + (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x + (4 + bottomArrowScale), this.position.y + (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x, this.position.y + (this.radius + this.arrowOriginOffset.y + 5.0 + bottomArrowScale));\r\n        \r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n\r\n    }\r\n\r\n    drawCursorCircle() {\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(this.position.x, this.position.y, this.radius, this.startAngle, this.endAngle, false);\r\n        this.ctx.lineWidth = this.strokeWidth;\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n\r\n    }\r\n\r\n    drawCTAText() {\r\n\r\n        const message = this.inScrollMode ? this.dragMessage : this.holdMessage;\r\n        this.ctx.fillStyle = `rgba(${0.0},${0.0},${0.0}, ${this.ctaTextAlpha})`;\r\n        this.ctx.font = `${15}px Muli`;\r\n        this.ctx.textBaseline = \"middle\";\r\n        // this.ctx.fillText(message.word, this.position.x + 40, this.position.y + this.ctaPosOffset.y);\r\n        this.ctx.fillText(message.word, this.position.x - 80, this.position.y + this.ctaPosOffset.y);\r\n\r\n    }\r\n\r\n    showCTAText = () => {\r\n\r\n        if(this.removeCTA === false) {\r\n            this.drawMessage = true;\r\n            gsap.to(this, {\r\n                duration: 0.5,\r\n                ctaTextAlpha: 1,\r\n                ease: \"power1.out\"\r\n            });\r\n        }\r\n    }\r\n\r\n    hideCTAText = () => {\r\n\r\n        if(this.removeCTA === false) {\r\n            this.drawMessage = false;\r\n            gsap.to(this, {\r\n                duration: 0.5,\r\n                ctaTextAlpha: 0,\r\n                ease: \"power1.out\"\r\n            });\r\n        }\r\n    }\r\n\r\n    removeCTAText() {\r\n\r\n        if(this.removeCTA == false) {\r\n            this.removeCTA = true;\r\n            gsap.to(this, {\r\n                duration: 0.5,\r\n                ctaTextAlpha: 0,\r\n                ease: \"power1.out\"\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    draw() {\r\n\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n        this.drawCursorCircle();\r\n        if(this.drawMessage) this.drawCTAText();\r\n        if(this.inScrollMode) this.drawCursorArrows();\r\n        \r\n    }\r\n\r\n    update = () => {\r\n\r\n        this.position.x += (this.target.x - this.position.x) / 8.0;\r\n        this.position.y += (this.target.y - this.position.y) / 8.0;\r\n\r\n        this.delta.x = this.position.x - this.prevPosition.x;\r\n        this.delta.y = this.position.y - this.prevPosition.y;\r\n        this.inputDirection = Math.sign(this.delta.y) * -1.0; //coordinates are flipped in canvas\r\n\r\n        this.updateInputphase();\r\n        \r\n        this.draw();\r\n\r\n        this.prevPosition.x = this.position.x;\r\n        this.prevPosition.y = this.position.y;\r\n\r\n    }\r\n\r\n    updateInputphase() {\r\n\r\n        if(this.inScrollMode) this.inputPhase += Math.abs(this.delta.y) * 0.01;\r\n        this.inputPhase *= 0.90;\r\n        this.inputPhase = this.inputPhase < 0.0001 ? 0.0 : this.inputPhase;\r\n\r\n    }\r\n\r\n    onResize = () => {\r\n\r\n        this.width = this.canvas.width = window.innerWidth * this.dpr;\r\n        this.height = this.canvas.height = window.innerHeight * this.dpr;\r\n        this.ctx.scale(this.dpr, this.dpr);\r\n\r\n    }\r\n\r\n}","import Highway from \"@dogstudio/highway\";\r\nimport eventEmitter from '../EventEmitter';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events.js'\r\n\r\nimport {gsap} from 'gsap';\r\n\r\nexport default class Transition extends Highway.Transition {\r\n\r\n    in ({\r\n        from,\r\n        to,\r\n        done\r\n    }) {\r\n\r\n        from.remove();\r\n        done();\r\n    }\r\n\r\n    out({\r\n        from,\r\n        done\r\n    }) {\r\n\r\n        gsap.to(from, {\r\n            duration: 1.0,\r\n            onStart: () => {\r\n                emitter.emit(events.PREPARE_UNMOUNT);\r\n            },\r\n            onComplete: () => {\r\n                done();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}","import Highway from \"@dogstudio/highway\";\r\n\r\nexport default class ViewMediator extends Highway.Core {\r\n  constructor({ home, work, about, transition} = {}) {\r\n    const highwayArgs = {\r\n      renderers: {\r\n        work: work,\r\n        about: about\r\n      },\r\n      transitions: {\r\n        default: transition\r\n      }\r\n    };\r\n\r\n    super(highwayArgs);\r\n    \r\n  }\r\n}\r\n","// import Home from \"./Views/Home/Home.js\";\r\nimport Work from \"./Views/Work/Work.js\";\r\nimport About from \"./Views/About/About.js\";\r\n\r\nimport WebGLContext from \"./Webgl/WebGLContext.js\";\r\n\r\nimport LoadingScreen from './LoadingScreen.js'; \r\nimport Navigation from './Navigation.js';\r\nimport Cursor from '../src/CanvasComponents/Cursor.js';\r\n\r\nimport Transition from \"./Transitions/Transition.js\";\r\nimport ViewMediator from \"./Views/ViewMediator.js\";\r\n\r\nimport contentManager from './ContentManager.js'\r\n\r\nexport default class App {\r\n    constructor() {\r\n\r\n        window.viewMediator = new ViewMediator({\r\n            work: Work,\r\n            about: About,\r\n            transition: Transition\r\n        });\r\n\r\n        this.loadingScreen = new LoadingScreen();\r\n        \r\n        window.contentLoaded = false;\r\n\r\n        this.cursor = new Cursor();\r\n\r\n        this.navigation = new Navigation();\r\n\r\n        this.webGLCTX = new WebGLContext();\r\n        \r\n        contentManager.initContent();\r\n\r\n    }\r\n\r\n}\r\n\r\nwindow.onload = () => new App();","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}