{"version":3,"sources":["../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../node_modules/@babel/runtime/helpers/createClass.js","../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/superPropBase.js","../../node_modules/@babel/runtime/helpers/get.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/inherits.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/tiny-emitter/index.js","../src/renderer.js","../src/helpers.js","../src/core.js","../src/transition.js","../src/highway.js","../../node_modules/tiny-emitter/index.js","../../utils/events.js","../../node_modules/gsap/gsap-core.js","../../node_modules/gsap/CSSPlugin.js","../../node_modules/gsap/index.js","../EventEmitter.js","View.js","../../static/ProjectContent.js","../../utils/globals.js","../StickyComponent.js","../../vendors/gsap/utils/strings.js","../../vendors/gsap/SplitText.js","Work/Project.js","Work/ProjectLink.js","Work/Projects.js","Work/Work.js","../../static/AboutContent.js","About/About.js","../../node_modules/@babel/runtime/helpers/isNativeFunction.js","../../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../../node_modules/@babel/runtime/helpers/construct.js","../../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../../vendors/ogl/src/math/functions/Vec3Func.js","../../vendors/ogl/src/math/Vec3.js","../../vendors/ogl/src/math/functions/Vec4Func.js","../../vendors/ogl/src/math/functions/QuatFunc.js","../../vendors/ogl/src/math/Quat.js","../../vendors/ogl/src/math/functions/Mat4Func.js","../../vendors/ogl/src/math/Mat4.js","../../vendors/ogl/src/math/functions/EulerFunc.js","../../vendors/ogl/src/math/Euler.js","../../vendors/ogl/src/core/Transform.js","../../vendors/ogl/src/core/Renderer.js","../../vendors/ogl/src/core/Camera.js","../../vendors/ogl/src/math/functions/Vec2Func.js","../../vendors/ogl/src/math/Vec2.js","../../vendors/ogl/src/core/Program.js","../../vendors/ogl/src/math/functions/Mat3Func.js","../../vendors/ogl/src/math/Mat3.js","../../vendors/ogl/src/core/Mesh.js","../../vendors/ogl/src/core/Texture.js","../../vendors/ogl/src/core/RenderTarget.js","../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../vendors/ogl/src/core/Geometry.js","../../vendors/ogl/src/extras/Triangle.js","../../vendors/ogl/src/extras/Post.js","../WebGL/post/fxaa.frag","../WebGL/post/ripple.frag","../WebGL/utils/getCameraViewplaneSize.js","../WebGL/extras/DomQuad/DomQuad.js","../../vendors/ogl/src/extras/Plane.js","../WebGL/DomQuads/Projects/ProjectQuad/shaders/projectQuad.vert","../WebGL/DomQuads/Projects/ProjectQuad/shaders/projectQuad.frag","../../utils/Math.js","../WebGL/DomQuads/Projects/ProjectQuad/ProjectQuad.js","../WebGL/extras/DomQuad/DomquadMediator.js","../WebGL/DomQuads/Projects/ProjectQuadMediator.js","../WebGL/DomQuads/About/AboutQuad/shaders/aboutQuad.vert","../WebGL/DomQuads/About/AboutQuad/shaders/aboutQuad.frag","../WebGL/DomQuads/About/AboutQuad/AboutQuad.js","../WebGL/DomQuads/About/AboutQuadMediator.js","../WebGL/DomQuads/DomQuadManager.js","../WebGL/MouseFlowmap/shaders/mouseFlowmap.vert","../WebGL/MouseFlowmap/shaders/mouseFlowmap.frag","../WebGL/MouseFlowmap/MouseFlowmap.js","../WebGL/WebGLContext.js","../LoadingScreen.js","../NoMobileCTA.js","../Navigation.js","../CanvasComponents/Cursor.js","../TransitionSlide.js","../Transitions/Transition.js","ViewMediator.js","../../node_modules/bowser/es5.js","../index.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["E","prototype","on","name","callback","ctx","e","this","push","fn","once","self","listener","off","apply","arguments","_","emit","data","slice","call","evtArr","i","len","length","evts","liveEvents","Renderer","constructor","properties","wrap","document","querySelector","Transition","transition","class","setup","onEnter","onEnterCompleted","add","insertAdjacentHTML","view","outerHTML","update","title","page","show","datas","Promise","resolve","_this","hide","onLeaveCompleted","_this2","onLeave","const","PARSER","window","DOMParser","Helpers","renderers","transitions","getOrigin","url","match","replace","getPathname","getAnchor","getParams","search","split","object","part","getDOM","parseFromString","getView","getSlug","getAttribute","getRenderer","slug","renderer","isPrototypeOf","then","getTransition","getProperties","context","getLocation","href","anchor","origin","params","pathname","Core","Transitions","Contextual","location","cloneNode","popping","running","trigger","cache","Map","set","From","_navigate","navigate","bind","addEventListener","popState","links","querySelectorAll","attach","detach","removeEventListener","metaKey","ctrlKey","preventDefault","contextual","currentTarget","hasAttribute","dataset","redirect","beforeFetch","pushState","history","fetch","mode","method","headers","credentials","response","status","text","afterFetch","from","has","get","all","results","_this3","To","to","lastElementChild","Emitter","firstElementChild","setAttribute","removeAttribute","in","done","out","console","log","events","INIT_DOMGL","QUADS_LOADED","RESET_QUADS","REVEAL_QUADS","PREPARE_UNMOUNT","TRANSITIONING","REMOVE_DOMGL","LOAD_PROJECT_CONTENT","CONTENT_LOADED","UPDATE_PROGRESS","LOADING_ANIM_COMPLETED","TEXTURE_LOADED","UPDATE_CONTENT_COUNT","ENTER_SCROLL_MODE","EXIT_SCROLL_MODE","APPLY_SCROLL_MODE_ANIM","REMOVE_SCROLL_MODE_ANIM","UPDATE_VIEWMODE","SHOW_PROJECT","CLOSE_PROJECT","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","Object","create","__proto__","_config","autoSleep","force3D","nullTargetWarn","units","lineHeight","_defaults","duration","overwrite","delay","_bigNum","_tinyNum","_2PI","Math","PI","_HALF_PI","_gsID","_sqrt","sqrt","_cos","cos","_sin","sin","_isString","value","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isArray","Array","isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_parenthesesExp","_relExp","_delimitedValueExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","scope","_merge","gsap","_missingPlugin","property","warn","_warn","message","suppress","_addGlobal","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","target","harnessPlugin","_gsap","harness","targetTest","GSCache","splice","_getCache","toArray","_getProperty","currentValue","_forEachName","names","func","forEach","_round","round","_arrayContainsAny","toSearch","toFind","l","indexOf","_parseVars","type","parent","isLegacy","varsIndex","vars","irVars","defaults","inherit","immediateRender","runBackwards","startAt","_lazyRender","a","tween","_lazy","render","_lazySafeRender","animation","time","suppressEvents","force","_numericIfPossible","n","parseFloat","_passThrough","p","_setDefaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","keyframes","_dp","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","t","_prev","_next","_removeLinkedListItem","next","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","_parentToChildTotalTime","parentTime","_start","_tDur","_setEnd","_end","abs","_rts","_postAddChecks","timeline","_time","_initted","_dur","rawTime","_clamp","totalTime","_zTime","_addToTimeline","position","skipChecks","_delay","timeScale","_sort","_recent","_scrollTrigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","lazy","_ticker","frame","_renderZeroDurationTween","prevRatio","ratio","_lock","repeatDelay","pt","iteration","prevIteration","repeatRefresh","invalidate","_from","_callback","r","d","_startAt","_onUpdate","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","repeat","dur","min","_onUpdateTotalDuration","Timeline","_zeroPosition","endTime","_parsePosition","labels","recent","clippedDuration","offset","isNaN","charAt","substr","_conditionalReturn","max","getUnit","clamp","v","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","_wake","shuffle","sort","random","distribute","each","ease","_parseEase","isDecimal","ratios","axis","ratioX","ratioY","center","edges","end","distances","originX","originY","x","y","j","wrapAt","grid","getBoundingClientRect","left","amount","b","u","_invertEase","_roundModifier","pow","raw","floor","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","f","unitize","unit","normalize","mapRange","_wrapArray","wrapper","index","range","wrapYoyo","total","_replaceRandom","s","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","start","progress","mutate","isString","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callbackScope","_interrupt","_quickTween","_createPlugin","config","isFunc","Plugin","init","_props","instanceDefaults","kill","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","register","prop","toUpperCase","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","h","m1","m2","splitColor","toHSL","forceAlpha","g","wasHSL","parseInt","map","Number","_colorOrderData","c","_colorExp","_formatColors","orderMatchData","result","colors","shell","color","join","shift","RegExp","_hslExp","_colorStringFilter","combined","lastIndex","test","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_tick","elapsed","manual","overlap","dispatch","tick","wake","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","fps","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","key","val","parsedVal","lastIndexOf","trim","_configEaseFromString","exec","_CE","_propagateYoyoEase","isYoyo","yoyoEase","_yoyo","_ease","_yEase","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","toLowerCase","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","Animation","yoyo","reversed","reverse","paused","_proto","smoothChildTiming","startTime","_totalTime","_pTime","totalProgress","_ps","includeRepeats","wrapRepeats","seek","restart","includeDelay","play","pause","atTime","resume","isActive","hasStarted","eventCallback","onFulfilled","_resolve","_then","_Animation","sortChildren","scrollTrigger","_proto2","Tween","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","rewinding","doesWrap","_hasPause","_forcing","onUpdate","adjustedTime","addLabel","getChildren","nested","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","children","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","substring","m","fp","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","style","_checkPlugin","plugin","ptLookup","priority","_ptLookup","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","onRepeat","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","pt2","first","last","pr","change","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","format","quickSetter","setters","isTweening","registerEffect","_ref","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","utils","install","effects","ticker","globalTimeline","core","globals","getCache","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","createElementNS","createElement","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","element","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","_getBBox","bounds","error","width","height","_isSVG","getCTM","_removeProperty","removeProperty","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","curValue","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","px","isSVG","body","_get","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","top","bottom","right","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","matrix","addedToDOM","transform","baseVal","consolidate","offsetParent","contains","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","_ref2","a11","a21","tan","_addRotationalPropTween","cap","finalValue","direction","_addRawTransformPTs","startCache","exclude","endCache","side","CSSPlugin","specialProp","isTransformRelated","transformPropTween","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","gsapWithCSS","TweenMaxWithCSS","require","EventEmitter","emitter","deltaTime","UPDATE","RESIZE","passive","initEvents","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onResize","eventEmitter","View","el","Highway","ProjectContent","description","tech","year","role","link","media","videoSrc","projectVideos","loreal256256","imageSrc","img","selfportrait512512","brightVal","fabric256256","memoryPhase512512","crashingdawn256256","spiritualbeings256256","letsgetphysical256256","sken256256","needahand256256","gnsw256256","CURRENT_VIEW","HOVERING_LINK","HOVERING_NAVLINK","VIEWING_PROJECT","CURRENT_PROJECT_INDEX","PREV_PROJECT_INDEX","StickyComponent","domElement","enable","event","includeHoverAnim","defaultColor","inputPos","clientX","clientY","onMobile","updateForce","hovered","UPDATE_STICKY_TARGET","offsetPos","rect","HOVERING_STICKY_COMPONENT","classList","LEAVING_STICKY_COMPONENT","initForceParams","getInitPos","removeHoverState","removeEvents","w","innerWidth","innerHeight","inBounds","isMobile","initPos","currentPos","targetPos","wK","hK","onClick","applyHoverState","translateX","translateY","_trimExp","emojiExp","getText","textContent","firstChild","nodeValue","splitInnerHTML","delimiter","node","emojiSafeSplit","nodeName","character","charCodeAt","emoji","_stripExp","_multipleSpacesExp","_bonusValidated","_getComputedStyle","_toArray","_isAbsolute","absolute","_findSpecialChars","chars","_divStart","_cssClassFunc","cssClass","tag","iterate","num","_swapText","oldText","newText","_pushReversed","merge","_isBeforeWordDelimiter","root","wordDelimiter","_parent","_deWordify","childNodes","_isSplit","previousSibling","_getStyleAsNumber","computedStyle","_setPositionsAfterSplit","allChars","allWords","allLines","origWidth","origHeight","paddingLeft","lineOffsetY","borderTopAndBottom","borderLeftAndRight","padTopAndBottom","padLeftAndRight","lineThreshold","textAlign","charArray","wordArray","lineArray","span","types","lines","words","linesClass","iterateLine","spaceNodesToRemove","nodes","isChild","curLine","addWordSpaces","lineNode","lineWidth","getElementsByTagName","offsetTop","_x","offsetLeft","_y","_w","_h","_wordEnd","_isFirst","createTextNode","innerHTML","className","String","fromCharCode","clientHeight","clientWidth","_splitRawText","wordStart","charStart","space","wordEnd","wordIsOpen","specialChars","splitText","hasTagStart","testResult","container","reduceWhiteSpace","_split","SplitText","elements","_originals","isSplit","revert","wordsClass","charsClass","originals","Project","projectID","viewing","HOVERING_NAV_LINK","state","onHover","viewButton","opacity","activeAlpha","idleAlpha","exitButton","projectTitle","projectNumber","projectInfoElements","onExitClicked","onExitButtonHover","projectLinkContainer","projectLink","projectInfo","initProjectTitle","initViewbutton","initProjectNumber","initMiscInfoElements","initProjectDescription","initProjectTech","initProjectLink","initExitButton","splitTextElements","applyInitStyles","projectTitleContainer","createContainerElement","innerText","viewButtonContainer","projectNumberContainer","miscInfoContainer","projectYearContainer","projectYear","projectTypeContainer","projectType","projectRoleContainer","projectRole","projecDescriptionContainer","projectDescription","projectTechContainer","projectTech","onViewButtonHover","textClip","word","overflow","ProjectLink","project","content","desiredProject","LEAVING_LINK","projectIndex","Projects","initProjects","initState","projects","Work","contentIndex","updateViewModeStyles","showTitle","enableUserInteraction","inScrollMode","cursor","hideTitle","hideContent","revealContent","UPDATE_CURRENT_VIEW","firstReveal","initDomGL","SHOW_CLICKDRAG_CTA","playEnterAnim","HIDE_CLICKDRAG_CTA","playLeaveAnim","showScrollInterface","updateContentSelection","showProject","closeProject","enableScrollMode","disableScrollMode","domGLReferenceElement","referenceElement","getFirstQuad","AboutContent","introText","contactHeader","contactMethods","douglas10241024","About","initReferences","populateContent","resetTextSplit","header","onLinkHover","onLinkLeave","aboutContent","enterAnim","leaveAnim","EPSILON","subtract","multiply","divide","squaredDistance","squaredLength","negate","inverse","dot","cross","ax","ay","az","bx","by","bz","lerp","transformMat4","scaleRotateMat4","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","tempA","tempB","cosine","acos","exactEquals","Vec3","Vec3Func","va","vb","mat4","o","aw","identity","setAxisAngle","bw","rotateX","rotateY","rotateZ","slerp","omega","cosom","sinom","scale0","scale1","invert","a0","a3","invDot","conjugate","fromMat3","fTrace","fRoot","k","fromEuler","euler","order","sx","cx","sy","cy","sz","cz","vec4","Quat","onChange","QuatFunc","qA","qB","matrix3","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","transpose","a01","a02","a03","a00","a10","a20","a30","a31","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","b0","b1","b2","b3","translate","rotate","hypot","b12","b20","b21","b22","getTranslation","mat","getScaling","getMaxScaleOnAxis","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat","yx","zx","zy","fovy","aspect","near","far","nf","ortho","lr","bt","targetTo","eye","up","eyex","eyey","eyez","upx","upy","upz","z0","z1","x0","x1","multiplyScalar","Mat4","Mat4Func","ma","mb","fov","pos","fromRotationMatrix","tmpMat4","Euler","EulerFunc","fromQuaternion","Transform","visible","worldMatrix","matrixAutoUpdate","quaternion","notifyParent","addChild","notifyChild","setParent","updateMatrix","worldMatrixNeedsUpdate","updateMatrixWorld","compose","traverse","lookAt","tempVec3","ID","canvas","dpr","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","powerPreference","autoClear","webgl","attributes","gl","getContext","isWebgl2","setSize","blendFunc","src","ONE","dst","ZERO","blendEquation","modeRGB","FUNC_ADD","cullFace","frontFace","CCW","depthMask","depthFunc","LESS","premultiplyAlpha","flipY","unpackAlignment","framebuffer","viewport","textureUnits","activeTextureUnit","boundBuffer","uniformLocations","extensions","getExtension","vertexAttribDivisor","drawArraysInstanced","drawElementsInstanced","createVertexArray","bindVertexArray","deleteVertexArray","drawBuffers","parameters","maxTextureUnits","getParameter","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","assign","disable","srcAlpha","dstAlpha","undefined","blendFuncSeparate","modeAlpha","blendEquationSeparate","activeTexture","TEXTURE0","FRAMEBUFFER","buffer","bindFramebuffer","extension","webgl2Func","extFunc","renderOrder","program","zDepth","scene","camera","frustumCull","renderList","updateFrustum","draw","frustumCulled","frustumIntersectsMesh","opaque","ui","depthTest","applyMatrix4","projectionViewMatrix","sortOpaque","sortTransparent","sortUI","concat","setViewport","DEPTH_TEST","setDepthMask","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","getRenderList","tempMat4","tempVec3a","tempVec3b","Camera","zoom","projectionMatrix","viewMatrix","worldPosition","orthographic","fromPerspective","fromOrthogonal","frustum","constant","invLen","geometry","Infinity","computeBoundingSphere","frustumIntersectsSphere","normal","plane","transformMat2","transformMat2d","Vec2","Vec2Func","mat3","arrayCacheF32","Program","vertex","fragment","uniforms","BACK","depthWrite","setBlendFunc","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderInfoLog","addLineNumbers","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","numUniforms","ACTIVE_UNIFORMS","uIndex","uniform","getActiveUniform","getUniformLocation","uniformName","isStructArray","structIndex","structProperty","isStruct","attributeLocations","locations","numAttribs","ACTIVE_ATTRIBUTES","aIndex","attribute","getActiveAttrib","getAttribLocation","attributeOrder","CULL_FACE","BLEND","setCullFace","setFrontFace","setDepthFunc","setBlendEquation","flipFaces","textureUnit","programActive","currentProgram","useProgram","activeUniform","texture","setUniform","applyState","CW","deleteProgram","flatten","setValue","arraysEqual","setArray","uniform1fv","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform1i","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","string","arrayLen","valueLen","Float32Array","warnCount","fromMat4","normalFromMat4","projection","Mat3","Mat3Func","vec3a","vec3b","vec3c","Mesh","TRIANGLES","modelViewMatrix","normalMatrix","beforeRenderCallbacks","afterRenderCallbacks","mesh","modelMatrix","cameraPosition","getNormalMatrix","use","emptyPixel","Uint8Array","isPowerOf2","Texture","image","TEXTURE_2D","UNSIGNED_BYTE","RGBA","internalFormat","wrapS","CLAMP_TO_EDGE","wrapT","generateMipmaps","minFilter","NEAREST_MIPMAP_LINEAR","LINEAR","magFilter","anisotropy","level","createTexture","store","glState","REPEAT","bindTexture","needsUpdate","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_CUBE_MAP","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","ArrayBuffer","isView","isCompressedTexture","compressedTexImage2D","generateMipmap","RenderTarget","depthTexture","createFramebuffer","textures","framebufferTexture2D","COLOR_ATTACHMENT0","NEAREST","DEPTH_COMPONENT","DEPTH_COMPONENT16","UNSIGNED_INT","DEPTH_ATTACHMENT","depthBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","stencilBuffer","STENCIL_INDEX8","STENCIL_ATTACHMENT","depthStencilBuffer","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","ATTR_ID","isBoundsWarned","Geometry","VAOs","drawRange","count","instancedCount","currentGeometry","addAttribute","attr","size","FLOAT","Uint16Array","UNSIGNED_SHORT","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","normalized","stride","byteLength","divisor","instanced","createBuffer","updateAttribute","isInstanced","bindBuffer","bufferData","STATIC_DRAW","bindAttributes","numLoc","vertexAttribPointer","enableVertexAttribArray","createVAO","drawElements","drawArrays","array","getPositionArray","sub","computeBoundingBox","maxRadiusSq","fromArray","vao","deleteBuffer","Triangle","uv","Post","targetOnly","options","passes","fbo","read","write","swap","resize","defaultVertex","defaultFragment","textureUniform","enabled","pass","enabledPasses","filter","module","exports","getCameraViewplaneSize","cameraFov","cameraAspect","dist","viewportHeight","viewportWidth","DomQuad","viewPlaneSize","scaleOffset","cameraViewplaneSize","viewportScaleX","viewportScaleY","posPhaseX","posPhaseY","Plane","widthSegments","heightSegments","wSegs","hSegs","numIndices","Uint32Array","buildPlane","uDir","vDir","ii","io","segW","segH","iy","ix","loopNegativeNumber","makeid","characters","charactersLength","vert","frag","ProjectQuad","posOffset","loopLimit","loadVideo","_ViewplaneSize","_Time","_Image","_FlowMap","_Resolution","_FlowMapPhase","_ScrollPhase","_RestorePhase","_InputForce","_FlipFlowMapForce","_ScalePhase","_RevealPhase","_ClipRevealPhase","_UvScalePhase","_ViewModePhase","_RipplePhase","_Entering","_RevealDirection","_InView","_Alpha","_Scale","animateScrollModeUniforms","alphaPhase","flowMapPhase","isInView","delta","restoreDelta","video","inView","inViewPosZ","scrollPhase","positionRestored","restorePhase","restoreEase","initProgram","PLAY_VIDEO","playVideo","PAUSE_VIDEO","pauseVideo","applyScrollMode","removeScrollMode","loopPosition","restorePosition","updateScrollPhase","updateVideoTexture","scrollModeTl","readyState","HAVE_ENOUGH_DATA","crossOrigin","HAVE_CURRENT_DATA","load","muted","loop","currentTime","Image","onload","roundPosZ","DomquadMediator","quad","quadsLoaded","ProjectQuadMediator","updateRelations","calculateDomTransforms","quadInView","getQuadInView","inViewMode","revealQuadAnim","quads","quadCount","quadSwapped","inputForce","inputForceInertia","minBounds","maxBounds","initQuads","enterScrollMode","exitScrollMode","updateViewMode","revealQuads","resetQuads","hideQuads","mediaCount","dt","inputDelta","flowMap","updateDimensions","calcDomToWebGLPos","AboutQuad","loadImage","_Aspect","AboutQuadMediator","revealQuad","animateOutQuads","reveal","DomQuadManager","activeMediator","mediators","bindToDom","unloadQuads","resizeEvent","updateQuadRelations","initMediators","PROJECTS","ABOUT","loadMediator","unloadActiveMediator","MouseFlowmap","initFBO","createRenderTexture","tmp","HALF_FLOAT","HALF_FLOAT_OES","RGBA16F","geo","_PrevFrame","_InputPos","_InputVel","_Force","_Radius","_FadeRate","velX","velY","fxaa","ripple","WebGLContext","isInteracting","wk","prevInputPos","firstMove","touchCount","currentTouch","touches","mouseFlowmap","domQuadManager","resizeContext","aspectRatio","post","uResolution","Aspect","initScene","initDomQuadManager","initMouseflowMap","clearColor","prevtime","renderToScreen","canvasResolution","addPass","distort","isResizing","LoadingScreen","loadingProgress","phase","contentCount","targetScale","totalContent","currentScale","updateProgress","NoMobileCTA","twitterLink","emailLink","greetingGif","gif","gaben","Navigation","selected","updateActiveState","active","animateHoverState","selectedLink","onSelect","viewMediator","enableLinks","currentLocation","hoverAnim","Cursor","animateScrollMode","restoreAlpha","inputTravel","inputTravelThreshold","removeCTAText","restore","restoreAnim","defaultRadius","ctaTextAlpha","removeCTA","cursorArrowAlpha","arrowOriginOffset","revealAnim","hoveringSticky","hoverRadius","hoverModeAnim","hideCTAText","strokeAlpha","fillAlpha","leaveHoverModeAnim","showCTAText","navlinkHoverAnim","inViewProjectMode","drawMessage","prevPosition","inputDirection","sign","updateInputphase","devicePixelRatio","initCursor","initCursorArrows","initCta","scrollModeRadius","strokeWidth","startAngle","endAngle","arrowLocalPos","inputPhase","holdMessage","createCanvasText","fontSize","dragMessage","ctaPosOffset","font","messageBounds","measureText","updateStickyTarget","LINK_SELECTED","onLinkSelected","updateNavlinkState","scrollModeAnim","beginPath","topArrowAlpha","fillStyle","topArrowScale","moveTo","lineTo","fill","closePath","bottomArrowAlpha","bottomArrowScale","strokeStyle","arc","stroke","textBaseline","fillText","clearRect","drawCursorCircle","drawCursorArrows","drawCTAText","TransitionSlide","leaving","ViewMediator","work","about","highwayArgs","default","App","browser","Bowser","getParser","navigator","userAgent","parsedResult","platform","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","getParents","modules","parents","Function","deps","cached","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACfA,SAASA,CAAT,GAASA,CAKTA;;AAAAA,CAAAA,CAAEC,SAAFD,GAAc;AACZE,EAAAA,EAAAA,EAAI,UAAUC,CAAV,EAAgBC,CAAhB,EAA0BC,CAA1B,EAA0BA;AAC5B,QAAIC,CAAAA,GAAIC,KAAKD,CAALC,KAAWA,KAAKD,CAALC,GAAS,EAApBA,CAAR;AAOA,WAAA,CALCD,CAAAA,CAAEH,CAAFG,CAAAA,KAAYA,CAAAA,CAAEH,CAAFG,CAAAA,GAAU,EAAtBA,CAKD,EAL4BE,IAK5B,CALiC;AAC/BC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","file":"src.80dfb952.js","sourceRoot":"..\\src\\Views","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","/**\n * @file Highway default renderer that handle DOM stuffs.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\n\nexport default class Renderer {\n\n  /**\n   * @arg {object} properties — Set of properties (slug, page, view,...)\n   * @constructor\n   */\n  constructor(properties) {\n    // We get the view.\n    this.wrap = document.querySelector('[data-router-wrapper]');\n\n    // We save properties of the renderer\n    this.properties = properties;\n\n    // We get our transition we will use later to show/hide our view.\n    this.Transition = properties.transition ? new properties.transition.class(this.wrap, properties.transition.name) : null;\n  }\n\n  /**\n   * Renderer initialization.\n   */\n  setup() {\n    // These both methods have to be called at least once on first load.\n    this.onEnter && this.onEnter();\n    this.onEnterCompleted && this.onEnterCompleted();\n  }\n\n  /**\n   * Add view in DOM, then remove previous view\n   */\n  add() {\n    // We setup the DOM for our [data-router-view]\n    this.wrap.insertAdjacentHTML('beforeend', this.properties.view.outerHTML);\n  }\n\n  /**\n   * Update document informations\n   */\n  update() {\n    // Now we update all the informations in the DOM we need!\n    // We update the title\n    document.title = this.properties.page.title;\n  }\n\n  /**\n   * Add the view in DOM and play an `in` transition if one is defined.\n   *\n   * @param {object} datas - Set of datas\n   * @return {object} Promise\n   */\n  show(datas) {\n    return new Promise(async resolve => {\n      // Update DOM.\n      this.update();\n\n      // The `onEnter` method if set is called everytime the view is appended\n      // to the DOM. This let you do some crazy stuffs at this right moment.\n      this.onEnter && this.onEnter();\n\n      // The transition is set in your custom renderer with a getter called\n      // `transition` that should return the transition object you want to\n      // apply to you view. We call the `in` step of this one right now!\n      this.Transition && await this.Transition.show(datas);\n\n      // The `onEnterCompleted` method if set in your custom renderer is called\n      // everytime a transition is over if set. Otherwise it's called right after\n      // the `onEnter` method.\n      this.onEnterCompleted && this.onEnterCompleted();\n\n      // We resolve the Promise.\n      resolve();\n    });\n  }\n\n  /**\n   * Play an `out` transition if one is defined and remove the view from DOM.\n   *\n   * @param {object} datas - Set of datas\n   * @return {object} Promise\n   */\n  hide(datas) {\n    return new Promise(async resolve => {\n      // The `onLeave` method if set in your custom renderer is called everytime\n      // before a view will be removed from the DOM. This let you do some stuffs\n      // right before the view isn't available anymore.\n      this.onLeave && this.onLeave();\n\n      // We call the `out` step of your transition right now!\n      this.Transition && await this.Transition.hide(datas);\n\n      // The `onLeaveCompleted` method if set in your custom renderer is called\n      // everytime a view is completely removed from the DOM.\n      this.onLeaveCompleted && this.onLeaveCompleted();\n\n      // Resolve Promise\n      resolve();\n    });\n  }\n}\n","/**\n * @file Highway helper methods used all acrosse the script.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\n\n// Dependencies\nimport Renderer from './renderer';\n\n// Constants\nconst PARSER = new window.DOMParser();\n\n// Highway Helpers\nexport default class Helpers {\n\n  /**\n   * @arg {object} renderers — List of renderers\n   * @arg {object} transitions — List of transitions\n   * @constructor\n   */\n  constructor(renderers, transitions) {\n    this.renderers = renderers;\n    this.transitions = transitions;\n  }\n\n  /**\n   * Get origin of an URL\n   *\n   * @arg    {string} url — URL to match\n   * @return {string} Origin of URL or `null`\n   * @static\n   */\n  getOrigin(url) {\n    const match = url.match(/(https?:\\/\\/[\\w\\-.]+)/);\n    return match ? match[1].replace(/https?:\\/\\//, '') : null;\n  }\n\n  /**\n   * Get pathname of an URL\n   *\n   * @arg    {string} url — URL to match\n   * @return {string} Pathname of URL or `null`\n   * @static\n   */\n  getPathname(url) {\n    const match = url.match(/https?:\\/\\/.*?(\\/[\\w_\\-./]+)/);\n    return match ? match[1] : '/';\n  }\n\n  /**\n   * Get anchor in an URL\n   *\n   * @arg    {string} url — URL to match\n   * @return {string} Anchor in URL or `null`\n   * @static\n   */\n  getAnchor(url) {\n    const match = url.match(/(#.*)$/);\n    return match ? match[1] : null;\n  }\n\n  /**\n   * Get search in URL.\n   *\n   * @arg    {string} url — URL to match\n   * @return {object} Search in URL formatted as an object or `null`\n   * @static\n   */\n  getParams(url) {\n    const match = url.match(/\\?([\\w_\\-.=&]+)/);\n\n    if (!match) {\n      return null;\n    }\n\n    const search = match[1].split('&');\n    const object = {};\n\n    for (let i = 0; i < search.length; i++) {\n      const part = search[i].split('=');\n      const { 0: key } = part;\n      const { 1: value } = part;\n\n      object[key] = value;\n    }\n\n    return object;\n  }\n\n  /**\n   * Get page's DOM from page HTML\n   *\n   * @arg    {string} page — Page HTML\n   * @return {string} Page DOM\n   * @static\n   */\n  getDOM(page) {\n    return typeof page === 'string' ? PARSER.parseFromString(page, 'text/html') : page;\n  }\n\n  /**\n   * Get view element from page DOM\n   *\n   * @arg    {string} page — Page DOM\n   * @return {object} View element or `null`\n   * @static\n   */\n  getView(page) {\n    return page.querySelector('[data-router-view]');\n  }\n\n  /**\n   * Get view's slug from view element\n   *\n   * @arg    {string} view — [data-router-view] DOM\n   * @return {string} Page slug or `null`\n   * @static\n   */\n  getSlug(view) {\n    return view.getAttribute('data-router-view');\n  }\n\n  /**\n   * Get page renderer\n   *\n   * @arg    {string} slug — Renderer's slug\n   * @return {object} Single renderer or default one\n   * @static\n   */\n  getRenderer(slug) {\n    // Return Default\n    if (!this.renderers) {\n      return Promise.resolve(Renderer);\n    }\n\n    // Return Renderer\n    if (slug in this.renderers) {\n      const renderer = this.renderers[slug];\n\n      if (typeof renderer === 'function' && !Renderer.isPrototypeOf(renderer)) {\n        return Promise.resolve(renderer()).then(({ default: cons }) => cons);\n      }\n\n      if (typeof renderer.then === 'function') {\n        return Promise.resolve(renderer).then(({ default: cons }) => cons);\n      }\n\n      return Promise.resolve(renderer);\n    }\n\n    // Return Default\n    return Promise.resolve(Renderer);\n  }\n\n  /**\n   * Get page transition\n   *\n   * @arg    {string} slug — Transition slug\n   * @return {object} Single transition or `null`\n   * @static\n   */\n  getTransition(slug) {\n    if (!this.transitions) {\n      return null;\n    }\n\n    if (slug in this.transitions) {\n      // Return Transition\n      return { class: this.transitions[slug], name: slug };\n    }\n\n    if ('default' in this.transitions) {\n      // Return Transition\n      return { class: this.transitions['default'], name: 'default' };\n    }\n\n    return null;\n  }\n\n  /**\n   * Get all required properties for a context.\n   *\n   * @arg    {object} context – DOM context\n   * @return {object} Properties\n   */\n  getProperties(context) {\n    const page = this.getDOM(context);\n    const view = this.getView(page);\n    const slug = this.getSlug(view);\n    const renderer = this.getRenderer(slug, this.renderers);\n    const transition = this.getTransition(slug, this.transitions);\n\n    return {\n      page,\n      view,\n      slug,\n      renderer,\n      transition\n    };\n  }\n\n  /**\n   * Get state of an URL.\n   *\n   * @arg    {string} url — URL to decompose\n   * @return {object} State\n   */\n  getLocation(url) {\n    return {\n      href: url,\n      anchor: this.getAnchor(url),\n      origin: this.getOrigin(url),\n      params: this.getParams(url),\n      pathname: this.getPathname(url)\n    };\n  }\n}\n","/**\n * @file Highway core that handle all history stuffs.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nimport Emitter from 'tiny-emitter';\nimport Helpers from './helpers';\n\nexport default class Core extends Emitter {\n\n  /**\n   * @arg {object} opts — User options\n   * @arg {object} opts.renderers — List of renderers\n   * @arg {object} opts.transitions — List of transitions\n   * @extends Emitter\n   * @constructor\n   */\n  constructor({ renderers, transitions } = {}) {\n    // Extends the Emitter constructor in order to be able to use its features\n    // and send custom events all along the script.\n    super();\n\n    // Helpers.\n    this.Helpers = new Helpers(renderers, transitions);\n\n    // Prep contextual transition info.\n    this.Transitions = transitions;\n    this.Contextual = false;\n\n    // Properties & state.\n    this.location = this.Helpers.getLocation(window.location.href);\n    this.properties = this.Helpers.getProperties(document.cloneNode(true));\n\n    // Status variables.\n    this.popping = false;\n    this.running = false;\n\n    // Trigger Element\n    this.trigger = null;\n\n    // Cache\n    this.cache = new Map();\n    this.cache.set(this.location.href, this.properties);\n\n    // Get the page renderer and properly setup it.\n    this.properties.renderer.then(Renderer => {\n      this.From = new Renderer(this.properties);\n      this.From.setup();\n    });\n\n    // Events variables.\n    this._navigate = this.navigate.bind(this);\n\n    // Listen the `popstate` on the window to run the router each time an\n    // history entry changes. Basically everytime the backward/forward arrows\n    // are triggered by the user.\n    window.addEventListener('popstate', this.popState.bind(this));\n\n    // Get all elligible links.\n    this.links = document.querySelectorAll('a:not([target]):not([data-router-disabled])');\n\n    // Event attachement\n    this.attach(this.links);\n  }\n\n  /**\n   * Attach `click` event on links.\n   *\n   * @param {(array|nodeList)} links - Links to use\n   */\n  attach(links) {\n    for (const link of links) {\n      link.addEventListener('click', this._navigate);\n    }\n  }\n\n  /**\n   * Detach `click` event on links.\n   *\n   * @param {(array|nodeList)} links - Links to use\n   */\n  detach(links) {\n    for (const link of links) {\n      link.removeEventListener('click', this._navigate);\n    }\n  }\n\n  /**\n   * Click method called on `click` event.\n   *\n   * @arg {object} e - `click` event\n   */\n  navigate(e) {\n    if (!(e.metaKey || e.ctrlKey)) {\n      // Prevent default `click`\n      e.preventDefault();\n\n      // Check to see if this navigation will use a contextual transition\n      const contextual = e.currentTarget.hasAttribute('data-transition') ? e.currentTarget.dataset.transition : false;\n\n      // We have to redirect to our `href` using Highway\n      // There we set up the contextual transition, so this and Core.redirect can pass in either transition name or false\n      this.redirect(e.currentTarget.href, contextual, e.currentTarget);\n    }\n  }\n\n  /**\n   * Redirect to URL\n   *\n   * @param {string} href - URL\n   * @param {(object|boolean)} contextual - If the transition is changing on the fly\n   * @param {(object|string)} trigger - The trigger element or a string\n   */\n  redirect(href, contextual = false, trigger = 'script') {\n    // Save Trigger Element\n    this.trigger = trigger;\n\n    // When our URL is different from the current location `href` and no other\n    // navigation is running for the moment we are allowed to start a new one.\n    // But if the URL containes anchors or if the origin is different we force\n    // the hard reloading of the page to avoid serious errors.\n    if (!this.running && href !== this.location.href) {\n      // We temporary store the future location.\n      const location = this.Helpers.getLocation(href);\n\n      // Set contextual transition values if applicable\n      this.Contextual = false;\n\n      if (contextual) {\n        this.Contextual = this.Transitions['contextual'][contextual].prototype;\n        this.Contextual.name = contextual;\n      }\n\n      if (location.origin !== this.location.origin || location.anchor && location.pathname === this.location.pathname) {\n        // We redirect when origins are differents or when there is an anchor.\n        window.location.href = href;\n\n      } else {\n        this.location = location;\n\n        // Now all our conditions are passed we can update our location and do\n        // what we need to do before fetching it.\n        this.beforeFetch();\n\n      }\n    }\n  }\n\n  /**\n   * Watch history entry changes.\n   */\n  popState() {\n    // Save Trigger Element\n    this.trigger = 'popstate';\n\n    // A contextual transition only effects the transition when a certain link is clicked, not when navigating via browser buttons\n    this.Contextual = false;\n\n    // We temporary store the future location.\n    const location = this.Helpers.getLocation(window.location.href);\n\n    // When users navigate using the browser buttons we check if the locations\n    // have no anchors and that our locations are different.\n    if (this.location.pathname !== location.pathname || !this.location.anchor && !location.anchor) {\n      this.popping = true;\n      this.location = location;\n\n      // If everything is fine we can save our location and do what we need to\n      // do before fetching it.\n      this.beforeFetch();\n\n    } else {\n      // Update Location\n      this.location = location;\n\n    }\n  }\n\n  /**\n   * Update DOM on `click` event.\n   */\n  pushState() {\n    if (!this.popping) {\n      window.history.pushState(this.location, '', this.location.href);\n    }\n  }\n\n  /**\n   * Fetch the page from URL\n   *\n   * @return {string} Fetch response\n   */\n  async fetch() {\n    const response = await fetch(this.location.href, {\n      mode: 'same-origin',\n      method: 'GET',\n      headers: { 'X-Requested-With': 'Highway' },\n      credentials: 'same-origin'\n    });\n\n    // We have to checked if the fetch response is OK otherwise we have to force\n    // the hard reloading of the page because we might have an error.\n    if (response.status >= 200 && response.status < 300) {\n      return response.text();\n    }\n\n    window.location.href = this.location.href;\n  }\n\n  /**\n   * Do some tests before HTTP requests to optimize pipeline.\n   */\n  async beforeFetch() {\n    // Push State\n    this.pushState();\n\n    // We lock the navigation to avoid multiples clicks that could overload the\n    // navigation process meaning that if the a navigation is running the user\n    // cannot trigger a new one while the previous one is running.\n    this.running = true;\n\n    // We emit an event right before hiding the current view to create a hook\n    // for developers that want to do stuffs when an elligible link is clicked.\n    this.emit('NAVIGATE_OUT', {\n      from: {\n        page: this.From.properties.page,\n        view: this.From.properties.view\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // Transition Datas\n    const datas = {\n      trigger: this.trigger,\n      contextual: this.Contextual\n    };\n\n    // We have to verify our cache in order to save some HTTPRequests. If we\n    // don't use any caching system everytime we would come back to a page we\n    // already saw we will have to fetch it again and it's pointless.\n    if (this.cache.has(this.location.href)) {\n      // We wait until the view is hidden.\n      await this.From.hide(datas);\n\n      // Get Properties\n      this.properties = this.cache.get(this.location.href);\n\n    } else {\n      // We wait till all our Promises are resolved.\n      const results = await Promise.all([\n        this.fetch(),\n        this.From.hide(datas)\n      ]);\n\n      // Now everything went fine we can extract the properties of the view we\n      // successfully fetched and keep going.\n      this.properties = this.Helpers.getProperties(results[0]);\n\n      // We cache our result\n      // eslint-disable-next-line\n      this.cache.set(this.location.href, this.properties);\n\n    }\n\n    this.afterFetch();\n  }\n\n  /**\n   * Push page in DOM\n   */\n  async afterFetch() {\n    // We are calling the renderer attached to the view we just fetched and we\n    // are adding the [data-router-view] in our DOM.\n    const Renderer = await this.properties.renderer;\n\n    this.To = new Renderer(this.properties);\n    this.To.add();\n\n    // We then emit a now event right before the view is shown to create a hook\n    // for developers who want to make stuff before the view is visible.\n    this.emit('NAVIGATE_IN', {\n      to: {\n        page: this.To.properties.page,\n        view: this.To.wrap.lastElementChild\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // We wait for the view transition to be over before resetting some variables\n    // and reattaching the events to all the new elligible links in our DOM.\n    await this.To.show({\n      trigger: this.trigger,\n      contextual: this.Contextual\n    });\n\n    this.popping = false;\n    this.running = false;\n\n    // Detach Event on Links\n    this.detach(this.links);\n\n    // Get all elligible links.\n    this.links = document.querySelectorAll('a:not([target]):not([data-router-disabled])');\n\n    // Attach Event on Links\n    this.attach(this.links);\n\n    // Finally we emit a last event to create a hook for developers who want to\n    // make stuff when the navigation has ended.\n    this.emit('NAVIGATE_END', {\n      to: {\n        page: this.To.properties.page,\n        view: this.To.wrap.lastElementChild\n      },\n      from: {\n        page: this.From.properties.page,\n        view: this.From.properties.view\n      },\n      trigger: this.trigger,\n      location: this.location\n    });\n\n    // Last but not least we swap the From and To renderers for future navigations.\n    this.From = this.To;\n\n    // Reset Trigger\n    this.trigger = null;\n  }\n}\n","/**\n * @file Highway default transition that handle DOM animations.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nexport default class Transition {\n\n  /**\n   * @arg {object} wrap — [data-router-wrapper] node\n   * @arg {object} name — Transition name\n   * @constructor\n   */\n  constructor(wrap, name) {\n    // The [data-router-wrapper] is the only main information we need since the role of\n    // the transition is to show/hide the required DOM elements.\n    this.wrap = wrap;\n\n    // Save transition name for later.\n    this.name = name;\n  }\n\n  /**\n   * Add the view in DOM and play an `in` transition if one is defined.\n   *\n   * @return {object} Promise\n   * @param {object} datas - Set of datas\n   */\n  show({ trigger, contextual }) {\n    // Get View\n    const to = this.wrap.lastElementChild;\n    const from = this.wrap.firstElementChild;\n\n    // Promise\n    return new Promise(resolve => {\n      // The `in` method in encapsulated in the `show` method make transition\n      // code easier to write. This way you don't have to define any Promise\n      // in your transition code and focus on the transition itself.\n      if (!contextual) {\n        // Change Attributes\n        to.setAttribute('data-transition-in', this.name);\n        to.removeAttribute('data-transition-out', this.name);\n\n        // Call transition attached to the view.\n        this.in && this.in({ to, from, trigger, done: resolve });\n\n      } else {\n        // Change Attributes\n        to.setAttribute('data-transition-in', contextual.name);\n        to.removeAttribute('data-transition-out', contextual.name);\n\n        // Call the contextual transition.\n        contextual.in && contextual.in({ to, from, trigger, done: resolve });\n\n      }\n    });\n  }\n\n  /**\n   * Play an `out` transition if one is defined and remove the view from DOM.\n   *\n   * @return {object} Promise\n   * @param {object} datas - Set of datas\n   */\n  hide({ trigger, contextual }) {\n    // Get view\n    const from = this.wrap.firstElementChild;\n\n    // Promise\n    return new Promise(resolve => {\n      // The `out` method in encapsulated in the `hide` method make transition\n      // code easier to write. This way you don't have to define any Promise\n      // in your transition code and focus on the transition itself.\n      if (!contextual) {\n        // Change Attributes\n        from.setAttribute('data-transition-out', this.name);\n        from.removeAttribute('data-transition-in', this.name);\n\n        // Call the transition attached to the view.\n        this.out && this.out({ from, trigger, done: resolve });\n\n      } else {\n        // Change Attributes\n        from.setAttribute('data-transition-out', contextual.name);\n        from.removeAttribute('data-transition-in', contextual.name);\n\n        // Call the contextual transition.\n        contextual.out && contextual.out({ from, trigger, done: resolve });\n\n      }\n    });\n  }\n}\n","/**\n * @file Highway object containing all parts of the script.\n * @author Anthony Du Pont <bulldog@dogstudio.co>\n */\nimport Core from './core';\nimport Helpers from './helpers';\nimport Renderer from './renderer';\nimport Transition from './transition';\n\n// Highway Version\nconsole.log('Highway v2.2.0');\n\n// Export Highway\nexport default {\n  Core,\n  Helpers,\n  Renderer,\n  Transition\n};\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","const events = {\r\n\r\n    INIT_DOMGL: 'init_DomGL',\r\n    QUADS_LOADED: 'quads_loaded',\r\n    RESET_QUADS: 'reset_quad',\r\n    REVEAL_QUADS: 'reveal_quads',\r\n\r\n    PREPARE_UNMOUNT: 'prepare_unmount',\r\n    TRANSITIONING: 'transitioning',\r\n    REMOVE_DOMGL: 'remove_DOMGL',\r\n    LOAD_PROJECT_CONTENT: 'load_Project_Content',\r\n\r\n    CONTENT_LOADED: 'content_loaded',\r\n    UPDATE_PROGRESS: 'update_progress',\r\n    LOADING_ANIM_COMPLETED: 'loading_anim_completed',\r\n    TEXTURE_LOADED: 'texture_loaded',\r\n    UPDATE_CONTENT_COUNT: 'update_content_count',\r\n\r\n    ENTER_SCROLL_MODE: 'enter_scroll_mode',\r\n    EXIT_SCROLL_MODE: 'exit_scroll_mode',\r\n    APPLY_SCROLL_MODE_ANIM: 'apply_scroll_mode_anim',\r\n    REMOVE_SCROLL_MODE_ANIM: 'remove_scroll_mode_anim',\r\n    UPDATE_VIEWMODE: 'update_view_mode',\r\n\r\n    SHOW_PROJECT: 'show_project',\r\n    CLOSE_PROJECT: 'close_project',\r\n\r\n    MOUSE_DOWN: 'mouse_down',\r\n    MOUSE_MOVE: 'mouse_move',\r\n    MOUSE_UP: 'mouse_up',\r\n\r\n    TOUCH_START: 'touch_start',\r\n    TOUCH_MOVE: 'touch_move',\r\n    TOUCH_END: 'touch_end',\r\n    TOUCH_CANCEL: 'touch_cancel',\r\n\r\n    TOUCH_START: 'touch_start',\r\n    TOUCH_MOVE: 'touch_move',\r\n    TOUCH_END: 'touch_end',\r\n\r\n    UPDATE_CURRENT_VIEW: 'update_current_view',\r\n    UPDATE: 'update',\r\n\r\n    HOVERING_STICKY_COMPONENT: 'hovering_sticky_component',\r\n    LEAVING_STICKY_COMPONENT: 'leaving_sticky_component',\r\n    UPDATE_STICKY_TARGET: 'update_sticky_target',\r\n\r\n    HOVERING_NAV_LINK: 'hovering_nav_link',\r\n\r\n    HOVERING_LINK: 'hovering_link',\r\n    LEAVING_LINK: 'leaving_link',\r\n    LINK_SELECTED: 'link_selected',\r\n\r\n    PLAY_VIDEO: 'play_video',\r\n    PAUSE_VIDEO: 'pause_video',\r\n\r\n    SHOW_CLICKDRAG_CTA: 'show_click-drag_cta',\r\n    HIDE_CLICKDRAG_CTA: 'hide_click-drag_cta',\r\n\r\n    RESIZE: 'resize'\r\n\r\n}\r\n\r\nexport default events;","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.3.1\n * https://greensock.com\n *\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-\\+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+(?:\\.|e-|e)*\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_parenthesesExp = /\\(([^()]+)\\)/i,\n    //finds the string between parentheses.\n_relExp = /[+-]=-?[\\.\\d]+/,\n    _delimitedValueExp = /[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n\n  if (!_isObject(target) && !_isFunction(target)) {\n    targets = [targets];\n  }\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property) {\n  var currentValue = target[property];\n  return _isFunction(currentValue) ? target[property]() : _isUndefined(currentValue) && target.getAttribute(property) || currentValue;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _parseVars = function _parseVars(params, type, parent) {\n  //reads the arguments passed to one of the key methods and figures out if the user is defining things with the OLD/legacy syntax where the duration is the 2nd parameter, and then it adjusts things accordingly and spits back the corrected vars object (with the duration added if necessary, as well as runBackwards or startAt or immediateRender). type 0 = to()/staggerTo(), 1 = from()/staggerFrom(), 2 = fromTo()/staggerFromTo()\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars;\n\n  if (isLegacy) {\n    vars.duration = params[1];\n  }\n\n  vars.parent = parent;\n\n  if (type) {\n    irVars = vars;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n\n    if (type < 2) {\n      vars.runBackwards = 1;\n    } else {\n      vars.startAt = params[varsIndex - 1]; // \"from\" vars\n    }\n  }\n\n  return vars;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && _lazyRender();\n  animation.render(time, suppressEvents, force);\n  _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj) && p !== \"duration\" && p !== \"ease\") {\n      obj[p] = defaults[p];\n    }\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  if (child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren)) {\n    child.parent.remove(child);\n  }\n\n  child._act = 0;\n},\n    _uncache = function _uncache(animation) {\n  var a = animation;\n\n  while (a) {\n    a._dirty = 1;\n    a = a.parent;\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round(position + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  timeline._recent = child;\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || prevRatio && !totalTime && !tween._start && !tween._dp._lock ? 0 : 1,\n      // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n    // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n    return;\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    suppressEvents || _callback(tween, \"onStart\");\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    if (!ratio && tween._startAt && !tween._onUpdate && tween._start) {\n      //if the tween is positioned at the VERY beginning (_start 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n      tween._startAt.render(totalTime, true, force);\n    }\n\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0;\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n\n  if (animation._time > dur) {\n    animation._time = dur;\n    animation._tTime = Math.min(animation._tTime, animation._tDur);\n  }\n\n  !skipUncache && _uncache(animation.parent);\n  animation.parent && _setEnd(animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    i = position.charAt(0);\n\n    if (i === \"<\" || i === \">\") {\n      return (i === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);\n    }\n\n    i = position.indexOf(\"=\");\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = +(position.charAt(i - 1) + position.substr(i + 1));\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  return (value + \"\").substr((parseFloat(value) + \"\").length);\n},\n    clamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    return Math.floor(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  if (animation.progress() < 1) {\n    _callback(animation, \"onInterrupt\");\n  }\n\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  if (config.register) {\n    config.register(gsap, Plugin, PropTween);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length === 4) {\n        //for shorthand like #9F0\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b;\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n\n        if (a.length > 3) {\n          a[3] *= 1; //cast as number\n        }\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch;\n\n    if (elapsed > _lagThreshold) {\n      _startTime += elapsed - _adjustedLag;\n    }\n\n    _lastUpdate += elapsed;\n    _self.time = (_lastUpdate - _startTime) / 1000;\n    overlap = _self.time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      _self.frame++;\n      _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    dispatch && _listeners.forEach(function (l) {\n      return l(_self.time, elapsed, _self.frame, v);\n    });\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, (_nextTime - _self.time) * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1 / (_fps || 240);\n      _nextTime = _self.time + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1);\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _parenthesesExp.exec(name)[1].split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars, time) {\n    var parent = vars.parent || _globalTimeline;\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat || 0) {\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n    parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);\n    vars.reversed && this.reverse();\n    vars.paused && this.paused(true);\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this.parent || this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      // if (!parent._dp && parent._time === parent._dur) { // if a root timeline completes...and then a while later one of its children resumes, we must shoot the playhead forward to where it should be raw-wise, otherwise the child will jump to the end. Down side: this assumes it's using the _ticker.time as a reference.\n      // \tparent._time = _ticker.time - parent._start;\n      // }\n      this._start = _round(parent._time - (this._ts > 0 ? _totalTime / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - _totalTime) / -this._ts));\n\n      _setEnd(this);\n\n      if (!parent._dirty) {\n        //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n        _uncache(parent);\n      } //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted) {\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n\n      _lazySafeRender(this, _totalTime, suppressEvents);\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(0, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detatched parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  } // globalTime(rawTime) {\n  // \tlet animation = this,\n  // \t\ttime = arguments.length ? rawTime : animation.rawTime();\n  // \twhile (animation) {\n  // \t\ttime = animation._start + time / (animation._ts || 1);\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn time;\n  // }\n  ;\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from, suppressEvents);\n    }\n\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    if (from != null) {\n      this.seek(from || this.totalDuration(), suppressEvents);\n    }\n\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    if (atTime != null) {\n      this.seek(atTime, suppressEvents);\n    }\n\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      if (!!value !== this.reversed()) {\n        this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n      }\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive(hasStarted) {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && (this._initted || !hasStarted) && parent.isActive(hasStarted) && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n\n        if (params) {\n          vars[type + \"Params\"] = params;\n        }\n\n        if (type === \"onUpdate\") {\n          this._onUpdate = callback;\n        }\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, time) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars, time) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), _parsePosition(this, position));\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n\n          if (iteration < prevIteration) {\n            rewinding = !rewinding;\n          }\n\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n\n          if (!suppressEvents && this.parent) {\n            _callback(this, \"onRepeat\");\n          }\n\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime !== this._time || prevPaused !== !this._ts) {\n            return this;\n          }\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur + 0.0001 : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        //if ((tTime === tDur && tDur >= this.totalDuration()) || (!tTime && this._ts < 0)) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        //(totalTime || !dur) && ((totalTime && this._ts > 0) || (!tTime && this._ts < 0)) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    if (!_isNumber(position)) {\n      position = _parsePosition(this, position);\n    }\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return _uncache(this);\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this.parent && !this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (!onlyActive || child.isActive(onlyActive === \"started\"))) {\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        tween = Tween.to(tl, _setDefaults(vars, {\n      ease: \"none\",\n      lazy: false,\n      time: endTime,\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n        var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());\n        tween._dur !== duration && _setDuration(tween, duration).render(tween._time, true, true);\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }));\n\n    return tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._time = this._tTime = this._pTime = 0;\n\n    if (includeLabels) {\n      this.labels = {};\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        end,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        end = _setEnd(child);\n\n        if (end > max && child._ts) {\n          max = end;\n        }\n\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart + end)) {\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  if (_isFunction(vars)) {\n    vars = _parseFuncOrString(vars, tween, index, target, targets);\n  }\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\",\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    prevStartAt && prevStartAt.render(-1, true).kill();\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      if (immediateRender) {\n        if (time > 0) {\n          !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        } else if (dur) {\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _merge(cleanVars, {\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        });\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, \"started\"); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  tween._onUpdate = onUpdate;\n  tween._initted = 1;\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, time, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      time.duration = vars;\n      vars = time;\n      time = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = _this3.parent,\n        parsedTargets = (_isArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = _assertThisInitialized(_this3);\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    parent && _postAddChecks(parent, _assertThisInitialized(_this3));\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (time > dur || tDur === tTime) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          time = dur;\n        }\n\n        iteration = ~~(tTime / cycleDuration);\n\n        if (iteration && iteration === tTime / cycleDuration) {\n          time = dur;\n          iteration--;\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      time && !prevTime && !suppressEvents && _callback(this, \"onStart\");\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        if (totalTime < 0 && this._startAt) {\n          this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        }\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        if (totalTime < 0 && this._startAt && !this._onUpdate) {\n          this._startAt.render(totalTime, true, force);\n        }\n\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = 0;\n\n      if (this.parent) {\n        return _interrupt(this);\n      }\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweenng, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    if (this._initted && !this._pt && firstPT) {\n      //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n      _interrupt(this);\n    }\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return new Tween(targets, _parseVars(arguments, 1));\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return new Tween(targets, _parseVars(arguments, 2));\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property) {\n      pt.modifier(modifier, tween, target);\n    }\n\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    if (_isString(target)) {\n      //in case selector text or an array is passed in\n      target = toArray(target)[0];\n    }\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    if (unit === \"native\") {\n      unit = \"\";\n    }\n\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    if (value && value.ease) {\n      value.ease = _parseEase(value.ease, _defaults.ease);\n    }\n\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref) {\n    var name = _ref.name,\n        effect = _ref.effect,\n        plugins = _ref.plugins,\n        defaults = _ref.defaults,\n        extendTimeline = _ref.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt;\n\n    for (p in vars) {\n      pt = this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt && (pt.op = p); //this.add(target, \"setAttribute\", (target.getAttribute((p in target.dataset ? (p = \"data-\" + p) : p)) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.3.1\";\n_coreReady = 1;\n\nif (_windowExists()) {\n  _wake();\n}\n\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache };","/*!\n * CSSPlugin 3.3.1\n * https://greensock.com\n *\n * Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _checkPropPrefix(_transformOriginProp);\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if (toPercent && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    //transforms and borderRadius are relative to the size of the element itself!\n    return _round(curValue / (isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty]) * amount);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n\n  if (!_pluginInitted) {\n    _initCore();\n  }\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  if (_relExp.test(end)) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !_doc.body.contains(target)) {\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n\n    if (temp) {\n      style.display = temp;\n    } else {\n      _removeProperty(target, \"display\");\n    }\n\n    if (addedToDOM) {\n      if (nextSibling) {\n        parent.insertBefore(target, nextSibling);\n      } else if (parent) {\n        parent.appendChild(target);\n      } else {\n        _docElement.removeChild(target);\n      }\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = !cache.uncache && target.getAttribute(\"data-svg-origin\");\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;\n  cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n\n  if (forceCSS) {\n    //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n    target.style[_transformProp] = temp;\n  }\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var style = _tempDivStyler.style,\n      startCache = target._gsap,\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n  style.cssText = getComputedStyle(target).cssText + \";position:absolute;display:block;\"; //%-based translations will fail unless we set the width/height to match the original target (and padding/borders can affect it)\n\n  style[_transformProp] = transforms;\n\n  _doc.body.appendChild(_tempDivStyler);\n\n  endCache = _parseTransform(_tempDivStyler, 1);\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _doc.body.removeChild(_tempDivStyler);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n\n    if (!_pluginInitted) {\n      _initCore();\n    }\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        //plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        if (specialProp(this, target, p, endValue, tween)) {\n          hasPriority = 1;\n        }\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        this.add(style, \"setProperty\", getComputedStyle(target).getPropertyValue(p) + \"\", endValue + \"\", index, targets, 0, 0, p);\n      } else {\n        startValue = _get(target, p);\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n\n            if (~p.indexOf(\",\")) {\n              p = p.split(\",\")[0];\n            }\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform || _parseTransform(target); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              if (endUnit !== cache.zOrigin) {\n                _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n              }\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = (endValue + \"\").substr((endNum + \"\").length) || (p in _config.units ? _config.units[p] : startUnit);\n\n          if (startUnit !== endUnit) {\n            startNum = _convertToUnit(target, p, startValue, endUnit);\n          }\n\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === \"px\" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    if (hasPriority) {\n      _sortPropTweensByPriority(this);\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","const Emitter = require(\"tiny-emitter\");\r\nimport events from \"../utils/events\";\r\n\r\nimport {\r\n    gsap\r\n} from \"gsap\";\r\n\r\nclass EventEmitter {\r\n    constructor() {\r\n        this.emitter = new Emitter();\r\n        this.initEvents();\r\n    }\r\n\r\n    initEvents() {\r\n        window.addEventListener(\"mousedown\", this.onMouseDown, {\r\n            passive: true\r\n        });\r\n        window.addEventListener(\"mousemove\", this.onMouseMove, {\r\n            passive: true\r\n        });\r\n        window.addEventListener(\"mouseup\", this.onMouseUp, {\r\n            passive: true\r\n        });\r\n\r\n        window.addEventListener(\"touchstart\", this.onTouchStart, false);\r\n        window.addEventListener(\"touchmove\", this.onTouchMove, false);\r\n        window.addEventListener(\"touchend\", this.onTouchEnd, false);\r\n        window.addEventListener(\"touchcancel\", this.onTouchCancel, false);\r\n\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        window.addEventListener(\"orientationchange\", this.onResize);\r\n\r\n        gsap.config({\r\n            // force3D: false\r\n        });\r\n        // gsap.ticker.fps(60);\r\n        gsap.ticker.add(this.tick);\r\n        //gsap.ticker.fps(60);\r\n        // this.tick();\r\n    }\r\n\r\n    onMouseDown = e => {\r\n        this.emitter.emit(events.MOUSE_DOWN, e);\r\n    };\r\n\r\n    onMouseMove = e => {\r\n        this.emitter.emit(events.MOUSE_MOVE, e);\r\n    };\r\n\r\n    onMouseUp = () => {\r\n        this.emitter.emit(events.MOUSE_UP);\r\n    };\r\n\r\n    onTouchStart = e => {\r\n        this.emitter.emit(events.TOUCH_START, e);\r\n    }\r\n\r\n    onTouchMove = e => {\r\n        this.emitter.emit(events.TOUCH_MOVE, e);\r\n    }\r\n\r\n    onTouchEnd = () => {\r\n        this.emitter.emit(events.TOUCH_END);\r\n    }\r\n\r\n    onTouchCancel = () => {\r\n        this.emitter.emit(events.TOUCH_CANCEL);\r\n    }\r\n\r\n    tick = (time, deltaTime, frame) => {\r\n        this.emitter.emit(events.UPDATE, {\r\n            deltaTime\r\n        });\r\n    };\r\n\r\n    onResize = () => {\r\n        this.emitter.emit(\r\n            events.RESIZE, {\r\n                passive: true\r\n            },\r\n            false\r\n        );\r\n    };\r\n}\r\n\r\nconst eventEmitter = new EventEmitter();\r\nexport default eventEmitter;","import Highway from \"@dogstudio/highway\";\r\n\r\nimport eventEmitter from '../EventEmitter';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events';\r\n\r\nexport default class View extends Highway.Renderer {\r\n    \r\n    onEnter() {\r\n        this.el = this.wrap.lastElementChild;\r\n    }\r\n\r\n    onLeave() {}\r\n\r\n    onEnterCompleted() {\r\n        // document.readyState === 'complete'\r\n        // ? this.initOnComplete()\r\n        // : listener(window, 'a', 'load', () =>  {\r\n            \r\n        //     console.log('loaded');\r\n        \r\n        //     this.initOnComplete()\r\n        \r\n        // })\r\n    }\r\n\r\n    onLeaveCompleted() {}\r\n\r\n    initDomGL({view, params}) {\r\n        \r\n        emitter.emit(events.INIT_DOMGL, {view, params});\r\n\r\n    }\r\n}","import projectVideos from './video/*.mp4'\r\nimport img from './img/*.png';\r\n\r\nexport const ProjectContent = [\r\n\r\n    {\r\n        title: 'Signature Faces',\r\n        type: 'Client project',\r\n        description: 'Virtual makeup line for LOreal Paris in collboration with Virtue Worldwide',\r\n        tech: 'Lens Studio / Spark AR',\r\n        year: 2020,\r\n        role: 'Creative Technologist / Filter Dev / Shader Dev',\r\n        link: 'https://www.loreal-paris.co.uk/signature-faces',\r\n        media: {\r\n            videoSrc: projectVideos.loreal256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Fabric',\r\n        type: 'Experiment',\r\n        description: 'Interactive cloth simulation',\r\n        tech: 'WebGL(OGL) / GPGPU',\r\n        year: 2020,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/Fabric/',\r\n        media: {\r\n            videoSrc: projectVideos.fabric256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 1.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Memory Phase',\r\n        type: 'Experiment',\r\n        description: 'Optical flow velocity applied to particles',\r\n        tech: 'WebGL(OGL) / Optical Flow / GPGPU',\r\n        year: 2020,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/MemoryPhase/',\r\n        media: {\r\n            videoSrc: projectVideos.memoryPhase512512,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Crashing Dawn',\r\n        type: 'Experiment',\r\n        description: 'Shaded particles',\r\n        tech: 'WebGL(THREE.js) / GPGPU',\r\n        year: 2020,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/CrashingDawn/',\r\n        media: {\r\n            videoSrc: projectVideos.crashingdawn256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 1.0\r\n        }\r\n\r\n    },\r\n\r\n    {\r\n        title: 'Spiritual Beings',\r\n        type: 'Experiment',\r\n        description: 'Beings flocking in a peaceful purgatory',\r\n        tech: 'WebGL(THREE.js) / GLSL / GPGPU',\r\n        year: 2019,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/SpiritualBeings/',\r\n        media: {\r\n            videoSrc: projectVideos.spiritualbeings256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 1.0\r\n        }\r\n    },\r\n\r\n    {\r\n        title: 'Let\\'s Get Physical',\r\n        type: 'Client Project',\r\n        description: 'Installation project for Frame awards Amsterdam',\r\n        tech: 'Unity3D / Custom GPGPU ribbons / In-house Blob Detection by Yipp Interactive',\r\n        year: 2019,\r\n        role: 'Developer',\r\n        link: 'https://yipp.nl/projects/61-lets_get_physical/',\r\n        media: {\r\n            videoSrc: projectVideos.letsgetphysical256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n    },\r\n    {\r\n        title: 'SKEN',\r\n        type: 'Experiment',\r\n        description: 'Flocking Ribbons',\r\n        tech: 'WebGL(THREE.js) / GLSL / GPGPU',\r\n        year: 2018,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/SKEN/',\r\n        media: {\r\n            videoSrc: projectVideos.sken256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n    },\r\n    {\r\n        title: 'Need a hand?',\r\n        type: 'Experiment',\r\n        description: 'Interactive, displacing mesh',\r\n        tech: 'WebGL(THREE.js) / GLSL / Computed triangles from mesh data',\r\n        year: 2018,\r\n        role: null,\r\n        link: 'https://douglilliequist.github.io/needAHand/',\r\n        media: {\r\n            videoSrc: projectVideos.needahand256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 1.0\r\n        }\r\n    },\r\n    {\r\n        title: 'Good Night Sweet Heart',\r\n        type: 'Hyper Island Project',\r\n        description: 'Art Puzzle Installation',\r\n        tech: 'Arduino / Processing / Resolume',\r\n        year: 2015,\r\n        role: 'Developer, Designer',\r\n        link: '',\r\n        media: {\r\n            videoSrc: projectVideos.gnsw256256,\r\n            imageSrc: img.selfportrait512512,\r\n            brightVal: 0.0\r\n        }\r\n    },\r\n\r\n]","const globals = {\r\n\r\n    CURRENT_VIEW: \"work\",\r\n\r\n    HOVERING_LINK: false,\r\n    CONTENT_LOADED: false,\r\n    HOVERING_NAVLINK: false,\r\n\r\n    VIEWING_PROJECT: false,\r\n    CURRENT_PROJECT_INDEX: 0,\r\n    PREV_PROJECT_INDEX: 0\r\n    \r\n}\r\n\r\nexport default globals;","import eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events.js';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\n\r\n/**\r\n * \r\n * Accepts a dom element which will have easing / elasticity applied to it when hovering\r\n * and emits an event that tells when it's currently hovered and supplies it's current position\r\n * which can be used for custom cursor animations\r\n * \r\n */\r\n\r\nexport default class StickyComponent {\r\n\r\n    constructor({\r\n        domElement,\r\n        enable = false,\r\n        event = null,\r\n        includeHoverAnim = false,\r\n        defaultColor = \"#000000\"\r\n    }) {\r\n\r\n        this.el = domElement;\r\n        this.event = event;\r\n\r\n        this.hovered = false;\r\n        this.inBounds = false;\r\n        this.onMobile = window.isMobile;\r\n        this.includeHoverAnim = includeHoverAnim;\r\n        this.defaultColor = defaultColor;\r\n\r\n        // if (enable) {\r\n        //     this.activate();\r\n        // }\r\n\r\n    }\r\n\r\n    initForceParams() {\r\n\r\n        this.initPos = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n\r\n        this.currentPos = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n\r\n        this.targetPos = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n\r\n        this.offsetPos = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n\r\n        this.inputPos = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n\r\n        this.ease = 0.125;\r\n\r\n    }\r\n\r\n    getInitPos() {\r\n\r\n        this.w = window.innerWidth;\r\n        this.h = window.innerHeight;\r\n\r\n        this.wK = 1.0 / this.w;\r\n        this.hK = 1.0 / this.h;\r\n\r\n        console.log(this.w);\r\n        console.log(this.h);\r\n\r\n        this.rect = this.el.getBoundingClientRect();\r\n\r\n        const {\r\n            top,\r\n            left,\r\n            width,\r\n            height\r\n        } = this.rect;\r\n\r\n        this.initPos = {\r\n\r\n            x: left + width * 0.5,\r\n            y: top + height * 0.5\r\n\r\n        }\r\n\r\n        this.currentPos = {\r\n            ...this.initPos\r\n        };\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.MOUSE_MOVE, this.onMouseMove);\r\n        emitter.on(events.UPDATE, this.update);\r\n        emitter.on(events.RESIZE, this.onResize);\r\n\r\n        this.el.addEventListener('mousedown', this.onClick);\r\n        this.el.addEventListener('mouseenter', this.applyHoverState);\r\n        this.el.addEventListener('mouseleave', this.removeHoverState);\r\n\r\n    }\r\n\r\n    removeEvents() {\r\n\r\n        emitter.off(events.MOUSE_MOVE, this.onMouseMove);\r\n        emitter.off(events.UPDATE, this.update);\r\n        emitter.off(events.RESIZE, this.onResize);\r\n\r\n        this.el.removeEventListener('mousedown', this.onClick);\r\n        this.el.removeEventListener('mouseenter', this.applyHoverState);\r\n        this.el.removeEventListener('mouseleave', this.removeHoverState);\r\n\r\n    }\r\n\r\n    onMouseMove = event => {\r\n\r\n        this.inputPos.x = event.clientX;\r\n        this.inputPos.y = event.clientY;\r\n\r\n    }\r\n\r\n    //standard ease\r\n    updateForce() {\r\n\r\n        const {\r\n            targetPos,\r\n            hovered,\r\n            inputPos,\r\n            initPos,\r\n        } = this;\r\n\r\n        targetPos.x = hovered ? inputPos.x : initPos.x;\r\n        targetPos.y = hovered ? inputPos.y : initPos.y;\r\n\r\n        this.currentPos.x += (targetPos.x - this.currentPos.x) * 0.125;\r\n        this.currentPos.y += (targetPos.y - this.currentPos.y) * 0.125;\r\n\r\n        //counter-intuitive, but working approach:\r\n        //Given that the origin is at the top-left corner (0, 0),\r\n        //when using say, a mouse's position: the pixel position can be assigned to translate3d as a direct position of a given dom element.\r\n        //With this knowledge in mind, by subtracting with the dom elements initial position\r\n        //we move the element to the origin, thus any additional offsets we apply will be a vector in which we use\r\n        //for the translation\r\n        let translateX = (this.currentPos.x - initPos.x) * 0.25;\r\n        let translateY = (this.currentPos.y - initPos.y) * 0.25;\r\n        this.el.style.transform = `translate3d(${translateX}px, ${translateY}px, 0px)`;\r\n\r\n        //final offseted position for component, used as target for i.e cursors\r\n        this.offsetPos.x = initPos.x + translateX;\r\n        this.offsetPos.y = initPos.y + translateY;\r\n\r\n    }\r\n\r\n    update = () => {\r\n\r\n        if (this.onMobile) return;\r\n        this.updateForce();\r\n        if (this.enable === false) return;\r\n        if (this.hovered) emitter.emit(events.UPDATE_STICKY_TARGET, {\r\n            target: this.offsetPos,\r\n            rect: this.rect\r\n        });\r\n\r\n    }\r\n\r\n    applyHoverState = () => {\r\n\r\n        if (this.enable === false) return;\r\n        globals.HOVERING_LINK = this.hovered = true;\r\n        // document.body.classList.add('pointer');\r\n        emitter.emit(events.HOVERING_STICKY_COMPONENT, {\r\n            rect: this.rect\r\n        });\r\n        this.el.classList.add('sticky-hovered');\r\n\r\n    }\r\n\r\n    removeHoverState = () => {\r\n\r\n        if (this.enable === false) return;\r\n        // document.body.classList.remove('pointer');\r\n        globals.HOVERING_LINK = this.hovered = false;\r\n        emitter.emit(events.LEAVING_STICKY_COMPONENT);\r\n        this.el.classList.remove('sticky-hovered');\r\n\r\n    }\r\n\r\n    onClick = () => {\r\n\r\n        // emitter.emit(events.LINK_SELECTED);\r\n        // if (this.hovered) this.removeHoverState();\r\n        if (this.event !== null) this.event();\r\n\r\n    }\r\n\r\n    activate = () => {\r\n\r\n        this.enable = true;\r\n        this.el.classList.remove('deactivated');\r\n        this.el.getBoundingClientRect();\r\n        this.initForceParams();\r\n        this.getInitPos();\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    deActivate = () => {\r\n\r\n        if (this.hovered) this.removeHoverState();\r\n        this.enable = false;\r\n        this.hovered = false;\r\n        this.el.classList.add('deactivated');\r\n        this.removeEvents();\r\n\r\n    }\r\n\r\n    onResize = () => {\r\n\r\n        this.w = window.innerWidth;\r\n        this.h = window.innerHeight;\r\n        // this.rect = this.el.getBoundingClientRect();\r\n        this.getInitPos();\r\n\r\n    }\r\n\r\n}","/*!\r\n * strings: 3.5.1\r\n * https://greensock.com\r\n *\r\n * Copyright 2008-2020, GreenSock. All rights reserved.\r\n * Subject to the terms at https://greensock.com/standard-license or for\r\n * Club GreenSock members, the agreement issued with that membership.\r\n * @author: Jack Doyle, jack@greensock.com\r\n*/\r\n\r\n/* eslint-disable */\r\nvar _trimExp = /(^\\s+|\\s+$)/g;\r\nexport var emojiExp = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF](?:[\\u200D\\uFE0F][\\uD800-\\uDBFF][\\uDC00-\\uDFFF]){2,}|\\uD83D\\uDC69(?:\\u200D(?:(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC67|(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC66)|\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D(?:\\uD83D\\uDC69\\u200D)?\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642]\\uFE0F|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC6F\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3C-\\uDD3E\\uDDD6-\\uDDDF])\\u200D[\\u2640\\u2642]\\uFE0F|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83C\\uDDE9(?:\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF])|\\uD83C\\uDDF7(?:\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC])|\\uD83C\\uDDE8(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF5\\uDDF7\\uDDFA-\\uDDFF])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uFE0F\\u200D[\\u2640\\u2642]|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2640\\u2642])\\uFE0F|(?:\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8|\\uD83D\\uDC69(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2695\\u2696\\u2708]|\\uD83D\\uDC69\\u200D[\\u2695\\u2696\\u2708]|\\uD83D\\uDC68(?:(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D[\\u2695\\u2696\\u2708]|\\u200D[\\u2695\\u2696\\u2708]))\\uFE0F|\\uD83C\\uDDF2(?:\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF])|\\uD83D\\uDC69\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D(?:\\uD83D[\\uDC68\\uDC69])|\\uD83D[\\uDC68\\uDC69]))|\\uD83C\\uDDF1(?:\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE])|\\uD83C\\uDDEF(?:\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5])|\\uD83C\\uDDED(?:\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA])|\\uD83C\\uDDEB(?:\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7])|[#\\*0-9]\\uFE0F\\u20E3|\\uD83C\\uDDE7(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDE6(?:\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF])|\\uD83C\\uDDFF(?:\\uD83C[\\uDDE6\\uDDF2\\uDDFC])|\\uD83C\\uDDF5(?:\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE])|\\uD83C\\uDDFB(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA])|\\uD83C\\uDDF3(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF])|\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62(?:\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73|\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67)\\uDB40\\uDC7F|\\uD83D\\uDC68(?:\\u200D(?:\\u2764\\uFE0F\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83D\\uDC68|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC67\\u200D(?:\\uD83D[\\uDC66\\uDC67])|\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92])|(?:\\uD83C[\\uDFFB-\\uDFFF])\\u200D(?:\\uD83C[\\uDF3E\\uDF73\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]))|\\uD83C\\uDDF8(?:\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF])|\\uD83C\\uDDF0(?:\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF])|\\uD83C\\uDDFE(?:\\uD83C[\\uDDEA\\uDDF9])|\\uD83C\\uDDEE(?:\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9])|\\uD83C\\uDDF9(?:\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF])|\\uD83C\\uDDEC(?:\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE])|\\uD83C\\uDDFA(?:\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF])|\\uD83C\\uDDEA(?:\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA])|\\uD83C\\uDDFC(?:\\uD83C[\\uDDEB\\uDDF8])|(?:\\u26F9|\\uD83C[\\uDFCB\\uDFCC]|\\uD83D\\uDD75)(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:\\uD83C[\\uDFC3\\uDFC4\\uDFCA]|\\uD83D[\\uDC6E\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4-\\uDEB6]|\\uD83E[\\uDD26\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDD6-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2\\uDFC7]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC70\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDCAA\\uDD74\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC]|\\uD83E[\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD30-\\uDD36\\uDDD1-\\uDDD5])(?:\\uD83C[\\uDFFB-\\uDFFF])|\\uD83D\\uDC68(?:\\u200D(?:(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC67|(?:(?:\\uD83D[\\uDC68\\uDC69])\\u200D)?\\uD83D\\uDC66)|\\uD83C[\\uDFFB-\\uDFFF])|(?:[\\u261D\\u26F9\\u270A-\\u270D]|\\uD83C[\\uDF85\\uDFC2-\\uDFC4\\uDFC7\\uDFCA-\\uDFCC]|\\uD83D[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66-\\uDC69\\uDC6E\\uDC70-\\uDC78\\uDC7C\\uDC81-\\uDC83\\uDC85-\\uDC87\\uDCAA\\uDD74\\uDD75\\uDD7A\\uDD90\\uDD95\\uDD96\\uDE45-\\uDE47\\uDE4B-\\uDE4F\\uDEA3\\uDEB4-\\uDEB6\\uDEC0\\uDECC]|\\uD83E[\\uDD18-\\uDD1C\\uDD1E\\uDD1F\\uDD26\\uDD30-\\uDD39\\uDD3D\\uDD3E\\uDDD1-\\uDDDD])(?:\\uD83C[\\uDFFB-\\uDFFF])?|(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDEEB\\uDEEC\\uDEF4-\\uDEF8]|\\uD83E[\\uDD10-\\uDD3A\\uDD3C-\\uDD3E\\uDD40-\\uDD45\\uDD47-\\uDD4C\\uDD50-\\uDD6B\\uDD80-\\uDD97\\uDDC0\\uDDD0-\\uDDE6])|(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDEE0-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEF8]|\\uD83E[\\uDD10-\\uDD3A\\uDD3C-\\uDD3E\\uDD40-\\uDD45\\uDD47-\\uDD4C\\uDD50-\\uDD6B\\uDD80-\\uDD97\\uDDC0\\uDDD0-\\uDDE6])\\uFE0F)/;\r\nexport function getText(e) {\r\n  var type = e.nodeType,\r\n      result = \"\";\r\n\r\n  if (type === 1 || type === 9 || type === 11) {\r\n    if (typeof e.textContent === \"string\") {\r\n      return e.textContent;\r\n    } else {\r\n      for (e = e.firstChild; e; e = e.nextSibling) {\r\n        result += getText(e);\r\n      }\r\n    }\r\n  } else if (type === 3 || type === 4) {\r\n    return e.nodeValue;\r\n  }\r\n\r\n  return result;\r\n}\r\nexport function splitInnerHTML(element, delimiter, trim) {\r\n  var node = element.firstChild,\r\n      result = [];\r\n\r\n  while (node) {\r\n    if (node.nodeType === 3) {\r\n      result.push.apply(result, emojiSafeSplit((node.nodeValue + \"\").replace(/^\\n+/g, \"\").replace(/\\s+/g, \" \"), delimiter, trim));\r\n    } else if ((node.nodeName + \"\").toLowerCase() === \"br\") {\r\n      result[result.length - 1] += \"<br>\";\r\n    } else {\r\n      result.push(node.outerHTML);\r\n    }\r\n\r\n    node = node.nextSibling;\r\n  }\r\n\r\n  return result;\r\n}\r\n/*\r\n//smaller kb version that only handles the simpler emoji's, which is often perfectly adequate.\r\n\r\nlet _emoji = \"[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2694-\\u2697]|\\uD83E[\\uDD10-\\uDD5D]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]\",\r\n\t_emojiExp = new RegExp(_emoji),\r\n\t_emojiAndCharsExp = new RegExp(_emoji + \"|.\", \"g\"),\r\n\t_emojiSafeSplit = (text, delimiter, trim) => {\r\n\t\tif (trim) {\r\n\t\t\ttext = text.replace(_trimExp, \"\");\r\n\t\t}\r\n\t\treturn ((delimiter === \"\" || !delimiter) && _emojiExp.test(text)) ? text.match(_emojiAndCharsExp) : text.split(delimiter || \"\");\r\n\t};\r\n */\r\n\r\nexport function emojiSafeSplit(text, delimiter, trim) {\r\n  text += \"\"; // make sure it's cast as a string. Someone may pass in a number.\r\n\r\n  if (trim) {\r\n    text = text.replace(_trimExp, \"\");\r\n  }\r\n\r\n  if (delimiter && delimiter !== \"\") {\r\n    return text.replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").split(delimiter);\r\n  }\r\n\r\n  var result = [],\r\n      l = text.length,\r\n      i = 0,\r\n      j,\r\n      character;\r\n\r\n  for (; i < l; i++) {\r\n    character = text.charAt(i);\r\n\r\n    if (character.charCodeAt(0) >= 0xD800 && character.charCodeAt(0) <= 0xDBFF || text.charCodeAt(i + 1) >= 0xFE00 && text.charCodeAt(i + 1) <= 0xFE0F) {\r\n      //special emoji characters use 2 or 4 unicode characters that we must keep together.\r\n      j = ((text.substr(i, 12).split(emojiExp) || [])[1] || \"\").length || 2;\r\n      character = text.substr(i, j);\r\n      result.emoji = 1;\r\n      i += j - 1;\r\n    }\r\n\r\n    result.push(character === \">\" ? \"&gt;\" : character === \"<\" ? \"&lt;\" : character);\r\n  }\r\n\r\n  return result;\r\n}","/*!\r\n * SplitText: 3.5.1\r\n * https://greensock.com\r\n *\r\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\r\n * Subject to the terms at https://greensock.com/standard-license or for\r\n * Club GreenSock members, the agreement issued with that membership.\r\n * @author: Jack Doyle, jack@greensock.com\r\n*/\r\n\r\n/* eslint-disable */\r\nimport { emojiExp, getText } from \"./utils/strings.js\";\r\n\r\nvar _doc,\r\n    _win,\r\n    _coreInitted,\r\n    _stripExp = /(?:\\r|\\n|\\t\\t)/g,\r\n    //find carriage returns, new line feeds and double-tabs.\r\n_multipleSpacesExp = /(?:\\s\\s+)/g,\r\n    _initCore = function _initCore() {\r\n  _doc = document;\r\n  _win = window;\r\n  _coreInitted = 1;\r\n},\r\n    _bonusValidated = 1,\r\n    //<name>SplitText</name>\r\n_getComputedStyle = function _getComputedStyle(element) {\r\n  return _win.getComputedStyle(element);\r\n},\r\n    _isArray = Array.isArray,\r\n    _slice = [].slice,\r\n    _toArray = function _toArray(value, leaveStrings) {\r\n  //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\r\n  var type;\r\n  return _isArray(value) ? value : (type = typeof value) === \"string\" && !leaveStrings && value ? _slice.call(_doc.querySelectorAll(value), 0) : value && type === \"object\" && \"length\" in value ? _slice.call(value, 0) : value ? [value] : [];\r\n},\r\n    _isAbsolute = function _isAbsolute(vars) {\r\n  return vars.position === \"absolute\" || vars.absolute === true;\r\n},\r\n    //some characters are combining marks (think diacritics/accents in European languages) which involve 2 or 4 characters that combine in the browser to form a single character. Pass in the remaining text and an array of the special characters to search for and if the text starts with one of those special characters, it'll spit back the number of characters to retain (often 2 or 4). Used in the specialChars features that was introduced in 0.6.0.\r\n_findSpecialChars = function _findSpecialChars(text, chars) {\r\n  var i = chars.length,\r\n      s;\r\n\r\n  while (--i > -1) {\r\n    s = chars[i];\r\n\r\n    if (text.substr(0, s.length) === s) {\r\n      return s.length;\r\n    }\r\n  }\r\n},\r\n    _divStart = \" style='position:relative;display:inline-block;'\",\r\n    _cssClassFunc = function _cssClassFunc(cssClass, tag) {\r\n  if (cssClass === void 0) {\r\n    cssClass = \"\";\r\n  }\r\n\r\n  var iterate = ~cssClass.indexOf(\"++\"),\r\n      num = 1;\r\n\r\n  if (iterate) {\r\n    cssClass = cssClass.split(\"++\").join(\"\");\r\n  }\r\n\r\n  return function () {\r\n    return \"<\" + tag + _divStart + (cssClass ? \" class='\" + cssClass + (iterate ? num++ : \"\") + \"'>\" : \">\");\r\n  };\r\n},\r\n    _swapText = function _swapText(element, oldText, newText) {\r\n  var type = element.nodeType;\r\n\r\n  if (type === 1 || type === 9 || type === 11) {\r\n    for (element = element.firstChild; element; element = element.nextSibling) {\r\n      _swapText(element, oldText, newText);\r\n    }\r\n  } else if (type === 3 || type === 4) {\r\n    element.nodeValue = element.nodeValue.split(oldText).join(newText);\r\n  }\r\n},\r\n    _pushReversed = function _pushReversed(a, merge) {\r\n  var i = merge.length;\r\n\r\n  while (--i > -1) {\r\n    a.push(merge[i]);\r\n  }\r\n},\r\n    _isBeforeWordDelimiter = function _isBeforeWordDelimiter(e, root, wordDelimiter) {\r\n  var next;\r\n\r\n  while (e && e !== root) {\r\n    next = e._next || e.nextSibling;\r\n\r\n    if (next) {\r\n      return next.textContent.charAt(0) === wordDelimiter;\r\n    }\r\n\r\n    e = e.parentNode || e._parent;\r\n  }\r\n},\r\n    _deWordify = function _deWordify(e) {\r\n  var children = _toArray(e.childNodes),\r\n      l = children.length,\r\n      i,\r\n      child;\r\n\r\n  for (i = 0; i < l; i++) {\r\n    child = children[i];\r\n\r\n    if (child._isSplit) {\r\n      _deWordify(child);\r\n    } else {\r\n      if (i && child.previousSibling.nodeType === 3) {\r\n        child.previousSibling.nodeValue += child.nodeType === 3 ? child.nodeValue : child.firstChild.nodeValue;\r\n      } else if (child.nodeType !== 3) {\r\n        e.insertBefore(child.firstChild, child);\r\n      }\r\n\r\n      e.removeChild(child);\r\n    }\r\n  }\r\n},\r\n    _getStyleAsNumber = function _getStyleAsNumber(name, computedStyle) {\r\n  return parseFloat(computedStyle[name]) || 0;\r\n},\r\n    _setPositionsAfterSplit = function _setPositionsAfterSplit(element, vars, allChars, allWords, allLines, origWidth, origHeight) {\r\n  var cs = _getComputedStyle(element),\r\n      paddingLeft = _getStyleAsNumber(\"paddingLeft\", cs),\r\n      lineOffsetY = -999,\r\n      borderTopAndBottom = _getStyleAsNumber(\"borderBottomWidth\", cs) + _getStyleAsNumber(\"borderTopWidth\", cs),\r\n      borderLeftAndRight = _getStyleAsNumber(\"borderLeftWidth\", cs) + _getStyleAsNumber(\"borderRightWidth\", cs),\r\n      padTopAndBottom = _getStyleAsNumber(\"paddingTop\", cs) + _getStyleAsNumber(\"paddingBottom\", cs),\r\n      padLeftAndRight = _getStyleAsNumber(\"paddingLeft\", cs) + _getStyleAsNumber(\"paddingRight\", cs),\r\n      lineThreshold = _getStyleAsNumber(\"fontSize\", cs) * (vars.lineThreshold || 0.2),\r\n      textAlign = cs.textAlign,\r\n      charArray = [],\r\n      wordArray = [],\r\n      lineArray = [],\r\n      wordDelimiter = vars.wordDelimiter || \" \",\r\n      tag = vars.tag ? vars.tag : vars.span ? \"span\" : \"div\",\r\n      types = vars.type || vars.split || \"chars,words,lines\",\r\n      lines = allLines && ~types.indexOf(\"lines\") ? [] : null,\r\n      words = ~types.indexOf(\"words\"),\r\n      chars = ~types.indexOf(\"chars\"),\r\n      absolute = _isAbsolute(vars),\r\n      linesClass = vars.linesClass,\r\n      iterateLine = ~(linesClass || \"\").indexOf(\"++\"),\r\n      spaceNodesToRemove = [],\r\n      i,\r\n      j,\r\n      l,\r\n      node,\r\n      nodes,\r\n      isChild,\r\n      curLine,\r\n      addWordSpaces,\r\n      style,\r\n      lineNode,\r\n      lineWidth,\r\n      offset;\r\n\r\n  if (iterateLine) {\r\n    linesClass = linesClass.split(\"++\").join(\"\");\r\n  } //copy all the descendant nodes into an array (we can't use a regular nodeList because it's live and we may need to renest things)\r\n\r\n\r\n  j = element.getElementsByTagName(\"*\");\r\n  l = j.length;\r\n  nodes = [];\r\n\r\n  for (i = 0; i < l; i++) {\r\n    nodes[i] = j[i];\r\n  } //for absolute positioning, we need to record the x/y offsets and width/height for every <div>. And even if we're not positioning things absolutely, in order to accommodate lines, we must figure out where the y offset changes so that we can sense where the lines break, and we populate the lines array.\r\n\r\n\r\n  if (lines || absolute) {\r\n    for (i = 0; i < l; i++) {\r\n      node = nodes[i];\r\n      isChild = node.parentNode === element;\r\n\r\n      if (isChild || absolute || chars && !words) {\r\n        offset = node.offsetTop;\r\n\r\n        if (lines && isChild && Math.abs(offset - lineOffsetY) > lineThreshold && (node.nodeName !== \"BR\" || i === 0)) {\r\n          //we found some rare occasions where a certain character like &#8209; could cause the offsetTop to be off by 1 pixel, so we build in a threshold.\r\n          curLine = [];\r\n          lines.push(curLine);\r\n          lineOffsetY = offset;\r\n        }\r\n\r\n        if (absolute) {\r\n          //record offset x and y, as well as width and height so that we can access them later for positioning. Grabbing them at once ensures we don't trigger a browser paint & we maximize performance.\r\n          node._x = node.offsetLeft;\r\n          node._y = offset;\r\n          node._w = node.offsetWidth;\r\n          node._h = node.offsetHeight;\r\n        }\r\n\r\n        if (lines) {\r\n          if (node._isSplit && isChild || !chars && isChild || words && isChild || !words && node.parentNode.parentNode === element && !node.parentNode._isSplit) {\r\n            curLine.push(node);\r\n            node._x -= paddingLeft;\r\n\r\n            if (_isBeforeWordDelimiter(node, element, wordDelimiter)) {\r\n              node._wordEnd = true;\r\n            }\r\n          }\r\n\r\n          if (node.nodeName === \"BR\" && (node.nextSibling && node.nextSibling.nodeName === \"BR\" || i === 0)) {\r\n            //two consecutive <br> tags signify a new [empty] line. Also, if the entire block of content STARTS with a <br>, add a line.\r\n            lines.push([]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  for (i = 0; i < l; i++) {\r\n    node = nodes[i];\r\n    isChild = node.parentNode === element;\r\n\r\n    if (node.nodeName === \"BR\") {\r\n      if (lines || absolute) {\r\n        node.parentNode && node.parentNode.removeChild(node);\r\n        nodes.splice(i--, 1);\r\n        l--;\r\n      } else if (!words) {\r\n        element.appendChild(node);\r\n      }\r\n\r\n      continue;\r\n    }\r\n\r\n    if (absolute) {\r\n      style = node.style;\r\n\r\n      if (!words && !isChild) {\r\n        node._x += node.parentNode._x;\r\n        node._y += node.parentNode._y;\r\n      }\r\n\r\n      style.left = node._x + \"px\";\r\n      style.top = node._y + \"px\";\r\n      style.position = \"absolute\";\r\n      style.display = \"block\"; //if we don't set the width/height, things collapse in older versions of IE and the origin for transforms is thrown off in all browsers.\r\n\r\n      style.width = node._w + 1 + \"px\"; //IE is 1px short sometimes. Avoid wrapping\r\n\r\n      style.height = node._h + \"px\";\r\n    }\r\n\r\n    if (!words && chars) {\r\n      //we always start out wrapping words in their own <div> so that line breaks happen correctly, but here we'll remove those <div> tags if necessary and renest the characters directly into the element rather than inside the word <div>\r\n      if (node._isSplit) {\r\n        node._next = node.nextSibling;\r\n        node.parentNode.appendChild(node); //put it at the end to keep the order correct.\r\n      } else if (node.parentNode._isSplit) {\r\n        node._parent = node.parentNode;\r\n\r\n        if (!node.previousSibling && node.firstChild) {\r\n          node.firstChild._isFirst = true;\r\n        }\r\n\r\n        if (node.nextSibling && node.nextSibling.textContent === \" \" && !node.nextSibling.nextSibling) {\r\n          //if the last node inside a nested element is just a space (like T<span>nested </span>), remove it otherwise it'll get placed in the wrong order. Don't remove it right away, though, because we need to sense when words/characters are before a space like _isBeforeWordDelimiter(). Removing it now would make that a false negative.\r\n          spaceNodesToRemove.push(node.nextSibling);\r\n        }\r\n\r\n        node._next = node.nextSibling && node.nextSibling._isFirst ? null : node.nextSibling;\r\n        node.parentNode.removeChild(node);\r\n        nodes.splice(i--, 1);\r\n        l--;\r\n      } else if (!isChild) {\r\n        offset = !node.nextSibling && _isBeforeWordDelimiter(node.parentNode, element, wordDelimiter); //if this is the last letter in the word (and we're not breaking by lines and not positioning things absolutely), we need to add a space afterwards so that the characters don't just mash together\r\n\r\n        if (node.parentNode._parent) {\r\n          node.parentNode._parent.appendChild(node);\r\n        }\r\n\r\n        offset && node.parentNode.appendChild(_doc.createTextNode(\" \"));\r\n\r\n        if (tag === \"span\") {\r\n          node.style.display = \"inline\"; //so that word breaks are honored properly.\r\n        }\r\n\r\n        charArray.push(node);\r\n      }\r\n    } else if (node.parentNode._isSplit && !node._isSplit && node.innerHTML !== \"\") {\r\n      wordArray.push(node);\r\n    } else if (chars && !node._isSplit) {\r\n      if (tag === \"span\") {\r\n        node.style.display = \"inline\";\r\n      }\r\n\r\n      charArray.push(node);\r\n    }\r\n  }\r\n\r\n  i = spaceNodesToRemove.length;\r\n\r\n  while (--i > -1) {\r\n    spaceNodesToRemove[i].parentNode.removeChild(spaceNodesToRemove[i]);\r\n  }\r\n\r\n  if (lines) {\r\n    //the next 7 lines just give us the line width in the most reliable way and figure out the left offset (if position isn't relative or absolute). We must set the width along with text-align to ensure everything works properly for various alignments.\r\n    if (absolute) {\r\n      lineNode = _doc.createElement(tag);\r\n      element.appendChild(lineNode);\r\n      lineWidth = lineNode.offsetWidth + \"px\";\r\n      offset = lineNode.offsetParent === element ? 0 : element.offsetLeft;\r\n      element.removeChild(lineNode);\r\n    }\r\n\r\n    style = element.style.cssText;\r\n    element.style.cssText = \"display:none;\"; //to improve performance, set display:none on the element so that the browser doesn't have to worry about reflowing or rendering while we're renesting things. We'll revert the cssText later.\r\n    //we can't use element.innerHTML = \"\" because that causes IE to literally delete all the nodes and their content even though we've stored them in an array! So we must loop through the children and remove them.\r\n\r\n    while (element.firstChild) {\r\n      element.removeChild(element.firstChild);\r\n    }\r\n\r\n    addWordSpaces = wordDelimiter === \" \" && (!absolute || !words && !chars);\r\n\r\n    for (i = 0; i < lines.length; i++) {\r\n      curLine = lines[i];\r\n      lineNode = _doc.createElement(tag);\r\n      lineNode.style.cssText = \"display:block;text-align:\" + textAlign + \";position:\" + (absolute ? \"absolute;\" : \"relative;\");\r\n\r\n      if (linesClass) {\r\n        lineNode.className = linesClass + (iterateLine ? i + 1 : \"\");\r\n      }\r\n\r\n      lineArray.push(lineNode);\r\n      l = curLine.length;\r\n\r\n      for (j = 0; j < l; j++) {\r\n        if (curLine[j].nodeName !== \"BR\") {\r\n          node = curLine[j];\r\n          lineNode.appendChild(node);\r\n          addWordSpaces && node._wordEnd && lineNode.appendChild(_doc.createTextNode(\" \"));\r\n\r\n          if (absolute) {\r\n            if (j === 0) {\r\n              lineNode.style.top = node._y + \"px\";\r\n              lineNode.style.left = paddingLeft + offset + \"px\";\r\n            }\r\n\r\n            node.style.top = \"0px\";\r\n\r\n            if (offset) {\r\n              node.style.left = node._x - offset + \"px\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (l === 0) {\r\n        //if there are no nodes in the line (typically meaning there were two consecutive <br> tags, just add a non-breaking space so that things display properly.\r\n        lineNode.innerHTML = \"&nbsp;\";\r\n      } else if (!words && !chars) {\r\n        _deWordify(lineNode);\r\n\r\n        _swapText(lineNode, String.fromCharCode(160), \" \");\r\n      }\r\n\r\n      if (absolute) {\r\n        lineNode.style.width = lineWidth;\r\n        lineNode.style.height = node._h + \"px\";\r\n      }\r\n\r\n      element.appendChild(lineNode);\r\n    }\r\n\r\n    element.style.cssText = style;\r\n  } //if everything shifts to being position:absolute, the container can collapse in terms of height or width, so fix that here.\r\n\r\n\r\n  if (absolute) {\r\n    if (origHeight > element.clientHeight) {\r\n      element.style.height = origHeight - padTopAndBottom + \"px\";\r\n\r\n      if (element.clientHeight < origHeight) {\r\n        //IE8 and earlier use a different box model - we must include padding and borders\r\n        element.style.height = origHeight + borderTopAndBottom + \"px\";\r\n      }\r\n    }\r\n\r\n    if (origWidth > element.clientWidth) {\r\n      element.style.width = origWidth - padLeftAndRight + \"px\";\r\n\r\n      if (element.clientWidth < origWidth) {\r\n        //IE8 and earlier use a different box model - we must include padding and borders\r\n        element.style.width = origWidth + borderLeftAndRight + \"px\";\r\n      }\r\n    }\r\n  }\r\n\r\n  _pushReversed(allChars, charArray);\r\n\r\n  if (words) {\r\n    _pushReversed(allWords, wordArray);\r\n  }\r\n\r\n  _pushReversed(allLines, lineArray);\r\n},\r\n    _splitRawText = function _splitRawText(element, vars, wordStart, charStart) {\r\n  var tag = vars.tag ? vars.tag : vars.span ? \"span\" : \"div\",\r\n      types = vars.type || vars.split || \"chars,words,lines\",\r\n      //words = (types.indexOf(\"words\") !== -1),\r\n  chars = ~types.indexOf(\"chars\"),\r\n      absolute = _isAbsolute(vars),\r\n      wordDelimiter = vars.wordDelimiter || \" \",\r\n      space = wordDelimiter !== \" \" ? \"\" : absolute ? \"&#173; \" : \" \",\r\n      wordEnd = \"</\" + tag + \">\",\r\n      wordIsOpen = 1,\r\n      specialChars = vars.specialChars ? typeof vars.specialChars === \"function\" ? vars.specialChars : _findSpecialChars : null,\r\n      //specialChars can be an array or a function. For performance reasons, we always set this local \"specialChars\" to a function to which we pass the remaining text and whatever the original vars.specialChars was so that if it's an array, it works with the _findSpecialChars() function.\r\n  text,\r\n      splitText,\r\n      i,\r\n      j,\r\n      l,\r\n      character,\r\n      hasTagStart,\r\n      testResult,\r\n      container = _doc.createElement(\"div\"),\r\n      parent = element.parentNode;\r\n\r\n  parent.insertBefore(container, element);\r\n  container.textContent = element.nodeValue;\r\n  parent.removeChild(element);\r\n  element = container;\r\n  text = getText(element);\r\n  hasTagStart = text.indexOf(\"<\") !== -1;\r\n\r\n  if (vars.reduceWhiteSpace !== false) {\r\n    text = text.replace(_multipleSpacesExp, \" \").replace(_stripExp, \"\");\r\n  }\r\n\r\n  if (hasTagStart) {\r\n    text = text.split(\"<\").join(\"{{LT}}\"); //we can't leave \"<\" in the string, or when we set the innerHTML, it can be interpreted as a node\r\n  }\r\n\r\n  l = text.length;\r\n  splitText = (text.charAt(0) === \" \" ? space : \"\") + wordStart();\r\n\r\n  for (i = 0; i < l; i++) {\r\n    character = text.charAt(i);\r\n\r\n    if (specialChars && (testResult = specialChars(text.substr(i), vars.specialChars))) {\r\n      // look for any specialChars that were declared. Remember, they can be passed in like {specialChars:[\"मी\", \"पा\", \"है\"]} or a function could be defined instead. Either way, the function should return the number of characters that should be grouped together for this \"character\".\r\n      character = text.substr(i, testResult || 1);\r\n      splitText += chars && character !== \" \" ? charStart() + character + \"</\" + tag + \">\" : character;\r\n      i += testResult - 1;\r\n    } else if (character === wordDelimiter && text.charAt(i - 1) !== wordDelimiter && i) {\r\n      splitText += wordIsOpen ? wordEnd : \"\";\r\n      wordIsOpen = 0;\r\n\r\n      while (text.charAt(i + 1) === wordDelimiter) {\r\n        //skip over empty spaces (to avoid making them words)\r\n        splitText += space;\r\n        i++;\r\n      }\r\n\r\n      if (i === l - 1) {\r\n        splitText += space;\r\n      } else if (text.charAt(i + 1) !== \")\") {\r\n        splitText += space + wordStart();\r\n        wordIsOpen = 1;\r\n      }\r\n    } else if (character === \"{\" && text.substr(i, 6) === \"{{LT}}\") {\r\n      splitText += chars ? charStart() + \"{{LT}}\" + \"</\" + tag + \">\" : \"{{LT}}\";\r\n      i += 5;\r\n    } else if (character.charCodeAt(0) >= 0xD800 && character.charCodeAt(0) <= 0xDBFF || text.charCodeAt(i + 1) >= 0xFE00 && text.charCodeAt(i + 1) <= 0xFE0F) {\r\n      //special emoji characters use 2 or 4 unicode characters that we must keep together.\r\n      j = ((text.substr(i, 12).split(emojiExp) || [])[1] || \"\").length || 2;\r\n      splitText += chars && character !== \" \" ? charStart() + text.substr(i, j) + \"</\" + tag + \">\" : text.substr(i, j);\r\n      i += j - 1;\r\n    } else {\r\n      splitText += chars && character !== \" \" ? charStart() + character + \"</\" + tag + \">\" : character;\r\n    }\r\n  }\r\n\r\n  element.outerHTML = splitText + (wordIsOpen ? wordEnd : \"\");\r\n\r\n  if (hasTagStart) {\r\n    _swapText(parent, \"{{LT}}\", \"<\"); //note: don't perform this on \"element\" because that gets replaced with all new elements when we set element.outerHTML.\r\n\r\n  }\r\n},\r\n    _split = function _split(element, vars, wordStart, charStart) {\r\n  var children = _toArray(element.childNodes),\r\n      l = children.length,\r\n      absolute = _isAbsolute(vars),\r\n      i,\r\n      child;\r\n\r\n  if (element.nodeType !== 3 || l > 1) {\r\n    vars.absolute = false;\r\n\r\n    for (i = 0; i < l; i++) {\r\n      child = children[i];\r\n\r\n      if (child.nodeType !== 3 || /\\S+/.test(child.nodeValue)) {\r\n        if (absolute && child.nodeType !== 3 && _getComputedStyle(child).display === \"inline\") {\r\n          //if there's a child node that's display:inline, switch it to inline-block so that absolute positioning works properly (most browsers don't report offsetTop/offsetLeft properly inside a <span> for example)\r\n          child.style.display = \"inline-block\";\r\n          child.style.position = \"relative\";\r\n        }\r\n\r\n        child._isSplit = true;\r\n\r\n        _split(child, vars, wordStart, charStart); //don't split lines on child elements\r\n\r\n      }\r\n    }\r\n\r\n    vars.absolute = absolute;\r\n    element._isSplit = true;\r\n    return;\r\n  }\r\n\r\n  _splitRawText(element, vars, wordStart, charStart);\r\n};\r\n\r\nexport var SplitText = /*#__PURE__*/function () {\r\n  function SplitText(element, vars) {\r\n    _coreInitted || _initCore();\r\n    this.elements = _toArray(element);\r\n    this.chars = [];\r\n    this.words = [];\r\n    this.lines = [];\r\n    this._originals = [];\r\n    this.vars = vars || {};\r\n    _bonusValidated && this.split(vars);\r\n  }\r\n\r\n  var _proto = SplitText.prototype;\r\n\r\n  _proto.split = function split(vars) {\r\n    this.isSplit && this.revert();\r\n    this.vars = vars = vars || this.vars;\r\n    this._originals.length = this.chars.length = this.words.length = this.lines.length = 0;\r\n\r\n    var i = this.elements.length,\r\n        tag = vars.tag ? vars.tag : vars.span ? \"span\" : \"div\",\r\n        wordStart = _cssClassFunc(vars.wordsClass, tag),\r\n        charStart = _cssClassFunc(vars.charsClass, tag),\r\n        origHeight,\r\n        origWidth,\r\n        e; //we split in reversed order so that if/when we position:absolute elements, they don't affect the position of the ones after them in the document flow (shifting them up as they're taken out of the document flow).\r\n\r\n\r\n    while (--i > -1) {\r\n      e = this.elements[i];\r\n      this._originals[i] = e.innerHTML;\r\n      origHeight = e.clientHeight;\r\n      origWidth = e.clientWidth;\r\n\r\n      _split(e, vars, wordStart, charStart);\r\n\r\n      _setPositionsAfterSplit(e, vars, this.chars, this.words, this.lines, origWidth, origHeight);\r\n    }\r\n\r\n    this.chars.reverse();\r\n    this.words.reverse();\r\n    this.lines.reverse();\r\n    this.isSplit = true;\r\n    return this;\r\n  };\r\n\r\n  _proto.revert = function revert() {\r\n    var originals = this._originals;\r\n\r\n    if (!originals) {\r\n      throw \"revert() call wasn't scoped properly.\";\r\n    }\r\n\r\n    this.elements.forEach(function (e, i) {\r\n      return e.innerHTML = originals[i];\r\n    });\r\n    this.chars = [];\r\n    this.words = [];\r\n    this.lines = [];\r\n    this.isSplit = false;\r\n    return this;\r\n  };\r\n\r\n  SplitText.create = function create(element, vars) {\r\n    return new SplitText(element, vars);\r\n  };\r\n\r\n  return SplitText;\r\n}();\r\nSplitText.version = \"3.5.1\";\r\nexport { SplitText as default };","import events from '../../../utils/events.js';\r\nimport globals from '../../../utils/globals.js';\r\nimport eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\n\r\nimport StickyComponent from '../../StickyComponent.js';\r\n\r\nimport {gsap} from 'gsap';\r\nimport {SplitText} from '../../../vendors/gsap/SplitText.js';\r\ngsap.registerPlugin(SplitText);\r\n\r\n/**\r\n * \r\n * TODO:\r\n * \r\n * Import split text\r\n * import exit button SVG\r\n * \r\n * build animation functions\r\n * \r\n */\r\n\r\nexport class Project {\r\n\r\n    constructor(projectID,{\r\n        viewing = false,\r\n        title = '',\r\n        year = '',\r\n        type = '',\r\n        role = '',\r\n        description = '',\r\n        tech = '',\r\n        link = ''\r\n    }) {\r\n\r\n      /**\r\n       * @param projectID : string\r\n       * @param title : string\r\n       * @param year : string\r\n       * @param type : string\r\n       * @param role : string\r\n       * @param description : string\r\n       * @param tech : string\r\n       * @param link : url if available\r\n       */\r\n\r\n      this.projectID = projectID + 1;\r\n      this.title = title;\r\n      this.year = year;\r\n      this.type = type;\r\n      this.role = role;\r\n      this.description = description;\r\n      this.tech = tech;\r\n      this.link = link;\r\n\r\n      this.el = document.createElement('div');\r\n      this.el.classList.add('project-content');\r\n\r\n      this.projectInfo = document.createElement('div');\r\n      this.projectInfo.classList.add('project-info');\r\n      this.el.appendChild(this.projectInfo);\r\n\r\n      this.projectInfoElements = [];\r\n\r\n      this.initProjectTitle();\r\n      this.initViewbutton();\r\n      this.initProjectNumber();\r\n      this.initMiscInfoElements();\r\n      this.initProjectDescription();\r\n      this.initProjectTech();\r\n      this.initProjectLink();\r\n      this.initExitButton();\r\n\r\n      this.projectInfoElements.map((container) => {\r\n        this.splitTextElements(container);\r\n        this.projectInfo.appendChild(container.el);\r\n      });\r\n\r\n      this.initEvents();\r\n      this.applyInitStyles();\r\n\r\n    }\r\n\r\n    initProjectTitle() {\r\n\r\n      this.projectTitleContainer = this.createContainerElement({className: 'project-title'});\r\n      this.projectTitle = document.createElement('h1');\r\n      this.projectTitle.classList.add('project-title__title');\r\n      this.projectTitle.innerText = this.title;\r\n      this.projectTitleContainer.el.appendChild(this.projectTitle);\r\n      this.el.appendChild(this.projectTitleContainer.el);\r\n\r\n    }\r\n\r\n    initViewbutton() {\r\n\r\n      this.viewButtonContainer = this.createContainerElement({className: 'view-button'});\r\n      this.viewButton = document.createElement('p');\r\n      this.viewButton.classList.add('view-button__button');\r\n      this.viewButton.innerText = \"view\";\r\n      this.viewButtonContainer.el.appendChild(this.viewButton);\r\n\r\n      this.viewButton.idleAlpha = 0.4;\r\n      this.viewButton.activeAlpha = 1.0;\r\n\r\n      this.el.appendChild(this.viewButtonContainer.el);\r\n\r\n    }\r\n\r\n    initProjectNumber() {\r\n\r\n      this.projectNumberContainer = this.createContainerElement({className: 'project-number'});\r\n      this.projectNumber = document.createElement('h1');\r\n      this.projectNumber.classList.add('project-number__number');\r\n      this.projectNumber.innerText = this.projectID < 10 ? \"0\"+this.projectID : this.projectID;\r\n      this.projectNumberContainer.el.appendChild(this.projectNumber);\r\n      this.el.appendChild(this.projectNumberContainer.el);\r\n\r\n    }\r\n\r\n    initMiscInfoElements() {\r\n\r\n      this.miscInfoContainer = this.createContainerElement({className: 'project-misc'});\r\n\r\n      this.projectYearContainer = this.createContainerElement({className: 'project-misc__item'});\r\n      this.projectYear = document.createElement('p');\r\n      this.projectYear.innerText = this.year;\r\n      this.projectYear.classList.add('project-misc__item__copy');\r\n      this.projectYear.id = \"project-year\";\r\n      this.projectYearContainer.el.appendChild(this.projectYear);\r\n      // this.splitTextElements(this.projectYearContainer);\r\n\r\n      this.projectTypeContainer = this.createContainerElement({className: 'project-misc__item'});\r\n      this.projectType = document.createElement('p');\r\n      this.projectType.innerText = this.type;\r\n      this.projectType.classList.add('project-misc__item__copy');\r\n      this.projectType.id = \"project-type\";\r\n      this.projectTypeContainer.el.appendChild(this.projectType);\r\n      // this.splitTextElements(this.projectTypeContainer);\r\n\r\n      this.projectRoleContainer = this.createContainerElement({className: 'project-misc__item'});\r\n      this.projectRole = document.createElement('p');\r\n      this.projectRole.innerText = this.role;\r\n      this.projectRole.classList.add('project-misc__item__copy');\r\n      this.projectRole.id = \"project-role\";\r\n      this.projectRoleContainer.el.appendChild(this.projectRole);\r\n      // this.splitTextElements(this.projectRoleContainer);\r\n\r\n      this.miscInfoContainer.el.appendChild(this.projectYearContainer.el);\r\n      this.miscInfoContainer.el.appendChild(this.projectTypeContainer.el);\r\n      this.miscInfoContainer.el.appendChild(this.projectRoleContainer.el);\r\n\r\n      this.projectInfoElements.push(this.miscInfoContainer);\r\n\r\n    }\r\n\r\n    initProjectDescription() {\r\n\r\n      this.projecDescriptionContainer = this.createContainerElement({className: 'project-description'});\r\n      this.projectDescription = document.createElement('h3');\r\n      this.projectDescription.classList.add('project-description__copy')\r\n      this.projectDescription.innerHTML = this.description;\r\n      this.projecDescriptionContainer.el.appendChild(this.projectDescription);\r\n      // this.splitTextElements(this.projecDescriptionContainer);\r\n\r\n      this.projectInfoElements.push(this.projecDescriptionContainer);\r\n\r\n    }\r\n\r\n    initProjectTech() {\r\n\r\n      this.projectTechContainer = this.createContainerElement({className: 'project-tech'});\r\n      this.projectTech = document.createElement('p');\r\n      this.projectTech.classList.add('project-tech__copy')\r\n      this.projectTech.innerText = this.tech;\r\n      this.projectTechContainer.el.appendChild(this.projectTech);\r\n      // this.splitTextElements(this.projectTechContainer);\r\n\r\n      this.projectInfoElements.push(this.projectTechContainer);\r\n\r\n    }\r\n\r\n    initProjectLink() {\r\n\r\n      this.projectLinkContainer = this.createContainerElement({className: 'project-link'});\r\n      if(this.link === '') return;\r\n      this.projectLink = document.createElement('a');\r\n      this.projectLink.classList.add('project-link__link');\r\n      this.projectLink.href = this.link;\r\n      this.projectLink.target = \"_blank\";\r\n      this.projectLink.innerText = \"visit project\";\r\n      this.projectLinkContainer.el.appendChild(this.projectLink);\r\n      this.el.appendChild(this.projectLinkContainer.el);\r\n\r\n    }\r\n\r\n    initExitButton() {\r\n\r\n      this.exitButton = this.createContainerElement({className: 'exit-button'});\r\n      this.exitButton.el.classList.add('exit-button');\r\n      this.exitButton.el.innerHTML = '<svg class = \"exit-button__icon\" width=\"12\" height=\"12\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0.292893 1.70711L24.2929 25.7071L25.7071 24.2929L1.70711 0.292893L0.292893 1.70711ZM24.2929 0.292893L0.292893 24.2929L1.70711 25.7071L25.7071 1.70711L24.2929 0.292893Z\" fill=\"black\"/></svg>'\r\n      \r\n      this.exitButton.idleAlpha = 0.7;\r\n      this.exitButton.activeAlpha = 1.0;\r\n     \r\n      this.el.appendChild(this.exitButton.el);\r\n      \r\n    }\r\n\r\n    initEvents() {\r\n      \r\n      this.viewButton.addEventListener('click', this.onClick);\r\n      this.viewButton.addEventListener('mouseenter', () => this.onViewButtonHover({state: true}));\r\n      this.viewButton.addEventListener('mouseleave', () => this.onViewButtonHover({state: false}));\r\n\r\n      if(this.projectLink) {\r\n        this.projectLink.addEventListener('mouseenter', this.onHover);\r\n        this.projectLink.addEventListener('mouseleave', this.onLeave);\r\n      }\r\n\r\n    }\r\n\r\n    applyInitStyles() {\r\n\r\n      gsap.set(this.projectTitle, {\r\n        yPercent: 100\r\n      });\r\n\r\n      gsap.set(this.viewButton, {\r\n        yPercent: -100,\r\n        opacity: this.viewButton.idleAlpha\r\n      });\r\n\r\n      gsap.set(this.projectNumber, {\r\n        yPercent: -100\r\n      });\r\n\r\n      gsap.set(this.projectLinkContainer.el, {\r\n        opacity: 0\r\n      });\r\n\r\n      gsap.set(this.exitButton.el, {\r\n        opacity: 0\r\n      });\r\n\r\n    }\r\n\r\n    onClick = () => {\r\n      emitter.emit(events.SHOW_PROJECT);\r\n    }\r\n\r\n    onExitClicked = () => {\r\n      emitter.emit(events.CLOSE_PROJECT);\r\n    }\r\n\r\n    onHover = () => {\r\n      globals.HOVERING_LINK = true;\r\n      emitter.emit(events.HOVERING_NAV_LINK, true);\r\n    }\r\n\r\n    onLeave = () => {\r\n      globals.HOVERING_LINK = false;\r\n      emitter.emit(events.HOVERING_NAV_LINK, false);\r\n    }\r\n\r\n    onViewButtonHover = ({state}) => {\r\n\r\n      if(state) {\r\n        this.onHover();\r\n      } else {\r\n        this.onLeave();\r\n      }\r\n      gsap.to(this.viewButton, {\r\n        duration: 0.3,\r\n        opacity: state ? this.viewButton.activeAlpha : this.viewButton.idleAlpha\r\n      });\r\n\r\n    }\r\n\r\n    onExitButtonHover = ({state}) => {\r\n\r\n      if(state) {\r\n        this.onHover();\r\n      } else {\r\n        this.onLeave();\r\n      }      \r\n      gsap.to(this.exitButton.el, {\r\n        duration: 0.3,\r\n        opacity: state ? this.exitButton.activeAlpha : this.exitButton.idleAlpha\r\n      });\r\n\r\n    }\r\n\r\n    showTitle = () => {\r\n\r\n      gsap.to(this.projectTitle, {\r\n        ease: \"power2.inOut\",\r\n        duration: 0.75,\r\n        yPercent: 0,\r\n      });\r\n\r\n      gsap.to(this.projectNumber, {\r\n        ease: \"power2.out\",\r\n        duration: 0.5,\r\n        yPercent: 0,\r\n      });\r\n\r\n      gsap.to(this.viewButton, {\r\n        ease: \"power2.out\",\r\n        duration: 0.5,\r\n        yPercent: 0,\r\n      });\r\n\r\n    }\r\n\r\n    hideTitle = () => {\r\n      gsap.to(this.projectTitle, {\r\n        ease: \"power2.inOut\",\r\n        duration: 0.5,\r\n        yPercent: 100,\r\n        onComplete: () => {\r\n          gsap.set(this.projectTitle, {\r\n            yPercent: 100\r\n          });\r\n        }\r\n      });\r\n\r\n      gsap.to(this.projectNumber, {\r\n        ease: \"power2.out\",\r\n        duration: 0.5,\r\n        yPercent: -100,\r\n        onComplete: () => {\r\n          gsap.set(this.projectNumber, {\r\n            yPercent: -100\r\n          });\r\n        }\r\n      });\r\n\r\n      gsap.to(this.viewButton, {\r\n        ease: \"power2.out\",\r\n        duration: 0.5,\r\n        yPercent: -100,\r\n        onComplete: () => {\r\n          gsap.set(this.viewButton, {\r\n            yPercent: -100\r\n          });\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    revealContent = () => {\r\n\r\n      this.projectInfoElements.map((el) => {\r\n\r\n        gsap.fromTo(el.text, \r\n          {\r\n            yPercent: 100 \r\n          },\r\n          {\r\n          yPercent: 0,\r\n          duration: 0.5,\r\n          stagger: 0.05\r\n        });\r\n\r\n      });\r\n\r\n      gsap.to(this.exitButton.el, {\r\n        opacity: this.exitButton.idleAlpha,\r\n        duration: 0.5, \r\n\r\n        onComplete: () => {\r\n          this.exitButton.el.classList.add('exit-button__active');\r\n          this.exitButton.el.addEventListener('click', this.onExitClicked);\r\n          this.exitButton.el.addEventListener('mouseenter', () => this.onExitButtonHover({state: true}));\r\n          this.exitButton.el.addEventListener('mouseleave', () => this.onExitButtonHover({state: false}));\r\n        }\r\n\r\n    });\r\n\r\n      gsap.to(this.projectLinkContainer.el, {\r\n          opacity: 1,\r\n          duration: 0.5,\r\n          onComplete: () => {\r\n            if(this.projectLink) this.projectLink.classList.add('project-link__link__active');\r\n          }\r\n      });\r\n        \r\n    }\r\n\r\n    hideContent() {\r\n\r\n      this.projectInfoElements.map((el) => {\r\n\r\n        gsap.to(el.text, {\r\n          yPercent: -100, \r\n          duration: 0.5,\r\n          stagger: 0.05,\r\n          onComplete: () => {\r\n            gsap.set(el.text, {\r\n              yPercent: 100\r\n            });\r\n          }\r\n        });\r\n\r\n      });\r\n\r\n      gsap.to(this.exitButton.el, {\r\n        opacity: 0,\r\n        duration: 0.5,\r\n        onStart: () => {\r\n          this.exitButton.el.classList.remove('exit-button__active');\r\n          this.exitButton.el.removeEventListener('click', this.onExitClicked);\r\n          this.exitButton.el.removeEventListener('mouseenter', () => this.onExitButtonHover({state: true}));\r\n          this.exitButton.el.removeEventListener('mouseleave', () => this.onExitButtonHover({state: false}));\r\n        }\r\n    });\r\n\r\n      gsap.to(this.projectLinkContainer.el, {\r\n          opacity: 0,\r\n          duration: 0.5,\r\n          onStart: () => {\r\n              if(this.projectLink) this.projectLink.classList.remove('project-link__link__active');\r\n          }\r\n      });\r\n\r\n    }\r\n\r\n    splitTextElements(container, type = \"words\") {\r\n\r\n      container.textClip = new SplitText(container.el, {type}).words,\r\n      container.text = new SplitText(container.el, {type}).words \r\n      \r\n      container.textClip.forEach((word, i) => {\r\n          word.innerText = \"\";\r\n          word.style.overflow = \"hidden\";\r\n          word.appendChild(container.text[i]);\r\n      });\r\n\r\n      container.text.forEach((word) => {\r\n        gsap.set(word, {\r\n          yPercent: 100\r\n        })\r\n      });\r\n\r\n    }\r\n\r\n    updateLinkState(state) {\r\n\r\n      if(state) {\r\n        this.projectTitleContainer.classList.add('active')\r\n      } else {\r\n        this.projectTitleContainer.classList.remove('active')\r\n      }\r\n\r\n    }\r\n\r\n    /**\r\n     * Will be used to define bounds that will be needed for clip reveal animations\r\n     * @param className : string\r\n     */\r\n    createContainerElement({className}) {\r\n\r\n      const el = document.createElement('div');\r\n      el.classList.add(className);\r\n      return {\r\n        el,\r\n        bounds: {},\r\n        textClip: [],\r\n        text: []\r\n      };\r\n\r\n    }\r\n\r\n    updateViewModeStyles({state}) {\r\n    \r\n        if (state) {\r\n          this.el.classList.add('project-content__in-view');\r\n        } else {\r\n          this.el.classList.remove('project-content__in-view');\r\n        }\r\n    \r\n      }\r\n\r\n}","import eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport {\r\n    ProjectContent\r\n  } from '../../../static/ProjectContent.js';\r\n\r\nimport {gsap} from 'gsap';\r\nimport {SplitText} from '../../../vendors/gsap/SplitText.js';\r\ngsap.registerPlugin(SplitText);\r\n\r\nexport class ProjectLink {\r\n\r\n    constructor(project) {\r\n\r\n        this.project = project;\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.classList.add('project-title');\r\n\r\n        // this.initLinks();\r\n        // this.initEvents();\r\n\r\n    }\r\n\r\n    initLinks() {\r\n\r\n        this.link = []\r\n\r\n        ProjectContent.map((content) => {\r\n\r\n            const {title} = content;\r\n\r\n            const projectLink = document.createElement('h1');\r\n            projectLink.classList.add('project-title__title');\r\n            projectLink.innerText = title;\r\n            \r\n            projectLink.addEventListener('click', ()=> {\r\n                emitter.emit(events.SHOW_PROJECT, {desiredProject: title})\r\n            });\r\n\r\n            projectLink.addEventListener('mouseenter', () => {\r\n                globals.HOVERING_LINK = true;\r\n                emitter.emit(events.HOVERING_LINK);\r\n            });\r\n            \r\n            projectLink.addEventListener('mouseleave', () => {\r\n                globals.HOVERING_LINK = false;\r\n                emitter.emit(events.LEAVING_LINK);\r\n            });\r\n\r\n            gsap.set(projectLink, {\r\n                yPercent: 100\r\n            });\r\n\r\n            this.link.push(projectLink);\r\n            this.el.appendChild(projectLink);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    showLink(projectIndex) {\r\n\r\n        gsap.to(this.link[projectLink], {\r\n            duration: 0.5,\r\n            yPercent: 0\r\n        });\r\n\r\n    }\r\n\r\n    hideLink(projectIndex) {\r\n\r\n\r\n    }\r\n\r\n    // initEvents() {\r\n\r\n    //     this.el.addEventListener('mouseenter', this.onHover);\r\n    //     this.el.addEventListener('mouseleave', this.onLeave);\r\n\r\n    // }\r\n\r\n    // onClick = () => {\r\n\r\n    //     emitter.emit(events.SHOW_PROJECT, this.project);\r\n\r\n    // }\r\n\r\n    // onHover = () => {\r\n\r\n    //     globals.HOVERING_LINK = true;\r\n    //     emitter.emit(events.HOVERING_LINK);\r\n\r\n    //   }\r\n  \r\n    //   onLeave = () => {\r\n\r\n    //     globals.HOVERING_LINK = false;\r\n    //     emitter.emit(events.LEAVING_LINK);\r\n\r\n    //   }\r\n\r\n}","import {\r\n    ProjectContent\r\n  } from '../../../static/ProjectContent.js';\r\n  \r\n  import {Project} from './Project.js';\r\n  import {ProjectLink} from './ProjectLink.js';\r\n\r\n\r\nclass Projects {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.classList.add('projects');\r\n        \r\n        this.project = [];\r\n        // this.link = [];\r\n\r\n        this.initProjects();\r\n\r\n        this.project.map((project) => {\r\n            this.el.appendChild(project.el);\r\n        });\r\n\r\n    }\r\n\r\n    initProjects() {\r\n\r\n        ProjectContent.map((content, i) => {\r\n\r\n            const {title, type, description, tech, year, role, link} = content;\r\n\r\n            const initState = i > 0 ? false : true;\r\n\r\n            const project = new Project(i, {\r\n                viewing: initState,\r\n                title,\r\n                type,\r\n                year,\r\n                role,\r\n                description,\r\n                tech,\r\n                link\r\n            });\r\n\r\n            this.project.push(project);\r\n\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nconst projects = new Projects();\r\nexport default projects;","import View from \"../View.js\";\r\nimport eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\nimport projects from './Projects.js';\r\nimport globals from \"../../../utils/globals.js\";\r\nimport gsap from \"gsap/gsap-core\";\r\n\r\nexport default class Work extends View {\r\n\r\n  onEnter() {\r\n\r\n    super.onEnter();\r\n\r\n    globals.CURRENT_VIEW = \"work\";\r\n    emitter.emit(events.UPDATE_CURRENT_VIEW);\r\n\r\n    this.firstReveal = false;\r\n    this.el.appendChild(projects.el);\r\n\r\n    this.initDomGL();    \r\n    this.initEvents();\r\n\r\n  }\r\n\r\n  onEnterCompleted() {\r\n\r\n    super.onEnterCompleted();\r\n    if (globals.CONTENT_LOADED) {\r\n      this.enableUserInteraction = true;\r\n      emitter.emit(events.SHOW_CLICKDRAG_CTA);\r\n      this.playEnterAnim();\r\n    }\r\n\r\n  }\r\n\r\n  onLeave() {\r\n    super.onLeave();\r\n    emitter.emit(events.HIDE_CLICKDRAG_CTA);\r\n    this.playLeaveAnim();\r\n  }\r\n\r\n  onLeaveCompleted() {\r\n    super.onLeaveCompleted();\r\n    this.firstReveal = false;\r\n    this.removeEvents();\r\n    if (globals.VIEWING_PROJECT) emitter.emit(events.RESET_QUADS);\r\n    emitter.emit(events.REMOVE_DOMGL);\r\n    this.el.removeChild(projects.el);\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    this.el.style.cursor = \"grab\";\r\n\r\n    this.enableUserInteraction = false;\r\n    this.showScrollInterface = true;\r\n    this.inScrollMode = false;\r\n    \r\n    globals.VIEWING_PROJECT = false;\r\n    emitter.on(events.LOADING_ANIM_COMPLETED, () => {\r\n      this.playEnterAnim();\r\n      emitter.emit(events.SHOW_CLICKDRAG_CTA);\r\n      this.enableUserInteraction = true;\r\n    });\r\n\r\n    emitter.on(events.LOAD_PROJECT_CONTENT, this.updateContentSelection);\r\n    emitter.on(events.SHOW_PROJECT, this.showProject);\r\n    emitter.on(events.CLOSE_PROJECT, this.closeProject);\r\n\r\n    if (!window.isMobile) {\r\n      emitter.on(events.MOUSE_DOWN, this.enableScrollMode);\r\n      emitter.on(events.MOUSE_UP, this.disableScrollMode);\r\n    } else {\r\n      emitter.on(events.TOUCH_START, this.enableScrollMode);\r\n      emitter.on(events.TOUCH_END, this.disableScrollMode);\r\n      emitter.on(events.TOUCH_CANCEL, this.disableScrollMode);\r\n    }\r\n\r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    this.enableUserInteraction = false;\r\n\r\n    emitter.off(events.LOADING_ANIM_COMPLETED, this.playEnterAnim);\r\n    emitter.off(events.LOAD_PROJECT_CONTENT, () => {\r\n      this.playEnterAnim();\r\n      emitter.emit(events.SHOW_CLICKDRAG_CTA);\r\n    });\r\n\r\n    emitter.off(events.SHOW_PROJECT, this.showProject);\r\n    emitter.off(events.CLOSE_PROJECT, this.closeProject);\r\n\r\n    if (!window.isMobile) {\r\n      emitter.off(events.MOUSE_DOWN, this.enableScrollMode);\r\n      emitter.off(events.MOUSE_UP, this.disableScrollMode);\r\n    } else {\r\n      emitter.off(events.TOUCH_START, this.enableScrollMode);\r\n      emitter.off(events.TOUCH_END, this.disableScrollMode);\r\n      emitter.off(events.TOUCH_CANCEL, this.disableScrollMode);\r\n    }\r\n\r\n  }\r\n\r\n  removeStickyTransforms() {\r\n\r\n  }\r\n\r\n  initDomGL() {\r\n\r\n\r\n    this.domGLReferenceElement = this.el.querySelector('.project-video');\r\n\r\n    const params = {\r\n      referenceElement: this.domGLReferenceElement,\r\n      getFirstQuad: true\r\n    }\r\n\r\n    super.initDomGL({\r\n      view: \"PROJECTS\",\r\n      params\r\n    });\r\n\r\n  }\r\n\r\n  updateContentSelection = (contentIndex) => {\r\n\r\n    globals.PREV_PROJECT_INDEX = globals.CURRENT_PROJECT_INDEX;\r\n    globals.CURRENT_PROJECT_INDEX = contentIndex;\r\n    if(globals.CURRENT_PROJECT_INDEX !== globals.PREV_PROJECT_INDEX) {\r\n      projects.project[globals.PREV_PROJECT_INDEX].updateViewModeStyles({state: false});\r\n      projects.project[globals.CURRENT_PROJECT_INDEX].updateViewModeStyles({state: true});\r\n    }\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].showTitle();\r\n\r\n  }\r\n\r\n  enableScrollMode = () => {\r\n\r\n    if (globals.HOVERING_LINK && !window.isMobile) return;\r\n    if (globals.VIEWING_PROJECT && !window.isMobile) return;\r\n    if (this.enableUserInteraction === false) return;\r\n\r\n    this.inScrollMode = true;\r\n    // document.body.classList.add('scrolling');\r\n    this.el.style.cursor = \"grabbing\";\r\n    projects.el.classList.add('scrolling');\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].hideTitle();\r\n    emitter.emit(events.ENTER_SCROLL_MODE);\r\n\r\n  }\r\n\r\n  disableScrollMode = () => {\r\n\r\n   if (globals.HOVERING_LINK && !window.isMobile) return;\r\n   if (globals.VIEWING_PROJECT && !window.isMobile) return;\r\n   if (this.enableUserInteraction === false) return;\r\n\r\n    this.inScrollMode = false;\r\n    this.el.style.cursor = \"grab\";\r\n    projects.el.classList.remove('scrolling');\r\n    emitter.emit(events.EXIT_SCROLL_MODE);\r\n\r\n  }\r\n\r\n  playEnterAnim = () => {\r\n\r\n    emitter.emit(events.REVEAL_QUADS);\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].updateViewModeStyles({state: true});\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].showTitle();\r\n\r\n  }\r\n\r\n  playLeaveAnim = () => {\r\n\r\n    if(globals.VIEWING_PROJECT) {\r\n      projects.project[globals.CURRENT_PROJECT_INDEX].hideContent();\r\n    } else {\r\n      projects.project[globals.CURRENT_PROJECT_INDEX].hideTitle();\r\n    }\r\n\r\n  }\r\n\r\n  showProject = () => {\r\n\r\n    if(globals.VIEWING_PROJECT) return;\r\n    globals.VIEWING_PROJECT = true;\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].hideTitle();\r\n    emitter.emit(events.UPDATE_VIEWMODE, {mode: true});\r\n    gsap.delayedCall(1.0, () => {\r\n      projects.project[globals.CURRENT_PROJECT_INDEX].revealContent();\r\n    });\r\n   \r\n  }\r\n\r\n  closeProject = () => {\r\n    if(!globals.VIEWING_PROJECT) return;\r\n    globals.VIEWING_PROJECT = false;\r\n    emitter.emit(events.UPDATE_VIEWMODE, {mode: false});\r\n    projects.project[globals.CURRENT_PROJECT_INDEX].hideContent();\r\n    gsap.delayedCall(1.0, () => {\r\n      projects.project[globals.CURRENT_PROJECT_INDEX].showTitle();\r\n    });\r\n\r\n  }\r\n\r\n\r\n  updateViewModeStyles({\r\n    viewing\r\n  }) {\r\n\r\n    if (!viewing) {\r\n\r\n      document.querySelector('.project-container').classList.add('not-viewing');\r\n      this.exitButton.classList.add('not-viewing');\r\n\r\n    } else {\r\n\r\n      document.querySelector('.project-container').classList.remove('not-viewing');\r\n      this.exitButton.classList.remove('not-viewing');\r\n\r\n    }\r\n\r\n  }\r\n\r\n}","import img from './img/*.png';\r\n\r\nexport const AboutContent = [\r\n\r\n    {\r\n        title: \"Hej!\",\r\n        introText: 'I\\'m a Swedish Creative Technologist at Adventure Club who is passionate about interactivity and making visually interesting experiences - that in some way makes one dream or feel inspired!<br><br>This portfolio is a showcase of my recent client work and sketches - through which I\\'m (still) finding \"my own voice\" by exploring visual approaches and experimenting with concepts that piques my curiosity!',\r\n        contactHeader: \"Feel free to reach me on...\",\r\n        contactMethods: [{\r\n                type: \"mail\",\r\n                url: \"mailto:douglas@adventureclub.io\"\r\n            },\r\n            {\r\n                type: \"twitter\",\r\n                url: \"https://twitter.com/DougLilliequist\"\r\n            },\r\n            {\r\n                type: \"instagram\",\r\n                url: \"https://www.instagram.com/dlilliequist/\"\r\n            },\r\n            {\r\n                type: \"linkedIn\",\r\n                url: \"https://www.linkedin.com/in/douglas-lilliequist-a2798b110/\"\r\n            }\r\n        ],\r\n        media: {\r\n            videoSrc: null,\r\n            imageSrc: img.douglas10241024,\r\n            brightVal: 0.0\r\n        }\r\n    }\r\n\r\n]","import View from \"../View.js\";\r\n\r\nimport eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport {\r\n  AboutContent\r\n} from '../../../static/AboutContent.js';\r\n\r\nimport StickyComponent from '../../StickyComponent.js';\r\n\r\nimport {\r\n  gsap\r\n} from 'gsap';\r\n\r\nimport {SplitText} from '../../../vendors/gsap/SplitText.js';\r\ngsap.registerPlugin(SplitText);\r\n\r\nimport globals from \"../../../utils/globals.js\";\r\n\r\nexport default class About extends View {\r\n  onEnter() {\r\n    super.onEnter();\r\n\r\n    globals.CURRENT_VIEW = \"about\";\r\n    emitter.emit(events.UPDATE_CURRENT_VIEW);\r\n\r\n    this.initReferences();\r\n    this.populateContent();\r\n    this.initEvents();\r\n    this.initDomGL();\r\n  }\r\n  onEnterCompleted() {\r\n    super.onEnterCompleted();\r\n    if (globals.CONTENT_LOADED) {\r\n      this.playEnterAnim();\r\n    }\r\n  }\r\n\r\n  onLeave() {\r\n    super.onLeave();\r\n    this.playLeaveAnim();\r\n  }\r\n\r\n  onLeaveCompleted() {\r\n    super.onLeaveCompleted();\r\n    this.removeEvents();\r\n    emitter.emit(events.REMOVE_DOMGL);\r\n    \r\n    this.resetTextSplit(this.header);\r\n    this.resetTextSplit(this.introText);\r\n    this.resetTextSplit(this.contactHeader);\r\n\r\n  }\r\n\r\n  initOnComplete() {\r\n    super.initOnComplete();\r\n  }\r\n\r\n  initReferences() {\r\n\r\n    this.domGLReferenceElement = this.el.querySelector('.portrait-container__portrait');\r\n    this.header = document.querySelector('.about-copy__header');\r\n    this.introText = document.querySelector('.about-copy__body-text');\r\n    this.contactHeader = document.querySelector('.contact-container__header');\r\n    this.links = document.querySelectorAll('.contact-container__methods__link');\r\n\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    emitter.on(events.LOADING_ANIM_COMPLETED, () => {\r\n      this.playEnterAnim();\r\n    });\r\n\r\n    this.links.forEach((link) => {\r\n      link.addEventListener('mouseenter', this.onLinkHover);\r\n      link.addEventListener('mouseleave', this.onLinkLeave);\r\n    });\r\n\r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    this.links.forEach((link) => {\r\n      link.removeEventListener('mouseenter', this.onLinkHover);\r\n      link.removeEventListener('mouseleave', this.onLinkLeave);\r\n    });\r\n\r\n    emitter.off(events.LOADING_ANIM_COMPLETED, () => {\r\n      this.playEnterAnim();\r\n    });\r\n\r\n  }\r\n\r\n  initDomGL() {\r\n\r\n    const params = {\r\n      referenceElement: this.domGLReferenceElement,\r\n    }\r\n\r\n    super.initDomGL({\r\n      view: \"ABOUT\",\r\n      params\r\n    });\r\n\r\n  }\r\n\r\n  populateContent() {\r\n\r\n    const aboutContent = AboutContent[0];\r\n    this.header.innerHTML = aboutContent.title;\r\n    this.introText.innerHTML = aboutContent.introText;\r\n    this.contactHeader.innerHTML = aboutContent.contactHeader;\r\n    this.links.forEach((link, i) => { \r\n\r\n      link.innerHTML = aboutContent.contactMethods[i].type;\r\n      link.href = aboutContent.contactMethods[i].url;\r\n\r\n    });\r\n\r\n  }\r\n\r\n  onLinkHover = () => {\r\n\r\n    globals.HOVERING_LINK = true;\r\n    emitter.emit(events.HOVERING_NAV_LINK, true);\r\n\r\n  }\r\n\r\n  onLinkLeave = () => {\r\n    globals.HOVERING_LINK = false;\r\n    emitter.emit(events.HOVERING_NAV_LINK, false);\r\n\r\n  }\r\n\r\n  playEnterAnim() {\r\n\r\n    const dur = 0.85;\r\n    const ease = \"power1.out\";\r\n    emitter.emit(events.REVEAL_QUADS);\r\n\r\n    this.splitTextElements(this.header);\r\n    this.splitTextElements(this.introText);\r\n    this.splitTextElements(this.contactHeader);\r\n\r\n    // gsap.to(this.introText.text.words, {\r\n    //   duration: 0.5,\r\n    //   yPercent: 0,\r\n    //   stagger: 0.015,\r\n    // });\r\n\r\n    // gsap.to(this.introText.text.words, {\r\n    //   duration: 0.5,\r\n    //   yPercent: 0,\r\n    //   stagger: 0.015,\r\n    // });\r\n\r\n    // gsap.to(this.introText.text.words, {\r\n    //   duration: 0.5,\r\n    //   yPercent: 0,\r\n    //   stagger: 0.015,\r\n    // });\r\n\r\n    const enterAnim = gsap.timeline({\r\n      onStart: () => {\r\n        // emitter.emit(events.REVEAL_QUADS);\r\n      },\r\n    });\r\n\r\n    enterAnim.to(this.header.text.words,\r\n      {\r\n      duration: dur,\r\n      yPercent: 0,\r\n      ease: ease\r\n    });\r\n\r\n    enterAnim.to(this.introText.text.words,\r\n    {\r\n      duration: dur,\r\n      yPercent: 0,\r\n      stagger: 0.005,\r\n      ease: ease\r\n    }, \"<0.5\");\r\n\r\n    enterAnim.to(this.contactHeader.text.words, \r\n      {\r\n        duration: dur,\r\n        yPercent: 0,\r\n        ease: ease,\r\n        stagger: 0.005\r\n    }, \"<0.5\");\r\n\r\n    enterAnim.fromTo(this.links, {\r\n      opacity: 0,\r\n      yPercent: 100,\r\n    }, {\r\n      duration: dur,\r\n      opacity: 1.0,\r\n      stagger: 0.1,\r\n      yPercent: 0,\r\n      ease\r\n    }, \"<0.5\");\r\n\r\n  }\r\n\r\n  playLeaveAnim() {\r\n\r\n    const dur = 0.5;\r\n    const ease = \"sine.in\";\r\n\r\n    const leaveAnim = gsap.timeline({\r\n\r\n      onComplete: () => {\r\n        this.links.forEach((link) => {\r\n          link.classList.remove('link--enabled');\r\n        });\r\n      }\r\n\r\n    });\r\n\r\n    leaveAnim.to(this.links, {\r\n      duration: dur,\r\n      opacity: 0,\r\n      stagger: -0.05,\r\n      ease: \"linear\"\r\n    }, \"<\");\r\n\r\n    leaveAnim.to(this.contactHeader, {\r\n      duration: dur,\r\n      opacity: 0,\r\n      ease: ease,\r\n    }, \"<0.05\");\r\n\r\n    leaveAnim.to(this.introText, {\r\n      duration: dur,\r\n      opacity: 0,\r\n      ease: ease,\r\n    }, \"<0.05\");\r\n\r\n    leaveAnim.to(this.header, {\r\n      duration: dur,\r\n      opacity: 0,\r\n      ease: ease,\r\n    }, \"<0.05\");\r\n\r\n  }\r\n\r\n  splitTextElements(el, type = \"words\") {\r\n\r\n    el.textClip = new SplitText(el, {type}),\r\n    el.text = new SplitText(el, {type}) \r\n    \r\n    el.textClip.words.forEach((word, i) => {\r\n        word.innerText = \"\";\r\n        word.style.overflow = \"hidden\";\r\n        word.appendChild(el.text.words[i]);\r\n    });\r\n\r\n    el.text.words.forEach((word) => {\r\n      gsap.set(word, {\r\n        yPercent: 100\r\n      })\r\n    }); \r\n\r\n  }\r\n\r\n  resetTextSplit(el) {\r\n\r\n    el.textClip.revert();\r\n    el.text.revert();\r\n\r\n  }\r\n\r\n}","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\r\nexport function set(out, x, y, z) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    out[2] = a[2] * b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    out[2] = a[2] / b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    out[2] = 1.0 / a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let len = x * x + y * y + z * z;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    out[2] = a[2] * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n}\r\n\r\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function cross(out, a, b) {\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2];\r\n\r\n    out[0] = ay * bz - az * by;\r\n    out[1] = az * bx - ax * bz;\r\n    out[2] = ax * by - ay * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec3} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n    w = w || 1.0;\r\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\r\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\r\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Same as above but doesn't apply translation.\r\n * Useful for rays.\r\n */\r\nexport function scaleRotateMat4(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n    w = w || 1.0;\r\n    out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\r\n    out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\r\n    out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    out[0] = x * m[0] + y * m[3] + z * m[6];\r\n    out[1] = x * m[1] + y * m[4] + z * m[7];\r\n    out[2] = x * m[2] + y * m[5] + z * m[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a quat\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformQuat(out, a, q) {\r\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\r\n\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let qx = q[0],\r\n        qy = q[1],\r\n        qz = q[2],\r\n        qw = q[3];\r\n\r\n    let uvx = qy * z - qz * y;\r\n    let uvy = qz * x - qx * z;\r\n    let uvz = qx * y - qy * x;\r\n\r\n    let uuvx = qy * uvz - qz * uvy;\r\n    let uuvy = qz * uvx - qx * uvz;\r\n    let uuvz = qx * uvy - qy * uvx;\r\n\r\n    let w2 = qw * 2;\r\n    uvx *= w2;\r\n    uvy *= w2;\r\n    uvz *= w2;\r\n\r\n    uuvx *= 2;\r\n    uuvy *= 2;\r\n    uuvz *= 2;\r\n\r\n    out[0] = x + uvx + uuvx;\r\n    out[1] = y + uvy + uuvy;\r\n    out[2] = z + uvz + uuvz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\r\nexport const angle = (function () {\r\n    const tempA = [0, 0, 0];\r\n    const tempB = [0, 0, 0];\r\n\r\n    return function (a, b) {\r\n        copy(tempA, a);\r\n        copy(tempB, b);\r\n\r\n        normalize(tempA, tempA);\r\n        normalize(tempB, tempB);\r\n\r\n        let cosine = dot(tempA, tempB);\r\n\r\n        if (cosine > 1.0) {\r\n            return 0;\r\n        } else if (cosine < -1.0) {\r\n            return Math.PI;\r\n        } else {\r\n            return Math.acos(cosine);\r\n        }\r\n    };\r\n})();\r\n\r\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\r\n}\r\n","import * as Vec3Func from './functions/Vec3Func.js';\r\n\r\nexport class Vec3 extends Array {\r\n    constructor(x = 0, y = x, z = x) {\r\n        super(x, y, z);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec3Func.set(this, x, y, z);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec3Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec3Func.add(this, va, vb);\r\n        else Vec3Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec3Func.subtract(this, va, vb);\r\n        else Vec3Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec3Func.multiply(this, this, v);\r\n        else Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec3Func.divide(this, this, v);\r\n        else Vec3Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec3Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec3Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec3Func.distance(this, v);\r\n        else return Vec3Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return Vec3Func.squaredLength(this);\r\n    }\r\n\r\n    squaredDistance(v) {\r\n        if (v) return Vec3Func.squaredDistance(this, v);\r\n        else return Vec3Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec3Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if (vb) Vec3Func.cross(this, va, vb);\r\n        else Vec3Func.cross(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    scale(v) {\r\n        Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec3Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec3Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec3Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec3Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    scaleRotateMatrix4(mat4) {\r\n        Vec3Func.scaleRotateMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    applyQuaternion(q) {\r\n        Vec3Func.transformQuat(this, this, q);\r\n        return this;\r\n    }\r\n\r\n    angle(v) {\r\n        return Vec3Func.angle(this, v);\r\n    }\r\n\r\n    lerp(v, t) {\r\n        Vec3Func.lerp(this, this, v, t);\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new Vec3(this[0], this[1], this[2]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        return a;\r\n    }\r\n\r\n    transformDirection(mat4) {\r\n        const x = this[0];\r\n        const y = this[1];\r\n        const z = this[2];\r\n\r\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\r\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\r\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\r\n\r\n        return this.normalize();\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\r\nexport function set(out, x, y, z, w) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    out[3] = w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n}\r\n\r\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    let len = x * x + y * y + z * z + w * w;\r\n    if (len > 0) {\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = x * len;\r\n    out[1] = y * len;\r\n    out[2] = z * len;\r\n    out[3] = w * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec4} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    let aw = a[3];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    out[3] = aw + t * (b[3] - aw);\r\n    return out;\r\n}\r\n","import * as vec4 from './Vec4Func.js';\r\n\r\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 0;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\r\nexport function setAxisAngle(out, axis, rad) {\r\n    rad = rad * 0.5;\r\n    let s = Math.sin(rad);\r\n    out[0] = s * axis[0];\r\n    out[1] = s * axis[1];\r\n    out[2] = s * axis[2];\r\n    out[3] = Math.cos(rad);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two quats\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2],\r\n        bw = b[3];\r\n\r\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\r\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\r\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\r\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateX(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + aw * bx;\r\n    out[1] = ay * bw + az * bx;\r\n    out[2] = az * bw - ay * bx;\r\n    out[3] = aw * bw - ax * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateY(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let by = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw - az * by;\r\n    out[1] = ay * bw + aw * by;\r\n    out[2] = az * bw + ax * by;\r\n    out[3] = aw * bw - ay * by;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateZ(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bz = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + ay * bz;\r\n    out[1] = ay * bw - ax * bz;\r\n    out[2] = az * bw + aw * bz;\r\n    out[3] = aw * bw - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n */\r\nexport function slerp(out, a, b, t) {\r\n    // benchmarks:\r\n    //    http://jsperf.com/quaternion-slerp-implementations\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2],\r\n        bw = b[3];\r\n\r\n    let omega, cosom, sinom, scale0, scale1;\r\n\r\n    // calc cosine\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    // adjust signs (if necessary)\r\n    if (cosom < 0.0) {\r\n        cosom = -cosom;\r\n        bx = -bx;\r\n        by = -by;\r\n        bz = -bz;\r\n        bw = -bw;\r\n    }\r\n    // calculate coefficients\r\n    if (1.0 - cosom > 0.000001) {\r\n        // standard case (slerp)\r\n        omega = Math.acos(cosom);\r\n        sinom = Math.sin(omega);\r\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n        scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n        // \"from\" and \"to\" quaternions are very close\r\n        //  ... so we can do a linear interpolation\r\n        scale0 = 1.0 - t;\r\n        scale1 = t;\r\n    }\r\n    // calculate final values\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\r\nexport function invert(out, a) {\r\n    let a0 = a[0],\r\n        a1 = a[1],\r\n        a2 = a[2],\r\n        a3 = a[3];\r\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\r\n    let invDot = dot ? 1.0 / dot : 0;\r\n\r\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\r\n\r\n    out[0] = -a0 * invDot;\r\n    out[1] = -a1 * invDot;\r\n    out[2] = -a2 * invDot;\r\n    out[3] = a3 * invDot;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\r\nexport function conjugate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromMat3(out, m) {\r\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\r\n    // article \"Quaternion Calculus and Fast Animation\".\r\n    let fTrace = m[0] + m[4] + m[8];\r\n    let fRoot;\r\n\r\n    if (fTrace > 0.0) {\r\n        // |w| > 1/2, may as well choose w > 1/2\r\n        fRoot = Math.sqrt(fTrace + 1.0); // 2w\r\n        out[3] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot; // 1/(4w)\r\n        out[0] = (m[5] - m[7]) * fRoot;\r\n        out[1] = (m[6] - m[2]) * fRoot;\r\n        out[2] = (m[1] - m[3]) * fRoot;\r\n    } else {\r\n        // |w| <= 1/2\r\n        let i = 0;\r\n        if (m[4] > m[0]) i = 1;\r\n        if (m[8] > m[i * 3 + i]) i = 2;\r\n        let j = (i + 1) % 3;\r\n        let k = (i + 2) % 3;\r\n\r\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\r\n        out[i] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot;\r\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\r\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\r\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} euler Angles to rotate around each axis in degrees.\r\n * @param {String} order detailing order of operations. Default 'XYZ'.\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromEuler(out, euler, order = 'YXZ') {\r\n    let sx = Math.sin(euler[0] * 0.5);\r\n    let cx = Math.cos(euler[0] * 0.5);\r\n    let sy = Math.sin(euler[1] * 0.5);\r\n    let cy = Math.cos(euler[1] * 0.5);\r\n    let sz = Math.sin(euler[2] * 0.5);\r\n    let cz = Math.cos(euler[2] * 0.5);\r\n\r\n    if (order === 'XYZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'YXZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'ZXY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'ZYX') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'YZX') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'XZY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const copy = vec4.copy;\r\n\r\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const set = vec4.set;\r\n\r\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const add = vec4.add;\r\n\r\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const scale = vec4.scale;\r\n\r\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\r\nexport const dot = vec4.dot;\r\n\r\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const lerp = vec4.lerp;\r\n\r\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport const length = vec4.length;\r\n\r\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const normalize = vec4.normalize;\r\n","import * as QuatFunc from './functions/QuatFunc.js';\r\n\r\nexport class Quat extends Array {\r\n    constructor(x = 0, y = 0, z = 0, w = 1) {\r\n        super(x, y, z, w);\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    get w() {\r\n        return this[3];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set w(v) {\r\n        this[3] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    identity() {\r\n        QuatFunc.identity(this);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    set(x, y, z, w) {\r\n        if (x.length) return this.copy(x);\r\n        QuatFunc.set(this, x, y, z, w);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateX(a) {\r\n        QuatFunc.rotateX(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateY(a) {\r\n        QuatFunc.rotateY(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateZ(a) {\r\n        QuatFunc.rotateZ(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    inverse(q = this) {\r\n        QuatFunc.invert(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    conjugate(q = this) {\r\n        QuatFunc.conjugate(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(q) {\r\n        QuatFunc.copy(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    normalize(q = this) {\r\n        QuatFunc.normalize(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    multiply(qA, qB) {\r\n        if (qB) {\r\n            QuatFunc.multiply(this, qA, qB);\r\n        } else {\r\n            QuatFunc.multiply(this, this, qA);\r\n        }\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return QuatFunc.dot(this, v);\r\n    }\r\n\r\n    fromMatrix3(matrix3) {\r\n        QuatFunc.fromMat3(this, matrix3);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromEuler(euler) {\r\n        QuatFunc.fromEuler(this, euler, euler.order);\r\n        return this;\r\n    }\r\n\r\n    fromAxisAngle(axis, a) {\r\n        QuatFunc.setAxisAngle(this, axis, a);\r\n        return this;\r\n    }\r\n\r\n    slerp(q, t) {\r\n        QuatFunc.slerp(this, this, q, t);\r\n        return this;\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        this[3] = a[o + 3];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        a[o + 3] = this[3];\r\n        return a;\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    out[9] = a[9];\r\n    out[10] = a[10];\r\n    out[11] = a[11];\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m03;\r\n    out[4] = m10;\r\n    out[5] = m11;\r\n    out[6] = m12;\r\n    out[7] = m13;\r\n    out[8] = m20;\r\n    out[9] = m21;\r\n    out[10] = m22;\r\n    out[11] = m23;\r\n    out[12] = m30;\r\n    out[13] = m31;\r\n    out[14] = m32;\r\n    out[15] = m33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = 1;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 1;\r\n    out[11] = 0;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1],\r\n            a02 = a[2],\r\n            a03 = a[3];\r\n        let a12 = a[6],\r\n            a13 = a[7];\r\n        let a23 = a[11];\r\n\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a01;\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a02;\r\n        out[9] = a12;\r\n        out[11] = a[14];\r\n        out[12] = a03;\r\n        out[13] = a13;\r\n        out[14] = a23;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a[1];\r\n        out[5] = a[5];\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a[2];\r\n        out[9] = a[6];\r\n        out[10] = a[10];\r\n        out[11] = a[14];\r\n        out[12] = a[3];\r\n        out[13] = a[7];\r\n        out[14] = a[11];\r\n        out[15] = a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n}\r\n\r\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    // Cache only the current line of the second matrix\r\n    let b0 = b[0],\r\n        b1 = b[1],\r\n        b2 = b[2],\r\n        b3 = b[3];\r\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[4];\r\n    b1 = b[5];\r\n    b2 = b[6];\r\n    b3 = b[7];\r\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[8];\r\n    b1 = b[9];\r\n    b2 = b[10];\r\n    b3 = b[11];\r\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[12];\r\n    b1 = b[13];\r\n    b2 = b[14];\r\n    b3 = b[15];\r\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1],\r\n        z = v[2];\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n\r\n    if (a === out) {\r\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\r\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\r\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\r\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\r\n    } else {\r\n        a00 = a[0];\r\n        a01 = a[1];\r\n        a02 = a[2];\r\n        a03 = a[3];\r\n        a10 = a[4];\r\n        a11 = a[5];\r\n        a12 = a[6];\r\n        a13 = a[7];\r\n        a20 = a[8];\r\n        a21 = a[9];\r\n        a22 = a[10];\r\n        a23 = a[11];\r\n\r\n        out[0] = a00;\r\n        out[1] = a01;\r\n        out[2] = a02;\r\n        out[3] = a03;\r\n        out[4] = a10;\r\n        out[5] = a11;\r\n        out[6] = a12;\r\n        out[7] = a13;\r\n        out[8] = a20;\r\n        out[9] = a21;\r\n        out[10] = a22;\r\n        out[11] = a23;\r\n\r\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\r\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\r\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\r\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1],\r\n        z = v[2];\r\n\r\n    out[0] = a[0] * x;\r\n    out[1] = a[1] * x;\r\n    out[2] = a[2] * x;\r\n    out[3] = a[3] * x;\r\n    out[4] = a[4] * y;\r\n    out[5] = a[5] * y;\r\n    out[6] = a[6] * y;\r\n    out[7] = a[7] * y;\r\n    out[8] = a[8] * z;\r\n    out[9] = a[9] * z;\r\n    out[10] = a[10] * z;\r\n    out[11] = a[11] * z;\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\r\nexport function rotate(out, a, rad, axis) {\r\n    let x = axis[0],\r\n        y = axis[1],\r\n        z = axis[2];\r\n    let len = Math.hypot(x, y, z);\r\n    let s, c, t;\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n    let b00, b01, b02;\r\n    let b10, b11, b12;\r\n    let b20, b21, b22;\r\n\r\n    if (Math.abs(len) < EPSILON) {\r\n        return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    s = Math.sin(rad);\r\n    c = Math.cos(rad);\r\n    t = 1 - c;\r\n\r\n    a00 = a[0];\r\n    a01 = a[1];\r\n    a02 = a[2];\r\n    a03 = a[3];\r\n    a10 = a[4];\r\n    a11 = a[5];\r\n    a12 = a[6];\r\n    a13 = a[7];\r\n    a20 = a[8];\r\n    a21 = a[9];\r\n    a22 = a[10];\r\n    a23 = a[11];\r\n\r\n    // Construct the elements of the rotation matrix\r\n    b00 = x * x * t + c;\r\n    b01 = y * x * t + z * s;\r\n    b02 = z * x * t - y * s;\r\n    b10 = x * y * t - z * s;\r\n    b11 = y * y * t + c;\r\n    b12 = z * y * t + x * s;\r\n    b20 = x * z * t + y * s;\r\n    b21 = y * z * t - x * s;\r\n    b22 = z * z * t + c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\r\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\r\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\r\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\r\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\r\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\r\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\r\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\r\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\r\n\r\n    if (a !== out) {\r\n        // If the source and destination differ, copy the unchanged last row\r\n        out[12] = a[12];\r\n        out[13] = a[13];\r\n        out[14] = a[14];\r\n        out[15] = a[15];\r\n    }\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getTranslation(out, mat) {\r\n    out[0] = mat[12];\r\n    out[1] = mat[13];\r\n    out[2] = mat[14];\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getScaling(out, mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    out[0] = Math.hypot(m11, m12, m13);\r\n    out[1] = Math.hypot(m21, m22, m23);\r\n    out[2] = Math.hypot(m31, m32, m33);\r\n\r\n    return out;\r\n}\r\n\r\nexport function getMaxScaleOnAxis(mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\r\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\r\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\r\n\r\n    return Math.sqrt(Math.max(x, y, z));\r\n}\r\n\r\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\r\nexport const getRotation = (function () {\r\n    const temp = [0, 0, 0];\r\n\r\n    return function (out, mat) {\r\n        let scaling = temp;\r\n        getScaling(scaling, mat);\r\n\r\n        let is1 = 1 / scaling[0];\r\n        let is2 = 1 / scaling[1];\r\n        let is3 = 1 / scaling[2];\r\n\r\n        let sm11 = mat[0] * is1;\r\n        let sm12 = mat[1] * is2;\r\n        let sm13 = mat[2] * is3;\r\n        let sm21 = mat[4] * is1;\r\n        let sm22 = mat[5] * is2;\r\n        let sm23 = mat[6] * is3;\r\n        let sm31 = mat[8] * is1;\r\n        let sm32 = mat[9] * is2;\r\n        let sm33 = mat[10] * is3;\r\n\r\n        let trace = sm11 + sm22 + sm33;\r\n        let S = 0;\r\n\r\n        if (trace > 0) {\r\n            S = Math.sqrt(trace + 1.0) * 2;\r\n            out[3] = 0.25 * S;\r\n            out[0] = (sm23 - sm32) / S;\r\n            out[1] = (sm31 - sm13) / S;\r\n            out[2] = (sm12 - sm21) / S;\r\n        } else if (sm11 > sm22 && sm11 > sm33) {\r\n            S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\r\n            out[3] = (sm23 - sm32) / S;\r\n            out[0] = 0.25 * S;\r\n            out[1] = (sm12 + sm21) / S;\r\n            out[2] = (sm31 + sm13) / S;\r\n        } else if (sm22 > sm33) {\r\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\r\n            out[3] = (sm31 - sm13) / S;\r\n            out[0] = (sm12 + sm21) / S;\r\n            out[1] = 0.25 * S;\r\n            out[2] = (sm23 + sm32) / S;\r\n        } else {\r\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\r\n            out[3] = (sm12 - sm21) / S;\r\n            out[0] = (sm31 + sm13) / S;\r\n            out[1] = (sm23 + sm32) / S;\r\n            out[2] = 0.25 * S;\r\n        }\r\n\r\n        return out;\r\n    };\r\n})();\r\n\r\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\r\nexport function fromRotationTranslationScale(out, q, v, s) {\r\n    // Quaternion math\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n    let sx = s[0];\r\n    let sy = s[1];\r\n    let sz = s[2];\r\n\r\n    out[0] = (1 - (yy + zz)) * sx;\r\n    out[1] = (xy + wz) * sx;\r\n    out[2] = (xz - wy) * sx;\r\n    out[3] = 0;\r\n    out[4] = (xy - wz) * sy;\r\n    out[5] = (1 - (xx + zz)) * sy;\r\n    out[6] = (yz + wx) * sy;\r\n    out[7] = 0;\r\n    out[8] = (xz + wy) * sz;\r\n    out[9] = (yz - wx) * sz;\r\n    out[10] = (1 - (xx + yy)) * sz;\r\n    out[11] = 0;\r\n    out[12] = v[0];\r\n    out[13] = v[1];\r\n    out[14] = v[2];\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[1] = yx + wz;\r\n    out[2] = zx - wy;\r\n    out[3] = 0;\r\n\r\n    out[4] = yx - wz;\r\n    out[5] = 1 - xx - zz;\r\n    out[6] = zy + wx;\r\n    out[7] = 0;\r\n\r\n    out[8] = zx + wy;\r\n    out[9] = zy - wx;\r\n    out[10] = 1 - xx - yy;\r\n    out[11] = 0;\r\n\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a perspective projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function perspective(out, fovy, aspect, near, far) {\r\n    let f = 1.0 / Math.tan(fovy / 2);\r\n    let nf = 1 / (near - far);\r\n    out[0] = f / aspect;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = f;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = (far + near) * nf;\r\n    out[11] = -1;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 2 * far * near * nf;\r\n    out[15] = 0;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function ortho(out, left, right, bottom, top, near, far) {\r\n    let lr = 1 / (left - right);\r\n    let bt = 1 / (bottom - top);\r\n    let nf = 1 / (near - far);\r\n    out[0] = -2 * lr;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = -2 * bt;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 2 * nf;\r\n    out[11] = 0;\r\n    out[12] = (left + right) * lr;\r\n    out[13] = (top + bottom) * bt;\r\n    out[14] = (far + near) * nf;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} target Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\r\nexport function targetTo(out, eye, target, up) {\r\n    let eyex = eye[0],\r\n        eyey = eye[1],\r\n        eyez = eye[2],\r\n        upx = up[0],\r\n        upy = up[1],\r\n        upz = up[2];\r\n\r\n    let z0 = eyex - target[0],\r\n        z1 = eyey - target[1],\r\n        z2 = eyez - target[2];\r\n\r\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\r\n    if (len === 0) {\r\n        // eye and target are in the same position\r\n        z2 = 1;\r\n    } else {\r\n        len = 1 / Math.sqrt(len);\r\n        z0 *= len;\r\n        z1 *= len;\r\n        z2 *= len;\r\n    }\r\n\r\n    let x0 = upy * z2 - upz * z1,\r\n        x1 = upz * z0 - upx * z2,\r\n        x2 = upx * z1 - upy * z0;\r\n\r\n    len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    if (len === 0) {\r\n        // up and z are parallel\r\n        if (upz) {\r\n            upx += 1e-6;\r\n        } else if (upy) {\r\n            upz += 1e-6;\r\n        } else {\r\n            upy += 1e-6;\r\n        }\r\n        (x0 = upy * z2 - upz * z1), (x1 = upz * z0 - upx * z2), (x2 = upx * z1 - upy * z0);\r\n\r\n        len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    }\r\n\r\n    len = 1 / Math.sqrt(len);\r\n    x0 *= len;\r\n    x1 *= len;\r\n    x2 *= len;\r\n\r\n    out[0] = x0;\r\n    out[1] = x1;\r\n    out[2] = x2;\r\n    out[3] = 0;\r\n    out[4] = z1 * x2 - z2 * x1;\r\n    out[5] = z2 * x0 - z0 * x2;\r\n    out[6] = z0 * x1 - z1 * x0;\r\n    out[7] = 0;\r\n    out[8] = z0;\r\n    out[9] = z1;\r\n    out[10] = z2;\r\n    out[11] = 0;\r\n    out[12] = eyex;\r\n    out[13] = eyey;\r\n    out[14] = eyez;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    out[9] = a[9] + b[9];\r\n    out[10] = a[10] + b[10];\r\n    out[11] = a[11] + b[11];\r\n    out[12] = a[12] + b[12];\r\n    out[13] = a[13] + b[13];\r\n    out[14] = a[14] + b[14];\r\n    out[15] = a[15] + b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    out[9] = a[9] - b[9];\r\n    out[10] = a[10] - b[10];\r\n    out[11] = a[11] - b[11];\r\n    out[12] = a[12] - b[12];\r\n    out[13] = a[13] - b[13];\r\n    out[14] = a[14] - b[14];\r\n    out[15] = a[15] - b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    out[9] = a[9] * b;\r\n    out[10] = a[10] * b;\r\n    out[11] = a[11] * b;\r\n    out[12] = a[12] * b;\r\n    out[13] = a[13] * b;\r\n    out[14] = a[14] * b;\r\n    out[15] = a[15] * b;\r\n    return out;\r\n}\r\n","import * as Mat4Func from './functions/Mat4Func.js';\r\n\r\nexport class Mat4 extends Array {\r\n    constructor(\r\n        m00 = 1,\r\n        m01 = 0,\r\n        m02 = 0,\r\n        m03 = 0,\r\n        m10 = 0,\r\n        m11 = 1,\r\n        m12 = 0,\r\n        m13 = 0,\r\n        m20 = 0,\r\n        m21 = 0,\r\n        m22 = 1,\r\n        m23 = 0,\r\n        m30 = 0,\r\n        m31 = 0,\r\n        m32 = 0,\r\n        m33 = 1\r\n    ) {\r\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[12];\r\n    }\r\n\r\n    get y() {\r\n        return this[13];\r\n    }\r\n\r\n    get z() {\r\n        return this[14];\r\n    }\r\n\r\n    get w() {\r\n        return this[15];\r\n    }\r\n\r\n    set x(v) {\r\n        this[12] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[13] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[14] = v;\r\n    }\r\n\r\n    set w(v) {\r\n        this[15] = v;\r\n    }\r\n\r\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat4Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, axis, m = this) {\r\n        Mat4Func.rotate(this, m, v, axis);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat4Func.scale(this, m, typeof v === 'number' ? [v, v, v] : v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat4Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat4Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat4Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat4Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromPerspective({ fov, aspect, near, far } = {}) {\r\n        Mat4Func.perspective(this, fov, aspect, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\r\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat4Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    setPosition(v) {\r\n        this.x = v[0];\r\n        this.y = v[1];\r\n        this.z = v[2];\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat4Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    compose(q, pos, scale) {\r\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\r\n        return this;\r\n    }\r\n\r\n    getRotation(q) {\r\n        Mat4Func.getRotation(q, this);\r\n        return this;\r\n    }\r\n\r\n    getTranslation(pos) {\r\n        Mat4Func.getTranslation(pos, this);\r\n        return this;\r\n    }\r\n\r\n    getScaling(scale) {\r\n        Mat4Func.getScaling(scale, this);\r\n        return this;\r\n    }\r\n\r\n    getMaxScaleOnAxis() {\r\n        return Mat4Func.getMaxScaleOnAxis(this);\r\n    }\r\n\r\n    lookAt(eye, target, up) {\r\n        Mat4Func.targetTo(this, eye, target, up);\r\n        return this;\r\n    }\r\n\r\n    determinant() {\r\n        return Mat4Func.determinant(this);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        this[3] = a[o + 3];\r\n        this[4] = a[o + 4];\r\n        this[5] = a[o + 5];\r\n        this[6] = a[o + 6];\r\n        this[7] = a[o + 7];\r\n        this[8] = a[o + 8];\r\n        this[9] = a[o + 9];\r\n        this[10] = a[o + 10];\r\n        this[11] = a[o + 11];\r\n        this[12] = a[o + 12];\r\n        this[13] = a[o + 13];\r\n        this[14] = a[o + 14];\r\n        this[15] = a[o + 15];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        a[o + 3] = this[3];\r\n        a[o + 4] = this[4];\r\n        a[o + 5] = this[5];\r\n        a[o + 6] = this[6];\r\n        a[o + 7] = this[7];\r\n        a[o + 8] = this[8];\r\n        a[o + 9] = this[9];\r\n        a[o + 10] = this[10];\r\n        a[o + 11] = this[11];\r\n        a[o + 12] = this[12];\r\n        a[o + 13] = this[13];\r\n        a[o + 14] = this[14];\r\n        a[o + 15] = this[15];\r\n        return a;\r\n    }\r\n}\r\n","// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\r\n    if (order === 'XYZ') {\r\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\r\n        if (Math.abs(m[8]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'YXZ') {\r\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\r\n        if (Math.abs(m[9]) < 0.99999) {\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n            out[2] = Math.atan2(m[1], m[5]);\r\n        } else {\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'ZXY') {\r\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\r\n        if (Math.abs(m[6]) < 0.99999) {\r\n            out[1] = Math.atan2(-m[2], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        } else {\r\n            out[1] = 0;\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        }\r\n    } else if (order === 'ZYX') {\r\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\r\n        if (Math.abs(m[2]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[10]);\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        }\r\n    } else if (order === 'YZX') {\r\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\r\n        if (Math.abs(m[1]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[5]);\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n        }\r\n    } else if (order === 'XZY') {\r\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\r\n        if (Math.abs(m[4]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[1] = Math.atan2(m[8], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[1] = 0;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n","import * as EulerFunc from './functions/EulerFunc.js';\r\nimport { Mat4 } from './Mat4.js';\r\n\r\nconst tmpMat4 = new Mat4();\r\n\r\nexport class Euler extends Array {\r\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\r\n        super(x, y, z);\r\n        this.order = order;\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        this[0] = x;\r\n        this[1] = y;\r\n        this[2] = z;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        this[0] = v[0];\r\n        this[1] = v[1];\r\n        this[2] = v[2];\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    reorder(order) {\r\n        this.order = order;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromRotationMatrix(m, order = this.order) {\r\n        EulerFunc.fromRotationMatrix(this, m, order);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q, order = this.order) {\r\n        tmpMat4.fromQuaternion(q);\r\n        return this.fromRotationMatrix(tmpMat4, order);\r\n    }\r\n}\r\n","import { Vec3 } from '../math/Vec3.js';\r\nimport { Quat } from '../math/Quat.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\nimport { Euler } from '../math/Euler.js';\r\n\r\nexport class Transform {\r\n    constructor() {\r\n        this.parent = null;\r\n        this.children = [];\r\n        this.visible = true;\r\n\r\n        this.matrix = new Mat4();\r\n        this.worldMatrix = new Mat4();\r\n        this.matrixAutoUpdate = true;\r\n\r\n        this.position = new Vec3();\r\n        this.quaternion = new Quat();\r\n        this.scale = new Vec3(1);\r\n        this.rotation = new Euler();\r\n        this.up = new Vec3(0, 1, 0);\r\n\r\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\r\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    setParent(parent, notifyParent = true) {\r\n        if (notifyParent && this.parent && parent !== this.parent) this.parent.removeChild(this, false);\r\n        this.parent = parent;\r\n        if (notifyParent && parent) parent.addChild(this, false);\r\n    }\r\n\r\n    addChild(child, notifyChild = true) {\r\n        if (!~this.children.indexOf(child)) this.children.push(child);\r\n        if (notifyChild) child.setParent(this, false);\r\n    }\r\n\r\n    removeChild(child, notifyChild = true) {\r\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\r\n        if (notifyChild) child.setParent(null, false);\r\n    }\r\n\r\n    updateMatrixWorld(force) {\r\n        if (this.matrixAutoUpdate) this.updateMatrix();\r\n        if (this.worldMatrixNeedsUpdate || force) {\r\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\r\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\r\n            this.worldMatrixNeedsUpdate = false;\r\n            force = true;\r\n        }\r\n\r\n        for (let i = 0, l = this.children.length; i < l; i++) {\r\n            this.children[i].updateMatrixWorld(force);\r\n        }\r\n    }\r\n\r\n    updateMatrix() {\r\n        this.matrix.compose(this.quaternion, this.position, this.scale);\r\n        this.worldMatrixNeedsUpdate = true;\r\n    }\r\n\r\n    traverse(callback) {\r\n        // Return true in callback to stop traversing children\r\n        if (callback(this)) return;\r\n        for (let i = 0, l = this.children.length; i < l; i++) {\r\n            this.children[i].traverse(callback);\r\n        }\r\n    }\r\n\r\n    decompose() {\r\n        this.matrix.getTranslation(this.position);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.matrix.getScaling(this.scale);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    lookAt(target, invert = false) {\r\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\r\n        else this.matrix.lookAt(target, this.position, this.up);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n}\r\n","import { Vec3 } from '../math/Vec3.js';\r\n\r\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\r\n\r\n// Not automatic - devs to use these methods manually\r\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n// gl.clearColor( r, g, b, a );\r\n// gl.stencilMask( stencilMask );\r\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\r\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\r\n// gl.clearStencil( stencil );\r\n\r\nconst tempVec3 = new Vec3();\r\nlet ID = 1;\r\n\r\nexport class Renderer {\r\n    constructor({\r\n        canvas = document.createElement('canvas'),\r\n        width = 300,\r\n        height = 150,\r\n        dpr = 1,\r\n        alpha = false,\r\n        depth = true,\r\n        stencil = false,\r\n        antialias = false,\r\n        premultipliedAlpha = false,\r\n        preserveDrawingBuffer = false,\r\n        powerPreference = 'default',\r\n        autoClear = true,\r\n        webgl = 2,\r\n    } = {}) {\r\n        const attributes = { alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference };\r\n        this.dpr = dpr;\r\n        this.alpha = alpha;\r\n        this.color = true;\r\n        this.depth = depth;\r\n        this.stencil = stencil;\r\n        this.premultipliedAlpha = premultipliedAlpha;\r\n        this.autoClear = autoClear;\r\n        this.id = ID++;\r\n\r\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\r\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\r\n        this.isWebgl2 = !!this.gl;\r\n        if (!this.gl) {\r\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\r\n        }\r\n\r\n        // Attach renderer to gl so that all classes have access to internal state functions\r\n        this.gl.renderer = this;\r\n\r\n        // initialise size values\r\n        this.setSize(width, height);\r\n\r\n        // gl state stores to avoid redundant calls on methods used internally\r\n        this.state = {};\r\n        this.state.blendFunc = { src: this.gl.ONE, dst: this.gl.ZERO };\r\n        this.state.blendEquation = { modeRGB: this.gl.FUNC_ADD };\r\n        this.state.cullFace = null;\r\n        this.state.frontFace = this.gl.CCW;\r\n        this.state.depthMask = true;\r\n        this.state.depthFunc = this.gl.LESS;\r\n        this.state.premultiplyAlpha = false;\r\n        this.state.flipY = false;\r\n        this.state.unpackAlignment = 4;\r\n        this.state.framebuffer = null;\r\n        this.state.viewport = { width: null, height: null };\r\n        this.state.textureUnits = [];\r\n        this.state.activeTextureUnit = 0;\r\n        this.state.boundBuffer = null;\r\n        this.state.uniformLocations = new Map();\r\n\r\n        // store requested extensions\r\n        this.extensions = {};\r\n\r\n        // Initialise extra format types\r\n        if (this.isWebgl2) {\r\n            this.getExtension('EXT_color_buffer_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n        } else {\r\n            this.getExtension('OES_texture_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n            this.getExtension('OES_texture_half_float');\r\n            this.getExtension('OES_texture_half_float_linear');\r\n            this.getExtension('OES_element_index_uint');\r\n            this.getExtension('OES_standard_derivatives');\r\n            this.getExtension('EXT_sRGB');\r\n            this.getExtension('WEBGL_depth_texture');\r\n            this.getExtension('WEBGL_draw_buffers');\r\n        }\r\n\r\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\r\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\r\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\r\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\r\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\r\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\r\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\r\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\r\n\r\n        // Store device parameters\r\n        this.parameters = {};\r\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\r\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic')\r\n            ? this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT)\r\n            : 0;\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.gl.canvas.width = width * this.dpr;\r\n        this.gl.canvas.height = height * this.dpr;\r\n\r\n        Object.assign(this.gl.canvas.style, {\r\n            width: width + 'px',\r\n            height: height + 'px',\r\n        });\r\n    }\r\n\r\n    setViewport(width, height) {\r\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\r\n        this.state.viewport.width = width;\r\n        this.state.viewport.height = height;\r\n        this.gl.viewport(0, 0, width, height);\r\n    }\r\n\r\n    enable(id) {\r\n        if (this.state[id] === true) return;\r\n        this.gl.enable(id);\r\n        this.state[id] = true;\r\n    }\r\n\r\n    disable(id) {\r\n        if (this.state[id] === false) return;\r\n        this.gl.disable(id);\r\n        this.state[id] = false;\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        if (\r\n            this.state.blendFunc.src === src &&\r\n            this.state.blendFunc.dst === dst &&\r\n            this.state.blendFunc.srcAlpha === srcAlpha &&\r\n            this.state.blendFunc.dstAlpha === dstAlpha\r\n        )\r\n            return;\r\n        this.state.blendFunc.src = src;\r\n        this.state.blendFunc.dst = dst;\r\n        this.state.blendFunc.srcAlpha = srcAlpha;\r\n        this.state.blendFunc.dstAlpha = dstAlpha;\r\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\r\n        else this.gl.blendFunc(src, dst);\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        if (this.state.blendEquation.modeRGB === modeRGB && this.state.blendEquation.modeAlpha === modeAlpha) return;\r\n        this.state.blendEquation.modeRGB = modeRGB;\r\n        this.state.blendEquation.modeAlpha = modeAlpha;\r\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\r\n        else this.gl.blendEquation(modeRGB);\r\n    }\r\n\r\n    setCullFace(value) {\r\n        if (this.state.cullFace === value) return;\r\n        this.state.cullFace = value;\r\n        this.gl.cullFace(value);\r\n    }\r\n\r\n    setFrontFace(value) {\r\n        if (this.state.frontFace === value) return;\r\n        this.state.frontFace = value;\r\n        this.gl.frontFace(value);\r\n    }\r\n\r\n    setDepthMask(value) {\r\n        if (this.state.depthMask === value) return;\r\n        this.state.depthMask = value;\r\n        this.gl.depthMask(value);\r\n    }\r\n\r\n    setDepthFunc(value) {\r\n        if (this.state.depthFunc === value) return;\r\n        this.state.depthFunc = value;\r\n        this.gl.depthFunc(value);\r\n    }\r\n\r\n    activeTexture(value) {\r\n        if (this.state.activeTextureUnit === value) return;\r\n        this.state.activeTextureUnit = value;\r\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\r\n    }\r\n\r\n    bindFramebuffer({ target = this.gl.FRAMEBUFFER, buffer = null } = {}) {\r\n        if (this.state.framebuffer === buffer) return;\r\n        this.state.framebuffer = buffer;\r\n        this.gl.bindFramebuffer(target, buffer);\r\n    }\r\n\r\n    getExtension(extension, webgl2Func, extFunc) {\r\n        // if webgl2 function supported, return func bound to gl context\r\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\r\n\r\n        // fetch extension once only\r\n        if (!this.extensions[extension]) {\r\n            this.extensions[extension] = this.gl.getExtension(extension);\r\n        }\r\n\r\n        // return extension if no function requested\r\n        if (!webgl2Func) return this.extensions[extension];\r\n\r\n        // Return null if extension not supported\r\n        if (!this.extensions[extension]) return null;\r\n\r\n        // return extension function, bound to extension\r\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\r\n    }\r\n\r\n    sortOpaque(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else if (a.zDepth !== b.zDepth) {\r\n            return a.zDepth - b.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortTransparent(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        }\r\n        if (a.zDepth !== b.zDepth) {\r\n            return b.zDepth - a.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortUI(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    getRenderList({ scene, camera, frustumCull, sort }) {\r\n        let renderList = [];\r\n\r\n        if (camera && frustumCull) camera.updateFrustum();\r\n\r\n        // Get visible\r\n        scene.traverse((node) => {\r\n            if (!node.visible) return true;\r\n            if (!node.draw) return;\r\n\r\n            if (frustumCull && node.frustumCulled && camera) {\r\n                if (!camera.frustumIntersectsMesh(node)) return;\r\n            }\r\n\r\n            renderList.push(node);\r\n        });\r\n\r\n        if (sort) {\r\n            const opaque = [];\r\n            const transparent = []; // depthTest true\r\n            const ui = []; // depthTest false\r\n\r\n            renderList.forEach((node) => {\r\n                // Split into the 3 render groups\r\n                if (!node.program.transparent) {\r\n                    opaque.push(node);\r\n                } else if (node.program.depthTest) {\r\n                    transparent.push(node);\r\n                } else {\r\n                    ui.push(node);\r\n                }\r\n\r\n                node.zDepth = 0;\r\n\r\n                // Only calculate z-depth if renderOrder unset and depthTest is true\r\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\r\n\r\n                // update z-depth\r\n                node.worldMatrix.getTranslation(tempVec3);\r\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\r\n                node.zDepth = tempVec3.z;\r\n            });\r\n\r\n            opaque.sort(this.sortOpaque);\r\n            transparent.sort(this.sortTransparent);\r\n            ui.sort(this.sortUI);\r\n\r\n            renderList = opaque.concat(transparent, ui);\r\n        }\r\n\r\n        return renderList;\r\n    }\r\n\r\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true, clear }) {\r\n        if (target === null) {\r\n            // make sure no render target bound so draws to canvas\r\n            this.bindFramebuffer();\r\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\r\n        } else {\r\n            // bind supplied render target and update viewport\r\n            this.bindFramebuffer(target);\r\n            this.setViewport(target.width, target.height);\r\n        }\r\n\r\n        if (clear || (this.autoClear && clear !== false)) {\r\n            // Ensure depth buffer writing is enabled so it can be cleared\r\n            if (this.depth && (!target || target.depth)) {\r\n                this.enable(this.gl.DEPTH_TEST);\r\n                this.setDepthMask(true);\r\n            }\r\n            this.gl.clear(\r\n                (this.color ? this.gl.COLOR_BUFFER_BIT : 0) |\r\n                    (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) |\r\n                    (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0)\r\n            );\r\n        }\r\n\r\n        // updates all scene graph matrices\r\n        if (update) scene.updateMatrixWorld();\r\n\r\n        // Update camera separately, in case not in scene graph\r\n        if (camera) camera.updateMatrixWorld();\r\n\r\n        // Get render list - entails culling and sorting\r\n        const renderList = this.getRenderList({ scene, camera, frustumCull, sort });\r\n\r\n        renderList.forEach((node) => {\r\n            node.draw({ camera });\r\n        });\r\n    }\r\n}\r\n","import { Transform } from './Transform.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nconst tempMat4 = new Mat4();\r\nconst tempVec3a = new Vec3();\r\nconst tempVec3b = new Vec3();\r\n\r\nexport class Camera extends Transform {\r\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\r\n        super();\r\n\r\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\r\n\r\n        this.projectionMatrix = new Mat4();\r\n        this.viewMatrix = new Mat4();\r\n        this.projectionViewMatrix = new Mat4();\r\n        this.worldPosition = new Vec3();\r\n\r\n        // Use orthographic if left/right set, else default to perspective camera\r\n        this.type = left || right ? 'orthographic' : 'perspective';\r\n\r\n        if (this.type === 'orthographic') this.orthographic();\r\n        else this.perspective();\r\n    }\r\n\r\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\r\n        Object.assign(this, { near, far, fov, aspect });\r\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\r\n        this.type = 'perspective';\r\n        return this;\r\n    }\r\n\r\n    orthographic({\r\n        near = this.near,\r\n        far = this.far,\r\n        left = this.left,\r\n        right = this.right,\r\n        bottom = this.bottom,\r\n        top = this.top,\r\n        zoom = this.zoom,\r\n    } = {}) {\r\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\r\n        left /= zoom;\r\n        right /= zoom;\r\n        bottom /= zoom;\r\n        top /= zoom;\r\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\r\n        this.type = 'orthographic';\r\n        return this;\r\n    }\r\n\r\n    updateMatrixWorld() {\r\n        super.updateMatrixWorld();\r\n        this.viewMatrix.inverse(this.worldMatrix);\r\n        this.worldMatrix.getTranslation(this.worldPosition);\r\n\r\n        // used for sorting\r\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\r\n        return this;\r\n    }\r\n\r\n    lookAt(target) {\r\n        super.lookAt(target, true);\r\n        return this;\r\n    }\r\n\r\n    // Project 3D coordinate to 2D point\r\n    project(v) {\r\n        v.applyMatrix4(this.viewMatrix);\r\n        v.applyMatrix4(this.projectionMatrix);\r\n        return this;\r\n    }\r\n\r\n    // Unproject 2D point to 3D coordinate\r\n    unproject(v) {\r\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\r\n        v.applyMatrix4(this.worldMatrix);\r\n        return this;\r\n    }\r\n\r\n    updateFrustum() {\r\n        if (!this.frustum) {\r\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\r\n        }\r\n\r\n        const m = this.projectionViewMatrix;\r\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\r\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\r\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\r\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\r\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\r\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const invLen = 1.0 / this.frustum[i].distance();\r\n            this.frustum[i].multiply(invLen);\r\n            this.frustum[i].constant *= invLen;\r\n        }\r\n    }\r\n\r\n    frustumIntersectsMesh(node) {\r\n        // If no position attribute, treat as frustumCulled false\r\n        if (!node.geometry.attributes.position) return true;\r\n\r\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\r\n\r\n        if (!node.geometry.bounds) return true;\r\n\r\n        const center = tempVec3a;\r\n        center.copy(node.geometry.bounds.center);\r\n        center.applyMatrix4(node.worldMatrix);\r\n\r\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\r\n\r\n        return this.frustumIntersectsSphere(center, radius);\r\n    }\r\n\r\n    frustumIntersectsSphere(center, radius) {\r\n        const normal = tempVec3b;\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const plane = this.frustum[i];\r\n            const distance = normal.copy(plane).dot(center) + plane.constant;\r\n            if (distance < -radius) return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\r\nexport function set(out, x, y) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return x * x + y * y;\r\n}\r\n\r\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\n\r\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return x * x + y * y;\r\n}\r\n\r\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\r\nexport function normalize(out, a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    var len = x * x + y * y;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1];\r\n}\r\n\r\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product returns a scalar\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} cross product of a and b\r\n */\r\nexport function cross(a, b) {\r\n    return a[0] * b[1] - a[1] * b[0];\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec2} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    var ax = a[0],\r\n        ay = a[1];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y;\r\n    out[1] = m[1] * x + m[3] * y;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2d(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y + m[4];\r\n    out[1] = m[1] * x + m[3] * y + m[5];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[3] * y + m[6];\r\n    out[1] = m[1] * x + m[4] * y + m[7];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    out[0] = m[0] * x + m[4] * y + m[12];\r\n    out[1] = m[1] * x + m[5] * y + m[13];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1];\r\n}\r\n","import * as Vec2Func from './functions/Vec2Func.js';\r\n\r\nexport class Vec2 extends Array {\r\n    constructor(x = 0, y = x) {\r\n        super(x, y);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set(x, y = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec2Func.set(this, x, y);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec2Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec2Func.add(this, va, vb);\r\n        else Vec2Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec2Func.subtract(this, va, vb);\r\n        else Vec2Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec2Func.multiply(this, this, v);\r\n        else Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec2Func.divide(this, this, v);\r\n        else Vec2Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec2Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec2Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec2Func.distance(this, v);\r\n        else return Vec2Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return this.squaredDistance();\r\n    }\r\n\r\n    squaredDistance(v) {\r\n        if (v) return Vec2Func.squaredDistance(this, v);\r\n        else return Vec2Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec2Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if (vb) return Vec2Func.cross(va, vb);\r\n        return Vec2Func.cross(this, va);\r\n    }\r\n\r\n    scale(v) {\r\n        Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec2Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec2Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec2Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix3(mat3) {\r\n        Vec2Func.transformMat3(this, this, mat3);\r\n        return this;\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec2Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    lerp(v, a) {\r\n        Vec2Func.lerp(this, this, v, a);\r\n    }\r\n\r\n    clone() {\r\n        return new Vec2(this[0], this[1]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        return a;\r\n    }\r\n}\r\n","// TODO: upload empty texture if null ? maybe not\r\n// TODO: upload identity matrix if null ?\r\n// TODO: sampler Cube\r\n\r\nlet ID = 1;\r\n\r\n// cache of typed arrays used to flatten uniform arrays\r\nconst arrayCacheF32 = {};\r\n\r\nexport class Program {\r\n    constructor(\r\n        gl,\r\n        {\r\n            vertex,\r\n            fragment,\r\n            uniforms = {},\r\n\r\n            transparent = false,\r\n            cullFace = gl.BACK,\r\n            frontFace = gl.CCW,\r\n            depthTest = true,\r\n            depthWrite = true,\r\n            depthFunc = gl.LESS,\r\n        } = {}\r\n    ) {\r\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\r\n        this.gl = gl;\r\n        this.uniforms = uniforms;\r\n        this.id = ID++;\r\n\r\n        if (!vertex) console.warn('vertex shader not supplied');\r\n        if (!fragment) console.warn('fragment shader not supplied');\r\n\r\n        // Store program state\r\n        this.transparent = transparent;\r\n        this.cullFace = cullFace;\r\n        this.frontFace = frontFace;\r\n        this.depthTest = depthTest;\r\n        this.depthWrite = depthWrite;\r\n        this.depthFunc = depthFunc;\r\n        this.blendFunc = {};\r\n        this.blendEquation = {};\r\n\r\n        // set default blendFunc if transparent flagged\r\n        if (this.transparent && !this.blendFunc.src) {\r\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n        }\r\n\r\n        // compile vertex shader and log errors\r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        gl.shaderSource(vertexShader, vertex);\r\n        gl.compileShader(vertexShader);\r\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\r\n        }\r\n\r\n        // compile fragment shader and log errors\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n        gl.shaderSource(fragmentShader, fragment);\r\n        gl.compileShader(fragmentShader);\r\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\r\n        }\r\n\r\n        // compile program and log errors\r\n        this.program = gl.createProgram();\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            return console.warn(gl.getProgramInfoLog(this.program));\r\n        }\r\n\r\n        // Remove shader once linked\r\n        gl.deleteShader(vertexShader);\r\n        gl.deleteShader(fragmentShader);\r\n\r\n        // Get active uniform locations\r\n        this.uniformLocations = new Map();\r\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\r\n            let uniform = gl.getActiveUniform(this.program, uIndex);\r\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\r\n\r\n            // split uniforms' names to separate array and struct declarations\r\n            const split = uniform.name.match(/(\\w+)/g);\r\n\r\n            uniform.uniformName = split[0];\r\n\r\n            if (split.length === 3) {\r\n                uniform.isStructArray = true;\r\n                uniform.structIndex = Number(split[1]);\r\n                uniform.structProperty = split[2];\r\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\r\n                uniform.isStruct = true;\r\n                uniform.structProperty = split[1];\r\n            }\r\n        }\r\n\r\n        // Get active attribute locations\r\n        this.attributeLocations = new Map();\r\n        const locations = [];\r\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\r\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\r\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\r\n            const location = gl.getAttribLocation(this.program, attribute.name);\r\n            locations[location] = attribute.name;\r\n            this.attributeLocations.set(attribute, location);\r\n        }\r\n        this.attributeOrder = locations.join('');\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        this.blendFunc.src = src;\r\n        this.blendFunc.dst = dst;\r\n        this.blendFunc.srcAlpha = srcAlpha;\r\n        this.blendFunc.dstAlpha = dstAlpha;\r\n        if (src) this.transparent = true;\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        this.blendEquation.modeRGB = modeRGB;\r\n        this.blendEquation.modeAlpha = modeAlpha;\r\n    }\r\n\r\n    applyState() {\r\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\r\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\r\n\r\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\r\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\r\n\r\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\r\n        else this.gl.renderer.disable(this.gl.BLEND);\r\n\r\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\r\n        this.gl.renderer.setFrontFace(this.frontFace);\r\n        this.gl.renderer.setDepthMask(this.depthWrite);\r\n        this.gl.renderer.setDepthFunc(this.depthFunc);\r\n        if (this.blendFunc.src)\r\n            this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\r\n        if (this.blendEquation.modeRGB) this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\r\n    }\r\n\r\n    use({ flipFaces = false } = {}) {\r\n        let textureUnit = -1;\r\n        const programActive = this.gl.renderer.currentProgram === this.id;\r\n\r\n        // Avoid gl call if program already in use\r\n        if (!programActive) {\r\n            this.gl.useProgram(this.program);\r\n            this.gl.renderer.currentProgram = this.id;\r\n        }\r\n\r\n        // Set only the active uniforms found in the shader\r\n        this.uniformLocations.forEach((location, activeUniform) => {\r\n            let name = activeUniform.uniformName;\r\n\r\n            // get supplied uniform\r\n            let uniform = this.uniforms[name];\r\n\r\n            // For structs, get the specific property instead of the entire object\r\n            if (activeUniform.isStruct) {\r\n                uniform = uniform[activeUniform.structProperty];\r\n                name += `.${activeUniform.structProperty}`;\r\n            }\r\n            if (activeUniform.isStructArray) {\r\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\r\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\r\n            }\r\n\r\n            if (!uniform) {\r\n                return warn(`Active uniform ${name} has not been supplied`);\r\n            }\r\n\r\n            if (uniform && uniform.value === undefined) {\r\n                return warn(`${name} uniform is missing a value parameter`);\r\n            }\r\n\r\n            if (uniform.value.texture) {\r\n                textureUnit = textureUnit + 1;\r\n\r\n                // Check if texture needs to be updated\r\n                uniform.value.update(textureUnit);\r\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\r\n            }\r\n\r\n            // For texture arrays, set uniform as an array of texture units instead of just one\r\n            if (uniform.value.length && uniform.value[0].texture) {\r\n                const textureUnits = [];\r\n                uniform.value.forEach((value) => {\r\n                    textureUnit = textureUnit + 1;\r\n                    value.update(textureUnit);\r\n                    textureUnits.push(textureUnit);\r\n                });\r\n\r\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\r\n            }\r\n\r\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\r\n        });\r\n\r\n        this.applyState();\r\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\r\n    }\r\n\r\n    remove() {\r\n        this.gl.deleteProgram(this.program);\r\n    }\r\n}\r\n\r\nfunction setUniform(gl, type, location, value) {\r\n    value = value.length ? flatten(value) : value;\r\n    const setValue = gl.renderer.state.uniformLocations.get(location);\r\n\r\n    // Avoid redundant uniform commands\r\n    if (value.length) {\r\n        if (setValue === undefined || setValue.length !== value.length) {\r\n            // clone array to store as cache\r\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\r\n        } else {\r\n            if (arraysEqual(setValue, value)) return;\r\n\r\n            // Update cached array values\r\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\r\n            gl.renderer.state.uniformLocations.set(location, setValue);\r\n        }\r\n    } else {\r\n        if (setValue === value) return;\r\n        gl.renderer.state.uniformLocations.set(location, value);\r\n    }\r\n\r\n    switch (type) {\r\n        case 5126:\r\n            return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\r\n        case 35664:\r\n            return gl.uniform2fv(location, value); // FLOAT_VEC2\r\n        case 35665:\r\n            return gl.uniform3fv(location, value); // FLOAT_VEC3\r\n        case 35666:\r\n            return gl.uniform4fv(location, value); // FLOAT_VEC4\r\n        case 35670: // BOOL\r\n        case 5124: // INT\r\n        case 35678: // SAMPLER_2D\r\n        case 35680:\r\n            return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\r\n        case 35671: // BOOL_VEC2\r\n        case 35667:\r\n            return gl.uniform2iv(location, value); // INT_VEC2\r\n        case 35672: // BOOL_VEC3\r\n        case 35668:\r\n            return gl.uniform3iv(location, value); // INT_VEC3\r\n        case 35673: // BOOL_VEC4\r\n        case 35669:\r\n            return gl.uniform4iv(location, value); // INT_VEC4\r\n        case 35674:\r\n            return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\r\n        case 35675:\r\n            return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\r\n        case 35676:\r\n            return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\r\n    }\r\n}\r\n\r\nfunction addLineNumbers(string) {\r\n    let lines = string.split('\\n');\r\n    for (let i = 0; i < lines.length; i++) {\r\n        lines[i] = i + 1 + ': ' + lines[i];\r\n    }\r\n    return lines.join('\\n');\r\n}\r\n\r\nfunction flatten(a) {\r\n    const arrayLen = a.length;\r\n    const valueLen = a[0].length;\r\n    if (valueLen === undefined) return a;\r\n    const length = arrayLen * valueLen;\r\n    let value = arrayCacheF32[length];\r\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\r\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\r\n    return value;\r\n}\r\n\r\nfunction arraysEqual(a, b) {\r\n    if (a.length !== b.length) return false;\r\n    for (let i = 0, l = a.length; i < l; i++) {\r\n        if (a[i] !== b[i]) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction setArray(a, b) {\r\n    for (let i = 0, l = a.length; i < l; i++) {\r\n        a[i] = b[i];\r\n    }\r\n}\r\n\r\nlet warnCount = 0;\r\nfunction warn(message) {\r\n    if (warnCount > 100) return;\r\n    console.warn(message);\r\n    warnCount++;\r\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\r\nexport function fromMat4(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[4];\r\n    out[4] = a[5];\r\n    out[5] = a[6];\r\n    out[6] = a[8];\r\n    out[7] = a[9];\r\n    out[8] = a[10];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[3] = yx - wz;\r\n    out[6] = zx + wy;\r\n\r\n    out[1] = yx + wz;\r\n    out[4] = 1 - xx - zz;\r\n    out[7] = zy - wx;\r\n\r\n    out[2] = zx - wy;\r\n    out[5] = zy + wx;\r\n    out[8] = 1 - xx - yy;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m10;\r\n    out[4] = m11;\r\n    out[5] = m12;\r\n    out[6] = m20;\r\n    out[7] = m21;\r\n    out[8] = m22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 1;\r\n    out[5] = 0;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1],\r\n            a02 = a[2],\r\n            a12 = a[5];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a01;\r\n        out[5] = a[7];\r\n        out[6] = a02;\r\n        out[7] = a12;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a[1];\r\n        out[4] = a[4];\r\n        out[5] = a[7];\r\n        out[6] = a[2];\r\n        out[7] = a[5];\r\n        out[8] = a[8];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    let b01 = a22 * a11 - a12 * a21;\r\n    let b11 = -a22 * a10 + a12 * a20;\r\n    let b21 = a21 * a10 - a11 * a20;\r\n\r\n    // Calculate the determinant\r\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = b01 * det;\r\n    out[1] = (-a22 * a01 + a02 * a21) * det;\r\n    out[2] = (a12 * a01 - a02 * a11) * det;\r\n    out[3] = b11 * det;\r\n    out[4] = (a22 * a00 - a02 * a20) * det;\r\n    out[5] = (-a12 * a00 + a02 * a10) * det;\r\n    out[6] = b21 * det;\r\n    out[7] = (-a21 * a00 + a01 * a20) * det;\r\n    out[8] = (a11 * a00 - a01 * a10) * det;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\r\n}\r\n\r\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    let b00 = b[0],\r\n        b01 = b[1],\r\n        b02 = b[2];\r\n    let b10 = b[3],\r\n        b11 = b[4],\r\n        b12 = b[5];\r\n    let b20 = b[6],\r\n        b21 = b[7],\r\n        b22 = b[8];\r\n\r\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\r\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\r\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\r\n\r\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\r\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\r\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\r\n\r\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\r\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\r\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5],\r\n        a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8],\r\n        x = v[0],\r\n        y = v[1];\r\n\r\n    out[0] = a00;\r\n    out[1] = a01;\r\n    out[2] = a02;\r\n\r\n    out[3] = a10;\r\n    out[4] = a11;\r\n    out[5] = a12;\r\n\r\n    out[6] = x * a00 + y * a10 + a20;\r\n    out[7] = x * a01 + y * a11 + a21;\r\n    out[8] = x * a02 + y * a12 + a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\r\nexport function rotate(out, a, rad) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5],\r\n        a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8],\r\n        s = Math.sin(rad),\r\n        c = Math.cos(rad);\r\n\r\n    out[0] = c * a00 + s * a10;\r\n    out[1] = c * a01 + s * a11;\r\n    out[2] = c * a02 + s * a12;\r\n\r\n    out[3] = c * a10 - s * a00;\r\n    out[4] = c * a11 - s * a01;\r\n    out[5] = c * a12 - s * a02;\r\n\r\n    out[6] = a20;\r\n    out[7] = a21;\r\n    out[8] = a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1];\r\n\r\n    out[0] = x * a[0];\r\n    out[1] = x * a[1];\r\n    out[2] = x * a[2];\r\n\r\n    out[3] = y * a[3];\r\n    out[4] = y * a[4];\r\n    out[5] = y * a[5];\r\n\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {mat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function normalFromMat4(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n\r\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n\r\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\r\nexport function projection(out, width, height) {\r\n    out[0] = 2 / width;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = -2 / height;\r\n    out[5] = 0;\r\n    out[6] = -1;\r\n    out[7] = 1;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    return out;\r\n}\r\n","import * as Mat3Func from './functions/Mat3Func.js';\r\n\r\nexport class Mat3 extends Array {\r\n    constructor(m00 = 1, m01 = 0, m02 = 0, m10 = 0, m11 = 1, m12 = 0, m20 = 0, m21 = 0, m22 = 1) {\r\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat3Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, m = this) {\r\n        Mat3Func.rotate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat3Func.scale(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat3Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat3Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat3Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat3Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromMatrix4(m) {\r\n        Mat3Func.fromMat4(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat3Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    fromBasis(vec3a, vec3b, vec3c) {\r\n        this.set(vec3a[0], vec3a[1], vec3a[2], vec3b[0], vec3b[1], vec3b[2], vec3c[0], vec3c[1], vec3c[2]);\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat3Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    getNormalMatrix(m) {\r\n        Mat3Func.normalFromMat4(this, m);\r\n        return this;\r\n    }\r\n}\r\n","import { Transform } from './Transform.js';\r\nimport { Mat3 } from '../math/Mat3.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\n\r\nlet ID = 0;\r\n\r\nexport class Mesh extends Transform {\r\n    constructor(gl, { geometry, program, mode = gl.TRIANGLES, frustumCulled = true, renderOrder = 0 } = {}) {\r\n        super();\r\n        if (!gl.canvas) console.error('gl not passed as first argument to Mesh');\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n        this.geometry = geometry;\r\n        this.program = program;\r\n        this.mode = mode;\r\n\r\n        // Used to skip frustum culling\r\n        this.frustumCulled = frustumCulled;\r\n\r\n        // Override sorting to force an order\r\n        this.renderOrder = renderOrder;\r\n        this.modelViewMatrix = new Mat4();\r\n        this.normalMatrix = new Mat3();\r\n        this.beforeRenderCallbacks = [];\r\n        this.afterRenderCallbacks = [];\r\n    }\r\n\r\n    onBeforeRender(f) {\r\n        this.beforeRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    onAfterRender(f) {\r\n        this.afterRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    draw({ camera } = {}) {\r\n        this.beforeRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\r\n        if (camera) {\r\n            // Add empty matrix uniforms to program if unset\r\n            if (!this.program.uniforms.modelMatrix) {\r\n                Object.assign(this.program.uniforms, {\r\n                    modelMatrix: { value: null },\r\n                    viewMatrix: { value: null },\r\n                    modelViewMatrix: { value: null },\r\n                    normalMatrix: { value: null },\r\n                    projectionMatrix: { value: null },\r\n                    cameraPosition: { value: null },\r\n                });\r\n            }\r\n\r\n            // Set the matrix uniforms\r\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\r\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\r\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\r\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\r\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\r\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\r\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\r\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\r\n        }\r\n\r\n        // determine if faces need to be flipped - when mesh scaled negatively\r\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\r\n        this.program.use({ flipFaces });\r\n        this.geometry.draw({ mode: this.mode, program: this.program });\r\n        this.afterRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\r\n    }\r\n}\r\n","// TODO: delete texture\r\n// TODO: use texSubImage2D for updates (video or when loaded)\r\n// TODO: need? encoding = linearEncoding\r\n// TODO: support non-compressed mipmaps uploads\r\n\r\nconst emptyPixel = new Uint8Array(4);\r\n\r\nfunction isPowerOf2(value) {\r\n    return (value & (value - 1)) === 0;\r\n}\r\n\r\nlet ID = 1;\r\n\r\nexport class Texture {\r\n    constructor(\r\n        gl,\r\n        {\r\n            image,\r\n            target = gl.TEXTURE_2D,\r\n            type = gl.UNSIGNED_BYTE,\r\n            format = gl.RGBA,\r\n            internalFormat = format,\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            generateMipmaps = true,\r\n            minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\r\n            magFilter = gl.LINEAR,\r\n            premultiplyAlpha = false,\r\n            unpackAlignment = 4,\r\n            flipY = target == gl.TEXTURE_2D ? true : false,\r\n            anisotropy = 0,\r\n            level = 0,\r\n            width, // used for RenderTargets or Data Textures\r\n            height = width,\r\n        } = {}\r\n    ) {\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n\r\n        this.image = image;\r\n        this.target = target;\r\n        this.type = type;\r\n        this.format = format;\r\n        this.internalFormat = internalFormat;\r\n        this.minFilter = minFilter;\r\n        this.magFilter = magFilter;\r\n        this.wrapS = wrapS;\r\n        this.wrapT = wrapT;\r\n        this.generateMipmaps = generateMipmaps;\r\n        this.premultiplyAlpha = premultiplyAlpha;\r\n        this.unpackAlignment = unpackAlignment;\r\n        this.flipY = flipY;\r\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\r\n        this.level = level;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.texture = this.gl.createTexture();\r\n\r\n        this.store = {\r\n            image: null,\r\n        };\r\n\r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // State store to avoid redundant calls for per-texture state\r\n        this.state = {};\r\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\r\n        this.state.magFilter = this.gl.LINEAR;\r\n        this.state.wrapS = this.gl.REPEAT;\r\n        this.state.wrapT = this.gl.REPEAT;\r\n        this.state.anisotropy = 0;\r\n    }\r\n\r\n    bind() {\r\n        // Already bound to active texture unit\r\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\r\n        this.gl.bindTexture(this.target, this.texture);\r\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\r\n    }\r\n\r\n    update(textureUnit = 0) {\r\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\r\n\r\n        // Make sure that texture is bound to its texture unit\r\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\r\n            // set active texture unit to perform texture functions\r\n            this.gl.renderer.activeTexture(textureUnit);\r\n            this.bind();\r\n        }\r\n\r\n        if (!needsUpdate) return;\r\n        this.needsUpdate = false;\r\n\r\n        if (this.flipY !== this.glState.flipY) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\r\n            this.glState.flipY = this.flipY;\r\n        }\r\n\r\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\r\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\r\n        }\r\n\r\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\r\n            this.glState.unpackAlignment = this.unpackAlignment;\r\n        }\r\n\r\n        if (this.minFilter !== this.state.minFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\r\n            this.state.minFilter = this.minFilter;\r\n        }\r\n\r\n        if (this.magFilter !== this.state.magFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\r\n            this.state.magFilter = this.magFilter;\r\n        }\r\n\r\n        if (this.wrapS !== this.state.wrapS) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\r\n            this.state.wrapS = this.wrapS;\r\n        }\r\n\r\n        if (this.wrapT !== this.state.wrapT) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\r\n            this.state.wrapT = this.wrapT;\r\n        }\r\n\r\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\r\n            this.gl.texParameterf(\r\n                this.target,\r\n                this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT,\r\n                this.anisotropy\r\n            );\r\n            this.state.anisotropy = this.anisotropy;\r\n        }\r\n\r\n        if (this.image) {\r\n            if (this.image.width) {\r\n                this.width = this.image.width;\r\n                this.height = this.image.height;\r\n            }\r\n\r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n                // For cube maps\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(\r\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\r\n                        this.level,\r\n                        this.internalFormat,\r\n                        this.format,\r\n                        this.type,\r\n                        this.image[i]\r\n                    );\r\n                }\r\n            } else if (ArrayBuffer.isView(this.image)) {\r\n                // Data texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\r\n            } else if (this.image.isCompressedTexture) {\r\n                // Compressed texture\r\n                for (let level = 0; level < this.image.length; level++) {\r\n                    this.gl.compressedTexImage2D(\r\n                        this.target,\r\n                        level,\r\n                        this.internalFormat,\r\n                        this.image[level].width,\r\n                        this.image[level].height,\r\n                        0,\r\n                        this.image[level].data\r\n                    );\r\n                }\r\n            } else {\r\n                // Regular texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\r\n            }\r\n\r\n            if (this.generateMipmaps) {\r\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\r\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\r\n                    this.generateMipmaps = false;\r\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\r\n                    this.minFilter = this.gl.LINEAR;\r\n                } else {\r\n                    this.gl.generateMipmap(this.target);\r\n                }\r\n            }\r\n\r\n            // Callback for when data is pushed to GPU\r\n            this.onUpdate && this.onUpdate();\r\n        } else {\r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(\r\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\r\n                        0,\r\n                        this.gl.RGBA,\r\n                        1,\r\n                        1,\r\n                        0,\r\n                        this.gl.RGBA,\r\n                        this.gl.UNSIGNED_BYTE,\r\n                        emptyPixel\r\n                    );\r\n                }\r\n            } else if (this.width) {\r\n                // image intentionally left null for RenderTarget\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\r\n            } else {\r\n                // Upload empty pixel if no image to avoid errors while image or video loading\r\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\r\n            }\r\n        }\r\n        this.store.image = this.image;\r\n    }\r\n}\r\n","// TODO: multi target rendering\r\n// TODO: test stencil and depth\r\n// TODO: destroy\r\n// TODO: blit on resize?\r\nimport { Texture } from './Texture.js';\r\n\r\nexport class RenderTarget {\r\n    constructor(\r\n        gl,\r\n        {\r\n            width = gl.canvas.width,\r\n            height = gl.canvas.height,\r\n            target = gl.FRAMEBUFFER,\r\n            color = 1, // number of color attachments\r\n            depth = true,\r\n            stencil = false,\r\n            depthTexture = false, // note - stencil breaks\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            minFilter = gl.LINEAR,\r\n            magFilter = minFilter,\r\n            type = gl.UNSIGNED_BYTE,\r\n            format = gl.RGBA,\r\n            internalFormat = format,\r\n            unpackAlignment,\r\n            premultiplyAlpha,\r\n        } = {}\r\n    ) {\r\n        this.gl = gl;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.depth = depth;\r\n        this.buffer = this.gl.createFramebuffer();\r\n        this.target = target;\r\n        this.gl.bindFramebuffer(this.target, this.buffer);\r\n\r\n        this.textures = [];\r\n        const drawBuffers = [];\r\n\r\n        // create and attach required num of color textures\r\n        for (let i = 0; i < color; i++) {\r\n            this.textures.push(\r\n                new Texture(gl, {\r\n                    width,\r\n                    height,\r\n                    wrapS,\r\n                    wrapT,\r\n                    minFilter,\r\n                    magFilter,\r\n                    type,\r\n                    format,\r\n                    internalFormat,\r\n                    unpackAlignment,\r\n                    premultiplyAlpha,\r\n                    flipY: false,\r\n                    generateMipmaps: false,\r\n                })\r\n            );\r\n            this.textures[i].update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\r\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\r\n        }\r\n\r\n        // For multi-render targets shader access\r\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\r\n\r\n        // alias for majority of use cases\r\n        this.texture = this.textures[0];\r\n\r\n        // note depth textures break stencil - so can't use together\r\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\r\n            this.depthTexture = new Texture(gl, {\r\n                width,\r\n                height,\r\n                minFilter: this.gl.NEAREST,\r\n                magFilter: this.gl.NEAREST,\r\n                format: this.gl.DEPTH_COMPONENT,\r\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\r\n                type: this.gl.UNSIGNED_INT,\r\n            });\r\n            this.depthTexture.update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\r\n        } else {\r\n            // Render buffers\r\n            if (depth && !stencil) {\r\n                this.depthBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\r\n            }\r\n\r\n            if (stencil && !depth) {\r\n                this.stencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\r\n            }\r\n\r\n            if (depth && stencil) {\r\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n            }\r\n        }\r\n\r\n        this.gl.bindFramebuffer(this.target, null);\r\n    }\r\n}\r\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","// attribute params\r\n// {\r\n//     data - typed array eg UInt16Array for indices, Float32Array\r\n//     size - int default 1\r\n//     instanced - default null. Pass divisor amount\r\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\r\n//     normalized - boolean default false\r\n\r\n//     buffer - gl buffer, if buffer exists, don't need to provide data\r\n//     stride - default 0 - for when passing in buffer\r\n//     offset - default 0 - for when passing in buffer\r\n//     count - default null - for when passing in buffer\r\n//     min - array - for when passing in buffer\r\n//     max - array - for when passing in buffer\r\n// }\r\n\r\n// TODO: fit in transform feedback\r\n// TODO: when would I disableVertexAttribArray ?\r\n// TODO: use offset/stride if exists\r\n\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nconst tempVec3 = new Vec3();\r\n\r\nlet ID = 1;\r\nlet ATTR_ID = 1;\r\n\r\n// To stop inifinite warnings\r\nlet isBoundsWarned = false;\r\n\r\nexport class Geometry {\r\n    constructor(gl, attributes = {}) {\r\n        if (!gl.canvas) console.error('gl not passed as first argument to Geometry');\r\n        this.gl = gl;\r\n        this.attributes = attributes;\r\n        this.id = ID++;\r\n\r\n        // Store one VAO per program attribute locations order\r\n        this.VAOs = {};\r\n\r\n        this.drawRange = { start: 0, count: 0 };\r\n        this.instancedCount = 0;\r\n\r\n        // Unbind current VAO so that new buffers don't get added to active mesh\r\n        this.gl.renderer.bindVertexArray(null);\r\n        this.gl.renderer.currentGeometry = null;\r\n\r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // create the buffers\r\n        for (let key in attributes) {\r\n            this.addAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n\r\n    addAttribute(key, attr) {\r\n        this.attributes[key] = attr;\r\n\r\n        // Set options\r\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\r\n        attr.size = attr.size || 1;\r\n        attr.type =\r\n            attr.type ||\r\n            (attr.data.constructor === Float32Array\r\n                ? this.gl.FLOAT\r\n                : attr.data.constructor === Uint16Array\r\n                ? this.gl.UNSIGNED_SHORT\r\n                : this.gl.UNSIGNED_INT); // Uint32Array\r\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\r\n        attr.normalized = attr.normalized || false;\r\n        attr.stride = attr.stride || 0;\r\n        attr.offset = attr.offset || 0;\r\n        attr.count = attr.count || (attr.stride ? attr.data.byteLength / attr.stride : attr.data.length / attr.size);\r\n        attr.divisor = attr.instanced || 0;\r\n        attr.needsUpdate = false;\r\n\r\n        if (!attr.buffer) {\r\n            attr.buffer = this.gl.createBuffer();\r\n\r\n            // Push data to buffer\r\n            this.updateAttribute(attr);\r\n        }\r\n\r\n        // Update geometry counts. If indexed, ignore regular attributes\r\n        if (attr.divisor) {\r\n            this.isInstanced = true;\r\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\r\n                console.warn('geometry has multiple instanced buffers of different length');\r\n                return (this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor));\r\n            }\r\n            this.instancedCount = attr.count * attr.divisor;\r\n        } else if (key === 'index') {\r\n            this.drawRange.count = attr.count;\r\n        } else if (!this.attributes.index) {\r\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\r\n        }\r\n    }\r\n\r\n    updateAttribute(attr) {\r\n        if (this.glState.boundBuffer !== attr.buffer) {\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n        }\r\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\r\n        attr.needsUpdate = false;\r\n    }\r\n\r\n    setIndex(value) {\r\n        this.addAttribute('index', value);\r\n    }\r\n\r\n    setDrawRange(start, count) {\r\n        this.drawRange.start = start;\r\n        this.drawRange.count = count;\r\n    }\r\n\r\n    setInstancedCount(value) {\r\n        this.instancedCount = value;\r\n    }\r\n\r\n    createVAO(program) {\r\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\r\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n        this.bindAttributes(program);\r\n    }\r\n\r\n    bindAttributes(program) {\r\n        // Link all attributes to program using gl.vertexAttribPointer\r\n        program.attributeLocations.forEach((location, { name, type }) => {\r\n            // If geometry missing a required shader attribute\r\n            if (!this.attributes[name]) {\r\n                console.warn(`active attribute ${name} not being supplied`);\r\n                return;\r\n            }\r\n\r\n            const attr = this.attributes[name];\r\n\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n\r\n            // For matrix attributes, buffer needs to be defined per column\r\n            let numLoc = 1;\r\n            if (type === 35674) numLoc = 2; // mat2\r\n            if (type === 35675) numLoc = 3; // mat3\r\n            if (type === 35676) numLoc = 4; // mat4\r\n\r\n            const size = attr.size / numLoc;\r\n            const stride = numLoc === 1 ? 0 : numLoc * numLoc * numLoc;\r\n            const offset = numLoc === 1 ? 0 : numLoc * numLoc;\r\n\r\n            for (let i = 0; i < numLoc; i++) {\r\n                this.gl.vertexAttribPointer(location + i, size, attr.type, attr.normalized, attr.stride + stride, attr.offset + i * offset);\r\n                this.gl.enableVertexAttribArray(location + i);\r\n\r\n                // For instanced attributes, divisor needs to be set.\r\n                // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\r\n                this.gl.renderer.vertexAttribDivisor(location + i, attr.divisor);\r\n            }\r\n        });\r\n\r\n        // Bind indices if geometry indexed\r\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\r\n    }\r\n\r\n    draw({ program, mode = this.gl.TRIANGLES }) {\r\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {\r\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\r\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\r\n        }\r\n\r\n        // Check if any attributes need updating\r\n        program.attributeLocations.forEach((location, { name }) => {\r\n            const attr = this.attributes[name];\r\n            if (attr.needsUpdate) this.updateAttribute(attr);\r\n        });\r\n\r\n        if (this.isInstanced) {\r\n            if (this.attributes.index) {\r\n                this.gl.renderer.drawElementsInstanced(\r\n                    mode,\r\n                    this.drawRange.count,\r\n                    this.attributes.index.type,\r\n                    this.drawRange.start,\r\n                    this.instancedCount\r\n                );\r\n            } else {\r\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\r\n            }\r\n        } else {\r\n            if (this.attributes.index) {\r\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\r\n            } else {\r\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\r\n            }\r\n        }\r\n    }\r\n\r\n    getPositionArray() {\r\n        // Use position buffer, or min/max if available\r\n        const attr = this.attributes.position;\r\n        if (attr.min) return [...attr.min, ...attr.max];\r\n        if (attr.data) return attr.data;\r\n        if (isBoundsWarned) return;\r\n        console.warn('No position buffer data found to compute bounds');\r\n        return (isBoundsWarned = true);\r\n    }\r\n\r\n    computeBoundingBox(array) {\r\n        if (!array) array = this.getPositionArray();\r\n\r\n        if (!this.bounds) {\r\n            this.bounds = {\r\n                min: new Vec3(),\r\n                max: new Vec3(),\r\n                center: new Vec3(),\r\n                scale: new Vec3(),\r\n                radius: Infinity,\r\n            };\r\n        }\r\n\r\n        const min = this.bounds.min;\r\n        const max = this.bounds.max;\r\n        const center = this.bounds.center;\r\n        const scale = this.bounds.scale;\r\n\r\n        min.set(+Infinity);\r\n        max.set(-Infinity);\r\n\r\n        // TODO: use offset/stride if exists\r\n        // TODO: check size of position (eg triangle with Vec2)\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            const x = array[i];\r\n            const y = array[i + 1];\r\n            const z = array[i + 2];\r\n\r\n            min.x = Math.min(x, min.x);\r\n            min.y = Math.min(y, min.y);\r\n            min.z = Math.min(z, min.z);\r\n\r\n            max.x = Math.max(x, max.x);\r\n            max.y = Math.max(y, max.y);\r\n            max.z = Math.max(z, max.z);\r\n        }\r\n\r\n        scale.sub(max, min);\r\n        center.add(min, max).divide(2);\r\n    }\r\n\r\n    computeBoundingSphere(array) {\r\n        if (!array) array = this.getPositionArray();\r\n        if (!this.bounds) this.computeBoundingBox(array);\r\n\r\n        let maxRadiusSq = 0;\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            tempVec3.fromArray(array, i);\r\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\r\n        }\r\n\r\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\r\n    }\r\n\r\n    remove() {\r\n        if (this.vao) this.gl.renderer.deleteVertexArray(this.vao);\r\n        for (let key in this.attributes) {\r\n            this.gl.deleteBuffer(this.attributes[key].buffer);\r\n            delete this.attributes[key];\r\n        }\r\n    }\r\n}\r\n","import { Geometry } from '../core/Geometry.js';\r\n\r\nexport class Triangle extends Geometry {\r\n    constructor(gl, { attributes = {} } = {}) {\r\n        Object.assign(attributes, {\r\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\r\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n}\r\n","// TODO: Destroy render targets if size changed and exists\r\n\r\nimport { Program } from '../core/Program.js';\r\nimport { Mesh } from '../core/Mesh.js';\r\nimport { RenderTarget } from '../core/RenderTarget.js';\r\nimport { Triangle } from './Triangle.js';\r\n\r\nexport class Post {\r\n    constructor(\r\n        gl,\r\n        {\r\n            width,\r\n            height,\r\n            dpr,\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            minFilter = gl.LINEAR,\r\n            magFilter = gl.LINEAR,\r\n            geometry = new Triangle(gl),\r\n            targetOnly = null,\r\n        } = {}\r\n    ) {\r\n        this.gl = gl;\r\n\r\n        this.options = { wrapS, wrapT, minFilter, magFilter };\r\n\r\n        this.passes = [];\r\n\r\n        this.geometry = geometry;\r\n\r\n        this.uniform = { value: null };\r\n        this.targetOnly = targetOnly;\r\n\r\n        const fbo = (this.fbo = {\r\n            read: null,\r\n            write: null,\r\n            swap: () => {\r\n                let temp = fbo.read;\r\n                fbo.read = fbo.write;\r\n                fbo.write = temp;\r\n            },\r\n        });\r\n\r\n        this.resize({ width, height, dpr });\r\n    }\r\n\r\n    addPass({ vertex = defaultVertex, fragment = defaultFragment, uniforms = {}, textureUniform = 'tMap', enabled = true } = {}) {\r\n        uniforms[textureUniform] = { value: this.fbo.read.texture };\r\n\r\n        const program = new Program(this.gl, { vertex, fragment, uniforms });\r\n        const mesh = new Mesh(this.gl, { geometry: this.geometry, program });\r\n\r\n        const pass = {\r\n            mesh,\r\n            program,\r\n            uniforms,\r\n            enabled,\r\n            textureUniform,\r\n        };\r\n\r\n        this.passes.push(pass);\r\n        return pass;\r\n    }\r\n\r\n    resize({ width, height, dpr } = {}) {\r\n        if (dpr) this.dpr = dpr;\r\n        if (width) {\r\n            this.width = width;\r\n            this.height = height || width;\r\n        }\r\n\r\n        dpr = this.dpr || this.gl.renderer.dpr;\r\n        width = (this.width || this.gl.renderer.width) * dpr;\r\n        height = (this.height || this.gl.renderer.height) * dpr;\r\n\r\n        this.options.width = width;\r\n        this.options.height = height;\r\n\r\n        this.fbo.read = new RenderTarget(this.gl, this.options);\r\n        this.fbo.write = new RenderTarget(this.gl, this.options);\r\n    }\r\n\r\n    // Uses same arguments as renderer.render\r\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true }) {\r\n        const enabledPasses = this.passes.filter((pass) => pass.enabled);\r\n\r\n        this.gl.renderer.render({\r\n            scene,\r\n            camera,\r\n            target: enabledPasses.length || (!target && this.targetOnly) ? this.fbo.write : target,\r\n            update,\r\n            sort,\r\n            frustumCull,\r\n        });\r\n        this.fbo.swap();\r\n\r\n        enabledPasses.forEach((pass, i) => {\r\n            pass.mesh.program.uniforms[pass.textureUniform].value = this.fbo.read.texture;\r\n            this.gl.renderer.render({\r\n                scene: pass.mesh,\r\n                target: i === enabledPasses.length - 1 && (target || !this.targetOnly) ? target : this.fbo.write,\r\n                clear: true,\r\n            });\r\n            this.fbo.swap();\r\n        });\r\n\r\n        this.uniform.value = this.fbo.read.texture;\r\n    }\r\n}\r\n\r\nconst defaultVertex = /* glsl */ `\r\n    attribute vec2 uv;\r\n    attribute vec2 position;\r\n\r\n    varying vec2 vUv;\r\n\r\n    void main() {\r\n        vUv = uv;\r\n        gl_Position = vec4(position, 0, 1);\r\n    }\r\n`;\r\n\r\nconst defaultFragment = /* glsl */ `\r\n    precision highp float;\r\n\r\n    uniform sampler2D tMap;\r\n    varying vec2 vUv;\r\n\r\n    void main() {\r\n        gl_FragColor = texture2D(tMap, vUv);\r\n    }\r\n`;\r\n","module.exports=\"            precision highp float;\\n#define GLSLIFY 1\\n\\n            // Default uniform for previous pass is 'tMap'.\\n            // Can change this using the 'textureUniform' property\\n            // when adding a pass.\\n            uniform sampler2D tMap;\\n            uniform vec2 uResolution;\\n            varying vec2 vUv;\\n            vec4 fxaa(sampler2D tex, vec2 uv, vec2 resolution) {\\n                vec2 pixel = vec2(1) / resolution;\\n                vec3 l = vec3(0.299, 0.587, 0.114);\\n                float lNW = dot(texture2D(tex, uv + vec2(-1, -1) * pixel).rgb, l);\\n                float lNE = dot(texture2D(tex, uv + vec2( 1, -1) * pixel).rgb, l);\\n                float lSW = dot(texture2D(tex, uv + vec2(-1,  1) * pixel).rgb, l);\\n                float lSE = dot(texture2D(tex, uv + vec2( 1,  1) * pixel).rgb, l);\\n                float lM  = dot(texture2D(tex, uv).rgb, l);\\n                float lMin = min(lM, min(min(lNW, lNE), min(lSW, lSE)));\\n                float lMax = max(lM, max(max(lNW, lNE), max(lSW, lSE)));\\n                \\n                vec2 dir = vec2(\\n                    -((lNW + lNE) - (lSW + lSE)),\\n                     ((lNW + lSW) - (lNE + lSE))\\n                );\\n                \\n                float dirReduce = max((lNW + lNE + lSW + lSE) * 0.03125, 0.0078125);\\n                float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n                dir = min(vec2(8, 8), max(vec2(-8, -8), dir * rcpDirMin)) * pixel;\\n                \\n                vec3 rgbA = 0.5 * (\\n                    texture2D(tex, uv + dir * (1.0 / 3.0 - 0.5)).rgb +\\n                    texture2D(tex, uv + dir * (2.0 / 3.0 - 0.5)).rgb);\\n                vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                    texture2D(tex, uv + dir * -0.5).rgb +\\n                    texture2D(tex, uv + dir * 0.5).rgb);\\n                float lB = dot(rgbB, l);\\n                return mix(\\n                    vec4(rgbB, 1),\\n                    vec4(rgbA, 1),\\n                    max(sign(lB - lMin), 0.0) * max(sign(lB - lMax), 0.0)\\n                );\\n            }\\n            void main() {\\n                vec4 aa = fxaa(tMap, vUv, uResolution);\\n                gl_FragColor = aa;\\n            }\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D tMap;\\nvarying vec2 vUv;\\nuniform float _Aspect;\\nuniform vec2 _Target;\\nuniform float _TransitionPhase;\\n\\n#define PI 3.14159\\n\\nvoid main() {\\n    // Normalized pixel coordinates (from 0 to 1)\\n    vec2 uv = vUv;\\n\\n    vec2 toTarget = _Target - uv;\\n    toTarget.x *= _Aspect;    \\n    float dist = dot(toTarget, toTarget) * 1.0;\\n    // float dist = length(toTarget);\\n    float radius = (dist - _TransitionPhase) / 0.15;\\n    float radPow = abs(radius);\\n    radPow = radPow * radPow;\\n\\n    float p = 1.0 - radPow;\\n\\n    float ripple = sin(PI * radius) * p;\\n\\n    // float scalePhase = (dist + _TransitionPhase) * 0.1);\\n    ripple *= _TransitionPhase * 8.0 * (1.0 - _TransitionPhase);\\n    vec2 distort = normalize(toTarget) * ripple;\\n\\n    float r = texture2D(tMap, uv + distort * 0.001).x;\\n    float g = texture2D(tMap, uv + distort * 0.0005).y;\\n    float b = texture2D(tMap, uv - distort * 0.001).z;\\n    vec3 col = vec3(r,g,b);\\n    gl_FragColor = vec4(col,1.0);\\n}\";","import {\r\n    Vec2\r\n} from '../../../vendors/ogl/src/math/Vec2.js';\r\n\r\n//use trig to get viewPort dimensions\r\nexport const getCameraViewplaneSize = (camera) => {\r\n\r\n    // rendering full screen quad as if the far plane is at distance 1\r\n    const cameraFov = camera.fov;\r\n    const cameraAspect = camera.aspect;\r\n    const dist = Math.max(1.0, camera.position.z); //assuming the plane will always be one unit away from camera\r\n    // let viewportHeight = 2.0 * Math.tan((cameraFov * (Math.PI / 180.0)) * 0.5) * dist;\r\n    let viewportHeight = Math.tan((cameraFov * (Math.PI / 180.0)) * 0.5) * dist;\r\n    let viewportWidth = viewportHeight * cameraAspect;\r\n\r\n    return new Vec2(viewportWidth, viewportHeight);\r\n\r\n}","import {\r\n  getCameraViewplaneSize\r\n} from \"../../utils/getCameraViewplaneSize\";\r\nimport {\r\n  Mesh\r\n} from \"../../../../vendors/ogl/src/core/Mesh.js\";\r\nimport {\r\n  Vec2\r\n} from \"../../../../vendors/ogl/src/math/Vec2.js\";\r\n\r\nexport default class DomQuad extends Mesh {\r\n  constructor(\r\n    gl) {\r\n\r\n    super(gl);\r\n\r\n    this.viewPlaneSize = new Vec2(1.0, 1.0);\r\n    this.scaleOffset = new Vec2(1.0, 1.0);\r\n    this.domElement = null;\r\n\r\n  }\r\n\r\n  //updates necessary paramters required for translating a dom elements position + scale\r\n  //relative to the viewport to be relative to the perspective camera's near plane dimensions (which covers the viewport as well)\r\n  updateRelations({\r\n    camera\r\n  }) {\r\n\r\n    if (this.domElement === null) return;\r\n\r\n    this.w = window.innerWidth;\r\n    this.h = window.innerHeight;\r\n\r\n    this.wK = 1.0 / this.w;\r\n    this.hK = 1.0 / this.h;\r\n    this.rect = this.domElement.getBoundingClientRect();\r\n    this.cameraViewplaneSize = getCameraViewplaneSize(camera); //make this globally available\r\n\r\n  }\r\n\r\n  //sets scale relative to the width + height of the near plane's size\r\n  updateDimensions() {\r\n\r\n    if (this.domElement === null) return;\r\n\r\n    let {\r\n      width,\r\n      height\r\n    } = this.rect;\r\n\r\n    // let viewportScaleX = width * this.scaleOffset.x * this.wK;\r\n    // let viewportScaleY = height * this.scaleOffset.y * this.hK;\r\n    let viewportScaleX = width * this.wK;\r\n    let viewportScaleY = height * this.hK;\r\n\r\n    this.viewPlaneSize.x = this.cameraViewplaneSize.x * viewportScaleX;\r\n    this.viewPlaneSize.y = this.cameraViewplaneSize.y * viewportScaleY;\r\n\r\n  }\r\n\r\n  //tranlate the dom elements position in \"dom space\" to a position relative\r\n  //to the calculted view plane's dimensions\r\n  calcDomToWebGLPos() {\r\n\r\n    if (this.domElement === null) return;\r\n\r\n    let {\r\n      width,\r\n      height,\r\n      top,\r\n      left\r\n    } = this.rect;\r\n\r\n    let posPhaseX =\r\n      2.0 * ((left + (width * 0.5)) * this.wK) - 1.0;\r\n    let posPhaseY =\r\n      2.0 * ((top + (height * 0.5)) * this.hK) - 1.0;\r\n\r\n    //a bit isoteric (maybe), but a normalized coordinate plane goes between -1 and 1\r\n    //in my case, I have a normalized position in the domain -1 and 1, which I multiply\r\n    //with the widht and height equal to \"half\" the near plane's width and height,\r\n    //which gives me a coordinate plane where the domain is [-viewplane size, viewplane size]\r\n    //which will result in the \"correct\" position on the coordinate plane based on the calculated near plane\r\n    this.position.x = posPhaseX * this.cameraViewplaneSize.x;\r\n    this.position.y = posPhaseY * this.cameraViewplaneSize.y * -1.0;\r\n\r\n  }\r\n\r\n  dispose() {\r\n\r\n    this.visible = false;\r\n\r\n  }\r\n\r\n}","import { Geometry } from '../core/Geometry.js';\r\n\r\nexport class Plane extends Geometry {\r\n    constructor(gl, { width = 1, height = 1, widthSegments = 1, heightSegments = 1, attributes = {} } = {}) {\r\n        const wSegs = widthSegments;\r\n        const hSegs = heightSegments;\r\n\r\n        // Determine length of arrays\r\n        const num = (wSegs + 1) * (hSegs + 1);\r\n        const numIndices = wSegs * hSegs * 6;\r\n\r\n        // Generate empty arrays once\r\n        const position = new Float32Array(num * 3);\r\n        const normal = new Float32Array(num * 3);\r\n        const uv = new Float32Array(num * 2);\r\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\r\n\r\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\r\n\r\n        Object.assign(attributes, {\r\n            position: { size: 3, data: position },\r\n            normal: { size: 3, data: normal },\r\n            uv: { size: 2, data: uv },\r\n            index: { data: index },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n\r\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, u = 0, v = 1, w = 2, uDir = 1, vDir = -1, i = 0, ii = 0) {\r\n        const io = i;\r\n        const segW = width / wSegs;\r\n        const segH = height / hSegs;\r\n\r\n        for (let iy = 0; iy <= hSegs; iy++) {\r\n            let y = iy * segH - height / 2;\r\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\r\n                let x = ix * segW - width / 2;\r\n\r\n                position[i * 3 + u] = x * uDir;\r\n                position[i * 3 + v] = y * vDir;\r\n                position[i * 3 + w] = depth / 2;\r\n\r\n                normal[i * 3 + u] = 0;\r\n                normal[i * 3 + v] = 0;\r\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\r\n\r\n                uv[i * 2] = ix / wSegs;\r\n                uv[i * 2 + 1] = 1 - iy / hSegs;\r\n\r\n                if (iy === hSegs || ix === wSegs) continue;\r\n                let a = io + ix + iy * (wSegs + 1);\r\n                let b = io + ix + (iy + 1) * (wSegs + 1);\r\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\r\n                let d = io + ix + iy * (wSegs + 1) + 1;\r\n\r\n                index[ii * 6] = a;\r\n                index[ii * 6 + 1] = b;\r\n                index[ii * 6 + 2] = d;\r\n                index[ii * 6 + 3] = b;\r\n                index[ii * 6 + 4] = c;\r\n                index[ii * 6 + 5] = d;\r\n                ii++;\r\n            }\r\n        }\r\n    }\r\n}\r\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\nattribute vec3 normal;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 modelMatrix;\\n\\nuniform sampler2D _FlowMap;\\nuniform float _FlowMapPhase;\\nuniform float _FlipFlowMapForce;\\nuniform float _RestorePhase;\\nuniform float _ScrollPhase;\\nuniform float _RevealPhase;\\n\\nuniform float _ViewModePhase;\\nuniform float _RipplePhase;\\nuniform float _Entering;\\n\\nuniform sampler2D _Image;\\nuniform float _Scale;\\nuniform float _InView;\\n\\nuniform float _Time;\\n\\nuniform vec2 _ViewplaneSize;\\nvarying vec3 vMvPos;\\n\\nvarying vec2 vUv;\\n// varying vec2 vClipPos;\\nvarying vec3 vDistort;\\nvarying float vPhase;\\n\\nuniform float _SpatialF;\\nuniform float _TemporalF;\\nuniform float _Amp;\\nuniform float _HeightAmp;\\n\\nvarying float vDamp;\\n\\n#define DISTORTSTR 1.2\\n#define SCROLLDISTORTSTR 0.6\\n#define DISPLACEMENTSTR 0.4\\n#define HEIGHTMAPSTR 0.5\\n#define lumaK 0.33333333333333333\\n#define PI 3.14159265359\\n#define HALFPI 3.14159265359 * 0.5\\n\\n#define RIPPLE_SPATIALF 3.0\\n#define RIPPLE_TEMPORALF 8.2\\n\\n// #define RIPPLE_SPATIALF 7.0 \\n// #define RIPPLE_TEMPORALF 8.0\\n\\n// #define RIPPLE_AMP 0.25\\n#define RIPPLE_AMP 0.15\\n// #define RIPPLE_AMP 0.1\\n\\n// #define HEIGHTMAP_AMP 0.53\\n// #define HEIGHTMAP_AMP 0.33\\n// #define HEIGHTMAP_AMP 1.5\\n#define HEIGHTMAP_AMP 1.9\\n\\nvoid main() {\\n\\n    vec3 pos = position;\\n\\n    vec2 texCoord = uv;\\n    texCoord -= 0.5;\\n    // texCoord *= mix(0.5, 1.0, _RevealPhase);\\n    texCoord *= mix(0.85, 1.0, _RevealPhase);\\n    texCoord += 0.5;\\n\\n    vec3 col = texture2D(_Image, texCoord).xyz;\\n    float heightMapDistort = dot(col, vec3(0.299, 0.587, 0.114));\\n    heightMapDistort = mix(heightMapDistort, 1.0 - heightMapDistort, _FlipFlowMapForce);\\n    float dampen = (smoothstep(0.8, 1.0, heightMapDistort));\\n    vDamp = dampen;\\n\\n    //PROJECT VIEW MODE SCALE\\n    pos.xy *= _ViewplaneSize * mix(0.85, 1.0, 1.0) * mix(1.0, 1.525, _ViewModePhase);\\n\\n    //SCROLL FORCE\\n    vec2 phasePos = position.xy;\\n    vec2 scrollPhasePos = phasePos;\\n    float dist = length(phasePos);\\n    pos.z += (1.0 - dist) * DISPLACEMENTSTR * _ScrollPhase * SCROLLDISTORTSTR;\\n    pos.z += heightMapDistort * dampen * 0.2 * _ScrollPhase;\\n\\n    //PROJECT VIEW MODE RIPPLE\\n    vec2 viewModePhasePos = phasePos;\\n    float viewmodePhase = _RipplePhase * 4.0 * (1.0 - _RipplePhase);    \\n    float phaseDist = 1.0 - abs((_RipplePhase * 3.0) - dist);\\n    // phaseDist = smoothstep(0.0, 1.0, phaseDist);\\n    // float ripplePhase = cos(phaseDist * PI) * RIPPLE_AMP * viewmodePhase;\\n    float ripplePhase = cos(phaseDist * PI) * RIPPLE_AMP * viewmodePhase;\\n    // float ripplePhase = phaseDist * RIPPLE_AMP * viewmodePhase;\\n    vPhase = phaseDist * viewmodePhase;\\n\\n    pos.z += ripplePhase;\\n    pos.z += heightMapDistort * HEIGHTMAP_AMP * ripplePhase;\\n\\n    mat4 modelViewProjection = projectionMatrix * modelViewMatrix;\\n    \\n    vDistort = vec3(0.0, 0.0, 0.0);\\n\\n    // if(_InView == 1.0) {\\n    vec4 clipPos = modelViewProjection * vec4(pos, 1.0);\\n    clipPos.xyz /= clipPos.w;\\n    clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n    vec3 distort = texture2D(_FlowMap, clipPos.xy).xyz * DISTORTSTR;\\n    vDistort = distort;\\n    pos += distort * max(0.2, heightMapDistort) * _FlowMapPhase * distort.z * _InView;\\n    // }\\n\\n    gl_Position = modelViewProjection * vec4(pos, 1.0);\\n    vUv = uv;\\n    vMvPos = (modelViewMatrix * vec4(position, 1.0)).xyz;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Image;\\nuniform sampler2D _FlowMap;\\nuniform float _FlowMapPhase;\\nuniform vec2 _Resolution;\\n\\nuniform float _ScalePhase;\\nuniform float _Scale;\\nuniform float _Alpha;\\nuniform float _RevealPhase;\\nuniform float _RevealDirection;\\nuniform float _ClipRevealPhase;\\nuniform float _UvScalePhase;\\nuniform float _ScrollPhase;\\nuniform float _ViewModePhase;\\nuniform float _Time;\\n\\nvarying vec2 vUv;\\nvarying vec3 vMvPos;\\nvarying vec3 vDistort;\\nvarying float vPhase;\\nvarying float vDamp;\\n\\n#define OFFSETAMOUNTX 0.004\\n#define OFFSETAMOUNTY 0.001\\n// #define MINVIEWDIST 0.24\\n// #define MAXVIEWDIST 0.5\\n// #define ALPHAFALLOFFDIST 30.0\\n\\n// #define MINVIEWDIST 0.24\\n// #define MAXVIEWDIST 0.5\\n// #define ALPHAFALLOFFDIST 30.0\\n\\n// #define MINVIEWDIST 0.25\\n#define MINVIEWDIST 0.25\\n#define MAXVIEWDIST 0.5\\n#define ALPHAFALLOFFDIST 5.0 * 5.0\\n\\n// #define MINVIEWDIST 0.05\\n// #define MAXVIEWDIST 1.0\\n// #define ALPHAFALLOFFDIST 50.0\\n\\nfloat hash12(vec2 p)\\n{\\n\\tvec3 p3  = fract(vec3(p.xyx) * .1031);\\n    p3 += dot(p3, p3.yzx + 33.33);\\n    return fract((p3.x + p3.y) * p3.z);\\n}\\n\\nfloat dither8x8(vec2 position, float brightness) {\\n    int x = int(mod(position.x, 8.0));\\n    int y = int(mod(position.y, 8.0));\\n    int index = x + y * 8;\\n    float limit = 0.0;\\n  \\n    if (x < 8) {\\n      if (index == 0) limit = 0.015625;\\n      if (index == 1) limit = 0.515625;\\n      if (index == 2) limit = 0.140625;\\n      if (index == 3) limit = 0.640625;\\n      if (index == 4) limit = 0.046875;\\n      if (index == 5) limit = 0.546875;\\n      if (index == 6) limit = 0.171875;\\n      if (index == 7) limit = 0.671875;\\n      if (index == 8) limit = 0.765625;\\n      if (index == 9) limit = 0.265625;\\n      if (index == 10) limit = 0.890625;\\n      if (index == 11) limit = 0.390625;\\n      if (index == 12) limit = 0.796875;\\n      if (index == 13) limit = 0.296875;\\n      if (index == 14) limit = 0.921875;\\n      if (index == 15) limit = 0.421875;\\n      if (index == 16) limit = 0.203125;\\n      if (index == 17) limit = 0.703125;\\n      if (index == 18) limit = 0.078125;\\n      if (index == 19) limit = 0.578125;\\n      if (index == 20) limit = 0.234375;\\n      if (index == 21) limit = 0.734375;\\n      if (index == 22) limit = 0.109375;\\n      if (index == 23) limit = 0.609375;\\n      if (index == 24) limit = 0.953125;\\n      if (index == 25) limit = 0.453125;\\n      if (index == 26) limit = 0.828125;\\n      if (index == 27) limit = 0.328125;\\n      if (index == 28) limit = 0.984375;\\n      if (index == 29) limit = 0.484375;\\n      if (index == 30) limit = 0.859375;\\n      if (index == 31) limit = 0.359375;\\n      if (index == 32) limit = 0.0625;\\n      if (index == 33) limit = 0.5625;\\n      if (index == 34) limit = 0.1875;\\n      if (index == 35) limit = 0.6875;\\n      if (index == 36) limit = 0.03125;\\n      if (index == 37) limit = 0.53125;\\n      if (index == 38) limit = 0.15625;\\n      if (index == 39) limit = 0.65625;\\n      if (index == 40) limit = 0.8125;\\n      if (index == 41) limit = 0.3125;\\n      if (index == 42) limit = 0.9375;\\n      if (index == 43) limit = 0.4375;\\n      if (index == 44) limit = 0.78125;\\n      if (index == 45) limit = 0.28125;\\n      if (index == 46) limit = 0.90625;\\n      if (index == 47) limit = 0.40625;\\n      if (index == 48) limit = 0.25;\\n      if (index == 49) limit = 0.75;\\n      if (index == 50) limit = 0.125;\\n      if (index == 51) limit = 0.625;\\n      if (index == 52) limit = 0.21875;\\n      if (index == 53) limit = 0.71875;\\n      if (index == 54) limit = 0.09375;\\n      if (index == 55) limit = 0.59375;\\n      if (index == 56) limit = 1.0;\\n      if (index == 57) limit = 0.5;\\n      if (index == 58) limit = 0.875;\\n      if (index == 59) limit = 0.375;\\n      if (index == 60) limit = 0.96875;\\n      if (index == 61) limit = 0.46875;\\n      if (index == 62) limit = 0.84375;\\n      if (index == 63) limit = 0.34375;\\n    }\\n  \\n    return brightness < limit ? 0.0 : 1.0;\\n  }\\n\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n    uv -= 0.5;\\n    uv *= mix(1.0, 0.85, _ScalePhase); //rename uniform\\n    uv *= mix(0.5, 1.0, _UvScalePhase);\\n    uv += 0.5;\\n\\n    vec2 flow = vDistort.xy * _FlowMapPhase;\\n\\n    float inputPhase = _ScrollPhase * 3.0;\\n    vec2 offsetX = (vec2(1.0 + inputPhase, 0.0)) * OFFSETAMOUNTX;\\n    vec2 offsetY = (vec2(0.0, 1.0 + inputPhase)) * OFFSETAMOUNTY;\\n\\n    float viewModePhase = (1.0 - abs(_ViewModePhase * 2.0 - 1.0));\\n    vec2 transitionOffsetX = vec2(0.01, 0.0) * viewModePhase * 0.0;\\n    vec2 transitionOffsetY = vec2(0.0, 0.001) * viewModePhase * 0.0;\\n\\n    float r = texture2D(_Image, uv - transitionOffsetX - offsetX - (flow * 0.02)).x;\\n    float g = texture2D(_Image, uv + transitionOffsetY + offsetY + (flow * 0.002)).y;\\n    float b = texture2D(_Image, uv + transitionOffsetX + offsetX + (flow * 0.02)).z;\\n\\n    vec3 col = vec3(r,g,b);\\n    col += hash12(vUv * 1000.0 + _Time) * 0.2;\\n    col = mix(col, vec3(1.0), mix(0.2, 0.0, _ViewModePhase));\\n\\n    float len = (vMvPos.z * vMvPos.z); //removes the sign\\n    float idleAlpha = smoothstep(MINVIEWDIST, MAXVIEWDIST, len);\\n    float phase = (len * len) / (6.0 * 6.0);\\n    float scrollPhase = smoothstep(0.1, 1.0, min(1.0, abs(_ScrollPhase)));\\n    float scrollAlpha = idleAlpha * mix(0.4, 0.7, phase * 4.0 * (1.0 - phase));\\n    float alpha = mix(idleAlpha, scrollAlpha, scrollPhase);\\n    alpha *= _Alpha;\\n\\n    alpha = dither8x8(gl_FragCoord.xy, alpha);\\n\\n    //reveal phase\\n    alpha *= mix(step(vUv.y, _ClipRevealPhase), 1.0 - step((vUv.y * 0.9999), 1.0 - _ClipRevealPhase), _RevealDirection);\\n    if(alpha <= 0.0) discard;\\n    gl_FragColor = vec4(col, 1.0);\\n\\n}\";","\r\n  //https://torstencurdt.com/tech/posts/modulo-of-negative-numbers/\r\nexport const loopNegativeNumber = ({a, b}) => {\r\n\r\n    a %= b;\r\n    a = a > 0.0 ? a + b : a;\r\n    return a;\r\n\r\n}\r\n\r\n//https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\r\nexport const makeid = ({length}) => {\r\n  var result           = '';\r\n  var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  var charactersLength = characters.length;\r\n  for ( var i = 0; i < length; i++ ) {\r\n     result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n}","import DomQuad from \"../../../extras/DomQuad/DomQuad.js\";\r\nimport {\r\n  Program\r\n} from \"../../../../../vendors/ogl/src/core/Program.js\";\r\nimport {\r\n  Texture\r\n} from \"../../../../../vendors/ogl/src/core/Texture.js\";\r\nimport {\r\n  Plane\r\n} from \"../../../../../vendors/ogl/src/extras/Plane.js\";\r\n\r\nconst vert = require(\"./shaders/projectQuad.vert\");\r\nconst frag = require(\"./shaders/projectQuad.frag\");\r\n\r\nimport bNoise from '../../../../../static/data/*.png';\r\n\r\nimport {\r\n  makeid\r\n} from \"../../../../../utils/Math.js\";\r\nimport eventEmitter from \"../../../../EventEmitter.js\";\r\nconst emitter = eventEmitter.emitter;\r\nimport events from \"../../../../../utils/events.js\";\r\n\r\nimport {\r\n  gsap\r\n} from \"gsap\";\r\nimport {\r\n  Vec2\r\n} from \"../../../../../vendors/ogl/src/math/Vec2.js\";\r\n\r\nexport default class ProjectQuad extends DomQuad {\r\n  constructor(gl, {\r\n    media,\r\n    posOffset = 0,\r\n    loopLimit\r\n  }) {\r\n    super(gl);\r\n\r\n    this.gl = gl;\r\n\r\n    this.id = makeid({\r\n      length: 9\r\n    });\r\n\r\n    this.index = posOffset; //rename argument\r\n\r\n    this.media = media;\r\n\r\n    this.video = this.media.video;\r\n\r\n    // this.loopLimit = 6; //hardcoded for now\r\n    this.loopLimit = loopLimit; //hardcoded for now\r\n\r\n    this.initPos = this.position.z = 0 - posOffset;\r\n\r\n    this.targetPos = this.position.z;\r\n\r\n    this.inScrollMode = false;\r\n\r\n    this.scrollPhase = 0;\r\n\r\n    this.isInView = false;\r\n\r\n    this.positionRestored = false;\r\n\r\n    this.restoreDelta = 1;\r\n\r\n    this.restorePhase = 0;\r\n\r\n    this.restoreEase = 0;\r\n\r\n    this.initProgram();\r\n\r\n    this.initEvents();\r\n  }\r\n\r\n  initEvents() {\r\n    emitter.on(events.PLAY_VIDEO, this.playVideo);\r\n    emitter.on(events.PAUSE_VIDEO, this.pauseVideo);\r\n\r\n    emitter.on(events.APPLY_SCROLL_MODE_ANIM, this.applyScrollMode);\r\n    emitter.on(events.REMOVE_SCROLL_MODE_ANIM, this.removeScrollMode);\r\n  }\r\n\r\n  initProgram = () => {\r\n    this.geometry = new Plane(this.gl, {\r\n      width: 2,\r\n      height: 2,\r\n      widthSegments: 32.0,\r\n      heightSegments: 32.0\r\n    });\r\n\r\n    this.texture = new Texture(this.gl, {\r\n      generateMipmaps: false,\r\n      width: 256,\r\n      height: 256,\r\n      minFilter: this.gl.LINEAR,\r\n      magFilter: this.gl.LINEAR\r\n    });\r\n\r\n    // if (this.media.videoSrc !== null && window.isMobile === false)\r\n    //   this.loadVideo();\r\n    // if (this.media.imageSrc !== null && window.isMobile) this.loadImage();\r\n\r\n    if (this.media.videoSrc !== null)this.loadVideo();\r\n\r\n    const u = {\r\n      _ViewplaneSize: {\r\n        value: this.viewPlaneSize\r\n      },\r\n      _Time: {\r\n        value: 0\r\n      },\r\n      _Image: {\r\n        value: this.texture\r\n      },\r\n      _FlowMap: {\r\n        value: new Texture(this.gl)\r\n      },\r\n      _Resolution: {\r\n        value: new Vec2(this.gl.canvas.width, this.gl.canvas.height)\r\n      },\r\n      _FlowMapPhase: {\r\n        value: 1.0\r\n      },\r\n      _ScrollPhase: {\r\n        value: 0\r\n      },\r\n      _RestorePhase: {\r\n        value: 0\r\n      },\r\n      _InputForce: {\r\n        value: 0.0\r\n      },\r\n      _FlipFlowMapForce: {\r\n        value: this.media.brightVal\r\n      },\r\n      _ScalePhase: {\r\n        value: 0.0\r\n      },\r\n      _RevealPhase: {\r\n        value: 0.0\r\n      },\r\n      _ClipRevealPhase: {\r\n        value: 0.0\r\n      },\r\n      _UvScalePhase: {\r\n        value: 0.0\r\n      },\r\n      _ViewModePhase: {\r\n        value: 0.0\r\n      },\r\n      _RipplePhase: {\r\n        value: 0\r\n      },\r\n      _Entering: {\r\n        value: 0.0\r\n      },\r\n      _RevealDirection: {\r\n        value: 0.0\r\n      },\r\n      _InView: {\r\n        value: 0.0\r\n      },\r\n      _Alpha: {\r\n        value: 0.0\r\n      },\r\n      _Scale: {\r\n        value: 1.0\r\n      }\r\n    };\r\n\r\n    this.program = new Program(this.gl, {\r\n      vertex: vert,\r\n      fragment: frag,\r\n      uniforms: u,\r\n      transparent: false\r\n    });\r\n  };\r\n\r\n  //consider making the animation faster\r\n  applyScrollMode = () => {\r\n    this.inScrollMode = true;\r\n    this.animateScrollModeUniforms({\r\n      scale: 0.0,\r\n      alpha: 1.0,\r\n      alphaPhase: 1.0,\r\n      flowMapPhase: 0.0\r\n    });\r\n  };\r\n\r\n  removeScrollMode = () => {\r\n    this.inScrollMode = false;\r\n    this.animateScrollModeUniforms({\r\n      scale: 1.0,\r\n      alpha: this.isInView ? 1.0 : 0.0,\r\n      alphaPhase: 0.0,\r\n      flowMapPhase: this.isInView ? 1.0 : 0.0\r\n    });\r\n    this.targetPos = Math.round(this.position.z);\r\n    const delta = this.targetPos - this.position.z;\r\n    this.restoreDelta = Math.abs(delta) > 0 ? delta : 1.0;\r\n  };\r\n\r\n  update({\r\n    force\r\n  }) {\r\n    if (this.inScrollMode) {\r\n      this.position.z += force;\r\n      this.scrollPhase += force;\r\n\r\n      this.loopPosition();\r\n    } else {\r\n      this.restorePosition();\r\n    }\r\n\r\n    this.updateScrollPhase();\r\n    this.visible = this.inBounds();\r\n\r\n    // if (this.video === null || this.inScrollMode || this.visible === false) return;\r\n    if (this.video === null || this.video === undefined || this.inScrollMode)\r\n      return;\r\n    this.updateVideoTexture();\r\n  }\r\n\r\n  loopPosition() {\r\n    if (this.position.z < -this.loopLimit) {\r\n      this.position.z += this.loopLimit + 1;\r\n    } else if (this.position.z > 1.0) {\r\n      this.position.z -= this.loopLimit + 1;\r\n    }\r\n  }\r\n\r\n  updateScrollPhase() {\r\n    this.scrollPhase = Math.max(-1.0, Math.min(1.0, this.scrollPhase));\r\n    this.program.uniforms._ScrollPhase.value = this.scrollPhase;\r\n    this.scrollPhase *= Math.abs(this.scrollPhase) < 0.001 ? 0.0 : 0.94;\r\n  }\r\n\r\n  restorePosition() {\r\n\r\n    this.position.z += (this.targetPos - this.position.z) / 13.0;\r\n    this.program.uniforms._RestorePhase.value = 1.0 - this.restorePhase;\r\n  }\r\n\r\n  animateScrollModeUniforms({\r\n    scale,\r\n    alpha,\r\n    alphaPhase,\r\n    flowMapPhase\r\n  }) {\r\n    if (this.scrollModeTl) this.scrollModeTl.kill();\r\n    this.scrollModeTl = gsap.timeline({});\r\n    this.scrollModeTl.to(\r\n      this.program.uniforms._Alpha, {\r\n        value: alpha,\r\n        duration: 0.5,\r\n        ease: \"power1.out\"\r\n      },\r\n      \"<\"\r\n    );\r\n\r\n    this.scrollModeTl.to(\r\n      this.program.uniforms._Scale, {\r\n        value: scale,\r\n        duration: 0.35,\r\n        ease: \"power2.inOut\"\r\n      },\r\n      \"<\"\r\n    );\r\n\r\n    this.scrollModeTl.to(\r\n      this.program.uniforms._ScalePhase, {\r\n        value: alphaPhase,\r\n        duration: 0.35,\r\n        ease: \"power1.out\"\r\n      },\r\n      \"<\"\r\n    );\r\n\r\n    this.scrollModeTl.to(\r\n      this.program.uniforms._FlowMapPhase, {\r\n        value: flowMapPhase,\r\n        duration: 0.3,\r\n        ease: \"power1.out\"\r\n      },\r\n      \"<\"\r\n    );\r\n  }\r\n\r\n  updateVideoTexture() {\r\n    if (this.isInView === false || this.inScrollMode) return;\r\n    if (this.video.readyState >= this.video.HAVE_ENOUGH_DATA) {\r\n      this.texture.image = this.video;\r\n      this.texture.needsUpdate = true;\r\n    }\r\n  }\r\n\r\n  playVideo = () => {\r\n    if (this.video === null || this.video === undefined) return;\r\n    if (\r\n      this.inView({\r\n        inViewPosZ: 0\r\n      })\r\n    )\r\n      this.video.play();\r\n  };\r\n\r\n  pauseVideo = () => {\r\n    if (this.video === null || this.video === undefined) return;\r\n    this.video.pause();\r\n  };\r\n\r\n  loadVideo() {\r\n    this.video = document.createElement(\"video\");\r\n\r\n    this.video.crossOrigin = \"*\";\r\n\r\n    this.video.addEventListener(\"loadeddata\", () => {\r\n      if (this.video.readyState >= this.video.HAVE_CURRENT_DATA) {\r\n        this.texture.image = this.video;\r\n        this.texture.needsUpdate = true;\r\n        emitter.emit(events.TEXTURE_LOADED);\r\n      }\r\n    });\r\n\r\n    this.video.src = this.media.videoSrc;\r\n\r\n    this.video.load();\r\n\r\n    this.video.muted = true;\r\n\r\n    this.video.loop = true;\r\n\r\n    this.video.currentTime = 0.1;\r\n\r\n  }\r\n\r\n  loadImage() {\r\n    const img = new Image();\r\n\r\n    img.crossOrigin = \"*\";\r\n\r\n    img.src = this.media.imageSrc;\r\n\r\n    img.onload = () => {\r\n      this.texture.image = img;\r\n      emitter.emit(events.TEXTURE_LOADED);\r\n    };\r\n  }\r\n\r\n  inBounds() {\r\n    const roundPosZ = Math.round(this.position.z);\r\n    return roundPosZ > -4.0 && roundPosZ < 1.0;\r\n    // return (this.position.z > -5.0 && this.position.z < 1.0);\r\n  }\r\n\r\n  inView({\r\n    inViewPosZ\r\n  }) {\r\n    this.isInView =\r\n      Math.round(this.position.z) === inViewPosZ ? true : false;\r\n    this.program.uniforms._InView.value = this.isInView ? 1.0 : 0.0;\r\n    return this.isInView;\r\n  }\r\n}","import { Transform } from \"../../../../vendors/ogl/src/core/Transform\";\r\nimport eventEmitter from \"../../../EventEmitter\";\r\nimport events from \"../../../../utils/events\";\r\nconst emitter = eventEmitter.emitter;\r\n\r\nexport default class DomquadMediator extends Transform {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        super();\r\n\r\n        this.scene = scene;\r\n\r\n        this.camera = camera;\r\n\r\n        this.quadsLoaded = false;\r\n\r\n    }\r\n    \r\n    unloadQuads = () => {\r\n        \r\n        this.children.forEach((quad) => {\r\n            quad.visible = false;\r\n        });\r\n\r\n    }\r\n\r\n}","import ProjectQuad from \"../Projects/ProjectQuad/ProjectQuad.js\";\r\nimport DomquadMediator from '../../extras/DomQuad/DomquadMediator.js';\r\nimport {\r\n  ProjectContent\r\n} from '../../../../static/ProjectContent.js';\r\n\r\nimport eventEmitter from '../../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../../utils/events.js';\r\n\r\nimport {\r\n  gsap\r\n} from 'gsap';\r\nimport {\r\n  Vec2\r\n} from \"../../../../vendors/ogl/src/math/Vec2\";\r\n\r\nexport default class ProjectQuadMediator extends DomquadMediator {\r\n  constructor(gl, scene, camera) {\r\n    super(gl, scene, camera);\r\n\r\n    this.gl = gl;\r\n\r\n    this.quads = [];\r\n\r\n    this.quadCount = 3;\r\n\r\n    this.quadInView;\r\n\r\n    this.quadSwapped = false;\r\n\r\n    this.position.z = 0.0;\r\n\r\n    this.inputForce = new Vec2(0.0, 0.0);\r\n\r\n    this.inputForceInertia = 0.93;\r\n\r\n    this.inScrollMode = false;\r\n\r\n    this.minBounds = -3.0;\r\n\r\n    this.maxBounds = 0.0;\r\n\r\n    this.inViewMode = false;\r\n\r\n    this.initQuads();\r\n\r\n  }\r\n\r\n  initEvents() {\r\n\r\n    emitter.on(events.ENTER_SCROLL_MODE, this.enterScrollMode);\r\n    emitter.on(events.EXIT_SCROLL_MODE, this.exitScrollMode);\r\n    emitter.on(events.UPDATE_VIEWMODE, this.updateViewMode);\r\n    emitter.on(events.REVEAL_QUADS, this.revealQuads);\r\n    emitter.on(events.RESET_QUADS, this.resetQuads);\r\n    emitter.on(events.PREPARE_UNMOUNT, this.hideQuads);\r\n\r\n  }\r\n\r\n  removeEvents() {\r\n\r\n    emitter.off(events.ENTER_SCROLL_MODE, this.enterScrollMode);\r\n    emitter.off(events.EXIT_SCROLL_MODE, this.exitScrollMode);\r\n    emitter.off(events.UPDATE_VIEWMODE, this.updateViewMode);\r\n    emitter.off(events.REVEAL_QUADS, this.revealQuads);\r\n    emitter.off(events.RESET_QUADS, this.resetQuads);\r\n    emitter.off(events.PREPARE_UNMOUNT, this.hideQuads);\r\n\r\n  }\r\n\r\n  initQuads() {\r\n\r\n    const media = ProjectContent.map((content) => {\r\n      return content.media;\r\n    });\r\n\r\n    let mediaCount = media.length;\r\n    emitter.emit(events.UPDATE_CONTENT_COUNT, mediaCount);\r\n\r\n    media.forEach((media, i) => {\r\n\r\n      const quad = new ProjectQuad(\r\n        this.gl, {\r\n          media,\r\n          posOffset: i, //rename or make new prop for index?,\r\n          loopLimit: mediaCount - 1\r\n        }\r\n      );\r\n\r\n      quad.setParent(this);\r\n\r\n    });\r\n\r\n  }\r\n\r\n  bindToDom = ({\r\n    referenceElement,\r\n    getFirstQuad\r\n  }) => {\r\n\r\n    if (referenceElement === null) {\r\n      console.error(\"reference dom elements not available\");\r\n      return;\r\n    }\r\n\r\n    this.children.forEach((quad) => {\r\n      quad.visible = true;\r\n      quad.domElement = referenceElement;\r\n      quad.updateRelations({\r\n        camera: this.camera\r\n      });\r\n      this.calculateDomTransforms({\r\n        quad\r\n      });\r\n    });\r\n\r\n    if (getFirstQuad) {\r\n      this.quadInView = this.getQuadInView();\r\n      this.quadInView.playVideo();\r\n    }\r\n\r\n  }\r\n\r\n  enterScrollMode = () => {\r\n\r\n    this.inScrollMode = true;\r\n    emitter.emit(events.PAUSE_VIDEO);\r\n    emitter.emit(events.APPLY_SCROLL_MODE_ANIM);\r\n\r\n  }\r\n\r\n  exitScrollMode = () => {\r\n\r\n    this.inScrollMode = false;\r\n    this.quadInView = this.getQuadInView();\r\n    this.quadInView.playVideo();\r\n    emitter.emit(events.REMOVE_SCROLL_MODE_ANIM);\r\n\r\n  }\r\n\r\n  //toggle values\r\n  updateViewMode = (args) => {\r\n\r\n    const {mode} = args;\r\n    this.inViewMode = mode;\r\n\r\n    const {\r\n      uniforms\r\n    } = this.quadInView.program;\r\n    const duration = 1.8;\r\n    const ease = \"sine.out\";\r\n\r\n    uniforms._Entering.value = this.inViewMode ? 1.0 : 0.0;\r\n\r\n    gsap.to(uniforms._ViewModePhase, {\r\n      value: this.inViewMode ? 1.0 : 0.0,\r\n      duration,\r\n      ease,\r\n    });\r\n\r\n    gsap.fromTo(uniforms._RipplePhase, \r\n      {\r\n        value: 0\r\n      },\r\n      {\r\n      value: 1,\r\n      duration,\r\n      ease: \"power1.inOut\",\r\n    });\r\n\r\n  }\r\n\r\n  resetQuads = () => {\r\n\r\n    this.inViewMode = false;\r\n\r\n    this.children.forEach((quad) => {\r\n\r\n      quad.scaleOffset.set(1.0, 1.0);\r\n      const {\r\n        uniforms\r\n      } = quad.program;\r\n      uniforms._ViewModePhase.value = 0.0\r\n      uniforms._Entering.value = 0.0;\r\n\r\n    });\r\n\r\n  }\r\n\r\n  revealQuads = () => {\r\n    if (this.revealQuadAnim) this.revealQuadAnim.kill();\r\n\r\n    this.revealQuadAnim = gsap.timeline({\r\n      onComplete: () => {\r\n        this.children.forEach((quad) => {\r\n          quad.program.uniforms._ClipRevealPhase.value = 1.0\r\n          quad.program.uniforms._UvScalePhase.value = 1.0\r\n        });\r\n      }\r\n    })\r\n\r\n    const {\r\n      uniforms\r\n    } = this.quadInView.program;\r\n\r\n    this.revealQuadAnim.set(uniforms._RevealDirection, {\r\n      value: 0.0\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(uniforms._Alpha, {\r\n      duration: 0.1,\r\n      value: 1.0,\r\n      ease: \"power2.in\"\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(uniforms._RevealPhase, {\r\n      duration: 2.0,\r\n      value: 1.0,\r\n      ease: \"power2.inOut\",\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(uniforms._UvScalePhase, {\r\n      duration: 2.0,\r\n      value: 1.0,\r\n      ease: \"power2.inOut\",\r\n    }, \"<\");\r\n\r\n    this.revealQuadAnim.to(uniforms._ClipRevealPhase, {\r\n      duration: 2.0,\r\n      value: 1.0,\r\n      ease: \"power2.inOut\",\r\n    }, \"<\");\r\n\r\n  }\r\n\r\n  hideQuads = () => {\r\n\r\n    this.children.forEach((quad) => {\r\n      gsap.set(quad.program.uniforms._RevealDirection, {\r\n        value: 1.0\r\n      });\r\n\r\n      gsap.to(quad.program.uniforms._ClipRevealPhase, {\r\n        duration: 1.0,\r\n        value: 0.0,\r\n        ease: \"power2.inOut\",\r\n        onComplete: () => {\r\n          quad.program.uniforms._Alpha.value = 0.0;\r\n          quad.program.uniforms._RevealPhase.value = 0.0\r\n          quad.program.uniforms._UvScalePhase.value = 0.0\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  update({\r\n    dt,\r\n    inputDelta,\r\n    flowMap\r\n  }) {\r\n\r\n    // this.inputForce.y += this.inScrollMode ? inputDelta.y * 0.008 / dt : 0.0;\r\n    // this.inputForce.y += this.inScrollMode ? inputDelta.y * 0.005 / dt : 0.0;\r\n    this.inputForce.y += this.inScrollMode ? ((inputDelta.y * 0.008) / dt) : 0.0;\r\n\r\n    let i = 0;\r\n    while (i < this.children.length) {\r\n      let quad = this.children[i];\r\n      quad.update({\r\n        force: this.inputForce.y,\r\n        deltaTime: dt\r\n      });\r\n      quad.program.uniforms._InputForce.value = Math.min(1.0, Math.abs(this.inputForce.y * 1.0));\r\n      quad.program.uniforms._Time.value += dt;\r\n      quad.program.uniforms._FlowMap.value = flowMap;\r\n      i++;\r\n    }\r\n\r\n    this.inputForce.y *= (Math.abs(this.inputForce.y) < 0.001) ? 0.0 : this.inputForceInertia;\r\n\r\n  }\r\n\r\n  //get the quad whose position equals to the camera's position along Z\r\n  //and offsetted by the parents transform. That way I'll get the quad\r\n  //that is in view of the camera (or simply in front)\r\n\r\n  getQuadInView() {\r\n\r\n    let quadInView;\r\n    let i = 0;\r\n    while (i < this.children.length) {\r\n      const quad = this.children[i];\r\n      if (quad.inView({\r\n          inViewPosZ: 0\r\n        })) {\r\n        quadInView = quad;\r\n        emitter.emit(events.LOAD_PROJECT_CONTENT, quadInView.index);\r\n        break;\r\n\r\n      }\r\n      i++;\r\n    }\r\n\r\n    return quadInView;\r\n\r\n  }\r\n\r\n  calculateDomTransforms({\r\n    quad\r\n  }) {\r\n\r\n    quad.updateDimensions();\r\n    quad.calcDomToWebGLPos();\r\n\r\n  }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\n\\nuniform vec2 _ViewplaneSize;\\nuniform sampler2D _FlowMap;\\nuniform sampler2D _Image;\\n\\nuniform float _Alpha;\\n\\nuniform float _Aspect;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nvarying vec2 vUv;\\nvarying vec2 vClipPos;\\n\\n#define DISTORTSTR 1.1\\n#define lumaK 0.33333333333333333\\n\\nvoid main() {\\n\\n    vec3 pos = position;\\n    pos.xy *= _ViewplaneSize;\\n    \\n    mat4 modelViewProjection = projectionMatrix * modelViewMatrix;\\n\\n    vec4 clipPos = modelViewProjection * vec4(pos, 1.0);\\n    clipPos.xyz /= clipPos.w;\\n    clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n    vec3 distort = texture2D(_FlowMap, clipPos.xy).xyz * DISTORTSTR;\\n\\n    vec2 imgCoord = uv;\\n    // imgCoord.x *= _Aspect;\\n\\n    vec3 col = texture2D(_Image, imgCoord).xyz;\\n    float heightMap = (col.x + col.y + col.z) * lumaK;\\n    heightMap *= heightMap;\\n    // pos += distort * max(0.2, heightMap) * distort.z;\\n    pos += distort * distort.z;\\n\\n    gl_Position = modelViewProjection * vec4(pos, 1.0);\\n    vUv = uv;\\n    vClipPos = clipPos.xy;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Image;\\nuniform sampler2D _FlowMap;\\nuniform float _Alpha;\\nuniform float _ClipRevealPhase;\\nuniform float _UvScalePhase;\\nuniform float _Aspect;\\nuniform vec2 _ViewplaneSize;\\n\\nuniform float _RevealDirection;\\n\\nvarying vec2 vUv;\\nvarying vec2 vClipPos;\\n\\nfloat hash12(vec2 p)\\n{\\n\\tvec3 p3  = fract(vec3(p.xyx) * .1031);\\n    p3 += dot(p3, p3.yzx + 33.33);\\n    return fract((p3.x + p3.y) * p3.z);\\n}\\n\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n\\n    // float planeAspect = _ViewplaneSize.x / _ViewplaneSize.y;\\n    // float imageAspect = 683.0 / 1024.0;\\n\\n    // float aspect = planeAspect / imageAspect;\\n\\n    uv -= 0.5;\\n    // uv.x *= aspect;\\n    uv*= mix(0.5, 1.0, _UvScalePhase);\\n    uv += 0.5;\\n\\n    vec3 flow = texture2D(_FlowMap, vClipPos).xyz;\\n\\n    uv -= flow.xy * 1.1;\\n\\n    vec2 offSet = flow.xy;\\n\\n    float r = texture2D(_Image, uv + offSet * 0.05).x;\\n    float g = texture2D(_Image, uv + offSet * 0.008).y;\\n    float b = texture2D(_Image, uv - offSet * 0.05).z;\\n\\n    vec3 outPutCol = vec3(r,g,b);\\n    // outPutCol += hash12(vUv * 1000.0) * 0.1;\\n\\n    gl_FragColor = vec4(outPutCol, mix(step(vUv.y, _ClipRevealPhase), 1.0 - step(vUv.y, 1.0 - _ClipRevealPhase), _RevealDirection));\\n\\n}\";","import {\r\n  Program\r\n} from '../../../../../vendors/ogl/src/core/Program';\r\nimport {\r\n  Texture\r\n} from '../../../../../vendors/ogl/src/core/Texture';\r\nimport {\r\n  Plane\r\n} from '../../../../../vendors/ogl/src/extras/Plane';\r\nimport DomQuad from \"../../../extras/DomQuad/DomQuad\";\r\n\r\nconst vert = require('./shaders/aboutQuad.vert');\r\nconst frag = require('./shaders/aboutQuad.frag');\r\n\r\nimport eventEmitter from '../../../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../../../utils/events.js';\r\n\r\nimport {\r\n  gsap\r\n} from 'gsap';\r\n\r\n\r\nexport default class AboutQuad extends DomQuad {\r\n\r\n  constructor(\r\n    gl, {\r\n      media\r\n    }\r\n  ) {\r\n\r\n    super(gl);\r\n\r\n    this.gl = gl;\r\n\r\n    this.media = media[0];\r\n\r\n    this.initProgram();\r\n\r\n  }\r\n\r\n  initProgram() {\r\n\r\n    this.texture = new Texture(this.gl, {\r\n      generateMipmaps: false,\r\n      minFilter: this.gl.LINEAR,\r\n      magFilter: this.gl.LINEAR,\r\n      // anisotropy: 16,\r\n      width: 1024,\r\n      height: 1024\r\n    });\r\n\r\n    if (this.media.imageSrc) this.loadImage();\r\n\r\n    this.geometry = new Plane(this.gl, {\r\n      width: 2,\r\n      height: 2,\r\n      widthSegments: 32.0,\r\n      heightSegments: 32.0\r\n    });\r\n\r\n    const u = {\r\n\r\n      _ViewplaneSize: {\r\n        value: this.viewPlaneSize\r\n      },\r\n      _Image: {\r\n        value: this.texture\r\n      },\r\n      _FlowMap: {\r\n        value: null\r\n      },\r\n      _ClipRevealPhase: {\r\n        value: 0.0\r\n      },\r\n      _UvScalePhase: {\r\n        value: 0.0\r\n      },\r\n      _Alpha: {\r\n        value: 0.0\r\n      },\r\n      _RevealDirection: {\r\n        value: 0.0\r\n      },\r\n      _Aspect: {\r\n        value: this.viewPlaneSize.x / this.viewPlaneSize.y\r\n      }\r\n\r\n    }\r\n\r\n    this.program = new Program(this.gl, {\r\n      vertex: vert,\r\n      fragment: frag,\r\n      uniforms: u,\r\n      transparent: true\r\n    });\r\n\r\n  }\r\n\r\n  reveal() {\r\n\r\n    gsap.set(this.program.uniforms._RevealDirection, {\r\n      value: 0.0\r\n    });\r\n\r\n    gsap.to(this.program.uniforms._ClipRevealPhase, {\r\n      duration: 2.0,\r\n      value: 1.0,\r\n      ease: \"power2.inOut\"\r\n    });\r\n\r\n    gsap.to(this.program.uniforms._UvScalePhase, {\r\n      duration: 2.0,\r\n      value: 1.0,\r\n      ease: \"power2.inOut\"\r\n    });\r\n\r\n  }\r\n\r\n  hide() {\r\n\r\n    gsap.set(this.program.uniforms._RevealDirection, {\r\n      value: 1.0\r\n    });\r\n\r\n    gsap.to(this.program.uniforms._ClipRevealPhase, {\r\n      duration: 1.0,\r\n      value: 0.0,\r\n      ease: \"power2.inOut\",\r\n      onComplete: () => {\r\n        gsap.set(this.program.uniforms._UvScalePhase, {\r\n          value: 0.0\r\n        })\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  update(flowMap) {\r\n\r\n    // this.program.uniforms._Aspect.value = this.aspect;\r\n    this.program.uniforms._FlowMap.value = flowMap;\r\n\r\n  }\r\n\r\n  loadImage() {\r\n    const img = new Image();\r\n\r\n    img.crossOrigin = \"*\";\r\n\r\n    img.src = this.media.imageSrc;\r\n\r\n    img.onload = () => {\r\n      this.texture.image = img;\r\n      emitter.emit(events.TEXTURE_LOADED);\r\n    };\r\n\r\n  }\r\n\r\n\r\n}","import DomquadMediator from '../../extras/DomQuad/DomquadMediator.js';\r\nimport AboutQuad from './AboutQuad/AboutQuad.js';\r\nimport {\r\n    AboutContent\r\n} from '../../../../static/AboutContent.js';\r\n\r\nimport eventEmitter from '../../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../../utils/events';\r\n\r\nexport default class AboutQuadMediator extends DomquadMediator {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        super(gl, scene, camera);\r\n\r\n        this.gl = gl;\r\n\r\n        this.position.z = 0.0;\r\n\r\n        this.initQuads();\r\n\r\n    }\r\n\r\n    initEvents = () => {\r\n        emitter.on(events.REVEAL_QUADS, this.revealQuad);\r\n        emitter.on(events.PREPARE_UNMOUNT, this.animateOutQuads);\r\n    }\r\n\r\n    removeEvents = () => {\r\n        emitter.off(events.REVEAL_QUADS, this.revealQuad);\r\n        emitter.off(events.PREPARE_UNMOUNT, this.animateOutQuads);\r\n    }\r\n\r\n    initQuads() {\r\n\r\n        const media = AboutContent.map((content) => {\r\n            return content.media;\r\n        });\r\n\r\n        emitter.emit(events.UPDATE_CONTENT_COUNT, media.length);\r\n\r\n        this.quad = new AboutQuad(this.gl, {\r\n            media,\r\n            widthSegments: 32.0,\r\n            heightSegments: 32.0\r\n        });\r\n\r\n        this.quad.setParent(this);\r\n    }\r\n\r\n    bindToDom = ({\r\n        referenceElement\r\n    }) => {\r\n\r\n        this.quad.visible = true;\r\n        this.quad.domElement = referenceElement;\r\n        this.quad.updateRelations({\r\n            camera: this.camera\r\n        });\r\n        this.calculateDomTransforms();\r\n\r\n    }\r\n\r\n    revealQuad = () => {\r\n\r\n        this.quad.reveal();\r\n\r\n    }\r\n\r\n    animateOutQuads = () => {\r\n\r\n        this.quad.hide();\r\n\r\n    }\r\n\r\n    update({\r\n        flowMap\r\n    }) {\r\n\r\n        this.quad.update(flowMap);\r\n\r\n    }\r\n\r\n    calculateDomTransforms() {\r\n\r\n        this.quad.updateDimensions();\r\n        this.quad.calcDomToWebGLPos();\r\n\r\n    }\r\n\r\n}","import eventEmitter from '../../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../../utils/events.js';\r\n\r\nimport ProjectQuadMediator from './Projects/ProjectQuadMediator.js'\r\nimport AboutQuadMediator from './About/AboutQuadMediator.js';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\n\r\nexport default class DomQuadManager {\r\n\r\n    constructor(gl, scene, camera) {\r\n\r\n        this.gl = gl;\r\n\r\n        this.scene = scene;\r\n\r\n        this.camera = camera;\r\n\r\n        this.initMediators();\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n\r\n    initMediators() {\r\n\r\n        this.activeMediator = null;\r\n        this.mediators = {\r\n            PROJECTS: new ProjectQuadMediator(this.gl, this.scene, this.camera),\r\n            ABOUT: new AboutQuadMediator(this.gl, this.scene, this.camera)\r\n        }\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.INIT_DOMGL, this.loadMediator);\r\n        emitter.on(events.REMOVE_DOMGL, this.unloadActiveMediator);\r\n        emitter.on(events.RESIZE, this.resize)\r\n\r\n    }\r\n\r\n    loadMediator = ({\r\n        view,\r\n        params\r\n    }) => {\r\n\r\n        this.activeMediator = this.mediators[view];\r\n        this.activeMediator.bindToDom(params);\r\n        this.activeMediator.initEvents();\r\n        this.activeMediator.setParent(this.scene);\r\n\r\n    }\r\n\r\n    unloadActiveMediator = () => {\r\n\r\n        this.activeMediator.removeEvents();\r\n        this.activeMediator.unloadQuads();\r\n        this.scene.removeChild(this.activeMediator);\r\n\r\n    }\r\n\r\n    update({\r\n        dt,\r\n        inputPos,\r\n        inputDelta,\r\n        flowMap\r\n    }) {\r\n\r\n        if (this.activeMediator === null) return;\r\n\r\n        this.activeMediator.update({\r\n            dt,\r\n            inputPos,\r\n            inputDelta,\r\n            flowMap\r\n        });\r\n\r\n        let i = 0;\r\n        while (i < this.activeMediator.children.length) {\r\n            let quad = this.activeMediator.children[i];\r\n            quad.updateDimensions();\r\n            quad.calcDomToWebGLPos();\r\n            i++;\r\n        };\r\n\r\n    }\r\n\r\n    updateQuadRelations() {\r\n\r\n        if (this.activeMediator === null) return;\r\n\r\n        this.activeMediator.children.forEach((quad) => {\r\n\r\n            quad.updateRelations({\r\n                camera: this.camera\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n    resize = () => {\r\n\r\n        if (this.resizeEvent) this.resizeEvent.kill();\r\n        this.resizeEvent = gsap.delayedCall(0.15, () => {\r\n            this.updateQuadRelations();\r\n        });\r\n\r\n    }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    gl_Position = vec4(position, 1.0);\\n    vUv = uv;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _PrevFrame;\\n\\nuniform vec2 _InputPos;\\nuniform vec2 _InputVel;\\n\\nuniform float _FadeRate;\\nuniform float _Force;\\nuniform float _Radius;\\nuniform float _Aspect;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    vec2 uv = vUv;\\n    uv = 2.0 * uv - 1.0;\\n    vec2 toInput = _InputPos - uv;\\n    toInput.x *= _Aspect;\\n\\n    float phase = smoothstep(_Radius, 0.0, length(toInput));\\n    // vec3 vel = vec3(_InputVel,1.0 - pow(1.0 - min(1.0, length(_InputVel)), 2.0)) * phase * _Force;\\n    // float fallOff = 1.0 - min(1.0, length(_InputVel));\\n    float fallOff = 1.0 - min(1.0, dot(_InputVel, _InputVel) * 0.1);\\n    fallOff *= fallOff;\\n    vec3 vel = vec3(_InputVel,1.0 - fallOff) * phase * _Force;\\n    \\n    // vec3 vel = vec3(_InputVel,1.0 - pow(1.0 - min(1.0, length(_InputVel)), 2.0)) * _Force;\\n    // float phase = smoothstep(vel.z * 0.5, 0.0, length(toInput));\\n    // vel *= phase;\\n\\n    vec3 prev = texture2D(_PrevFrame, vUv).xyz;\\n    vec3 outputPhase = mix(vel, prev, _FadeRate);\\n\\n    gl_FragColor = vec4(outputPhase, 1.0);\\n\\n}\";","import {\r\n    Transform\r\n} from \"../../../vendors/ogl/src/core/Transform\";\r\nimport {\r\n    Triangle\r\n} from \"../../../vendors/ogl/src/extras/Triangle\";\r\nimport {\r\n    Mesh\r\n} from \"../../../vendors/ogl/src/core/Mesh\";\r\nimport {\r\n    Program\r\n} from \"../../../vendors/ogl/src/core/Program\";\r\nimport {\r\n    Vec2\r\n} from \"../../../vendors/ogl/src/math/Vec2\";\r\nimport {\r\n    RenderTarget\r\n} from \"../../../vendors/ogl/src/core/RenderTarget\";\r\n\r\nconst vert = require('./shaders/mouseFlowmap.vert');\r\nconst frag = require('./shaders/mouseFlowmap.frag');\r\n\r\nexport default class MouseFlowmap {\r\n\r\n    constructor(gl, {\r\n        size\r\n    }) {\r\n\r\n        this.gl = gl;\r\n\r\n        this.scene = new Transform;\r\n\r\n        this.initFBO(size);\r\n\r\n        this.initProgram();\r\n\r\n    }\r\n\r\n    initFBO(size) {\r\n\r\n        this.read = this.createRenderTexture(size);\r\n        this.write = this.createRenderTexture(size);\r\n\r\n    }\r\n\r\n    swap() {\r\n\r\n        const tmp = this.read;\r\n        this.read = this.write;\r\n        this.write = tmp;\r\n\r\n    }\r\n\r\n    createRenderTexture(s) {\r\n\r\n        const params = {\r\n            width: s,\r\n            height: s,\r\n            type: this.gl.HALF_FLOAT || this.gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\r\n            format: this.gl.RGBA,\r\n            internalFormat: this.gl.RGBA16F,\r\n            depth: false\r\n        }\r\n        return new RenderTarget(this.gl, params);\r\n    }\r\n\r\n    initProgram() {\r\n\r\n        const geo = new Triangle(this.gl);\r\n\r\n        const u = {\r\n\r\n            _PrevFrame: {\r\n                value: this.read.texture\r\n            },\r\n            _InputPos: {\r\n                value: new Vec2(0.0, 0.0)\r\n            },\r\n            _InputVel: {\r\n                value: new Vec2(0.0, 0.0)\r\n            },\r\n            _Force: {\r\n                value: 1.5\r\n            },\r\n            _Radius: {\r\n                // value: 0.5\r\n                value: 0.35\r\n            },\r\n            _FadeRate: {\r\n                value: 0.97\r\n            },\r\n            _Aspect: {\r\n                value: this.gl.canvas.width / this.gl.canvas.height\r\n            }\r\n\r\n        }\r\n\r\n        const program = new Program(this.gl, {\r\n            vertex: vert,\r\n            fragment: frag,\r\n            uniforms: u,\r\n            depthTest: false,\r\n            depthWrite: false,\r\n        });\r\n\r\n        this.flowMap = new Mesh(this.gl, {\r\n            geometry: geo,\r\n            program: program\r\n        });\r\n        this.flowMap.setParent(this.scene);\r\n\r\n    }\r\n\r\n    update(renderer, {\r\n        dt = 1.0,\r\n        inputPos,\r\n        inputDelta\r\n    }) {\r\n\r\n        this.flowMap.program.uniforms._InputPos.value.copy(inputPos);\r\n\r\n        const velX = inputDelta.x / dt;\r\n        const velY = inputDelta.y / dt;\r\n\r\n        this.flowMap.program.uniforms._InputVel.value.set(velX, velY);\r\n\r\n        this.flowMap.program.uniforms._PrevFrame.value = this.read.texture;\r\n\r\n        renderer.render({\r\n            scene: this.scene,\r\n            target: this.write,\r\n            clear: false\r\n        });\r\n\r\n        this.swap();\r\n\r\n    }\r\n\r\n    get Texture() {\r\n        return this.read.texture;\r\n    }\r\n\r\n    get Aspect() {\r\n        return this.flowMap.program.uniforms._Aspect.value;\r\n    }\r\n\r\n    set Aspect(a) {\r\n\r\n        this.flowMap.program.uniforms._Aspect.value = a;\r\n\r\n    }\r\n\r\n}","import {\r\n  Transform\r\n} from \"../../vendors/ogl/src/core/Transform\";\r\nimport {\r\n  Renderer\r\n} from \"../../vendors/ogl/src/core/Renderer\";\r\nimport {\r\n  Camera\r\n} from \"../../vendors/ogl/src/core/Camera\";\r\n\r\nimport {\r\n  Vec2\r\n} from \"../../vendors/ogl/src/math/Vec2\";\r\n\r\nimport {\r\n  Post\r\n} from \"../../vendors/ogl/src/extras/Post.js\";\r\nconst fxaa = require(\"./post/fxaa.frag\");\r\nconst ripple = require(\"./post/ripple.frag\")\r\n\r\nimport DomQuadManager from \"./DomQuads/DomQuadManager.js\";\r\n\r\nimport MouseFlowmap from \"./MouseFlowmap/MouseFlowmap\";\r\n\r\nimport eventEmitter from \"../EventEmitter\";\r\nconst emitter = eventEmitter.emitter;\r\nimport events from \"../../utils/events\";\r\n\r\nimport {\r\n  gsap\r\n} from \"gsap\";\r\n\r\nexport default class WebGLContext {\r\n  constructor(container) {\r\n    this.initScene(container);\r\n    this.initEvents();\r\n    this.initDomQuadManager();\r\n    this.initMouseflowMap();\r\n  }\r\n\r\n  initScene({\r\n    canvas\r\n  }) {\r\n    const w = window.innerWidth;\r\n    const h = window.innerHeight;\r\n\r\n    this.renderer = new Renderer({\r\n      width: w,\r\n      height: h,\r\n      canvas,\r\n      powerPreference: \"default\",\r\n      //powerPreference: \"high-performance\",\r\n      antialias: window.isMobile ? false : true,\r\n      dpr: window.isMobile ? 2.0 : 1.0\r\n    });\r\n    this.gl = this.renderer.gl;\r\n    // this.gl.clearColor(0.9, 0.9, 0.9, 1.0);\r\n    // this.gl.clearColor(0.93, 0.93, 0.93, 1.0);\r\n    this.gl.clearColor(0.95, 0.95, 0.95, 1.0);\r\n    // this.gl.clearColor(0.1, 0.1, 0.1, 1.0);\r\n\r\n    const {\r\n      width,\r\n      height\r\n    } = this.gl.canvas;\r\n    this.wk = 1.0 / width;\r\n    this.hK = 1.0 / height;\r\n\r\n    this.camera = new Camera(this.gl, {\r\n      fov: 35,\r\n      aspect: width / height,\r\n      near: 0.01,\r\n      far: 3.0\r\n    });\r\n\r\n    this.camera.position.set(0.0, 0.0, 1.0);\r\n\r\n    this.currentTime = 0;\r\n    this.prevtime = 0;\r\n    this.deltaTime = 1;\r\n\r\n    this.scene = new Transform();\r\n\r\n    this.post = new Post(this.gl);\r\n    this.renderToScreen = true;\r\n    this.canvasResolution = new Vec2(\r\n      width,\r\n      height\r\n    );\r\n\r\n    // this.post.addPass({\r\n    //   fragment: ripple,\r\n    //   uniforms: {\r\n    //     _Aspect: {\r\n    //       value: width / height\r\n    //     },\r\n    //     _TransitionPhase: {\r\n    //       value: 0\r\n    //     },\r\n    //     _Target: {\r\n    //       value: new Vec2(0.5, 0.0)\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    this.post.addPass({\r\n      fragment: fxaa,\r\n      uniforms: {\r\n        uResolution: {\r\n          value: this.canvasResolution\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  initDomQuadManager() {\r\n    this.domQuadManager = new DomQuadManager(this.gl, this.scene, this.camera);\r\n  }\r\n\r\n  initMouseflowMap() {\r\n    this.mouseFlowmap = new MouseFlowmap(this.gl, {\r\n      size: 128\r\n    });\r\n  }\r\n\r\n  initEvents() {\r\n    if (!window.isMobile) {\r\n      emitter.on(events.MOUSE_DOWN, this.onMouseDown);\r\n      emitter.on(events.MOUSE_MOVE, this.onMouseMove);\r\n      emitter.on(events.MOUSE_UP, this.onMouseUp);\r\n    } else {\r\n      emitter.on(events.TOUCH_START, this.onTouchStart);\r\n      emitter.on(events.TOUCH_MOVE, this.onTouchMove);\r\n      emitter.on(events.TOUCH_END, this.onTouchEnd);\r\n      emitter.on(events.TOUCH_CANCEL, this.onTouchEnd);\r\n\r\n      this.touchCount = 0;\r\n    }\r\n\r\n    emitter.on(events.PREPARE_UNMOUNT, this.distort);\r\n    emitter.on(events.UPDATE, this.update);\r\n\r\n    this.isInteracting = false;\r\n    this.firstMove = false;\r\n    this.inputPos = new Vec2(0.0, 0.0);\r\n    this.prevInputPos = new Vec2(0.0, 0.0);\r\n    this.inputDelta = new Vec2(0.0, 0.0);\r\n\r\n    emitter.on(events.RESIZE, this.onResize);\r\n    this.isResizing = false;\r\n  }\r\n\r\n  onMouseDown = e => {\r\n    this.isInteracting = true;\r\n    this.inputPos.x = 2.0 * (e.x * this.wk) - 1.0;\r\n    this.inputPos.y = -1 * (2.0 * (e.y * this.hK) - 1.0);\r\n    this.prevInputPos.copy(this.inputPos);\r\n    this.inputDelta.copy(this.inputPos).sub(this.prevInputPos);\r\n  };\r\n\r\n  onMouseMove = e => {\r\n    this.inputPos.x = 2.0 * (e.x * this.wk) - 1.0;\r\n    this.inputPos.y = -1 * (2.0 * (e.y * this.hK) - 1.0);\r\n    if (this.firstMove === false) {\r\n      this.firstMove = true;\r\n      this.prevInputPos.copy(this.inputPos);\r\n      this.inputDelta.copy(this.inputPos).sub(this.prevInputPos);\r\n    }\r\n  };\r\n\r\n  onMouseUp = () => {\r\n    this.isInteracting = false;\r\n    this.firstMove = false;\r\n  };\r\n\r\n  onTouchStart = e => {\r\n    e.preventDefault();\r\n    this.touchCount++;\r\n    this.isInteracting = true;\r\n    const currentTouch = e.touches[0];\r\n    this.inputPos.x = 2.0 * (currentTouch.clientX * this.wk) - 1.0;\r\n    this.inputPos.y = -1 * (2.0 * (currentTouch.clientY * this.hK) - 1.0);\r\n    this.prevInputPos.copy(this.inputPos);\r\n    this.inputDelta.copy(this.inputPos).sub(this.prevInputPos);\r\n  };\r\n\r\n  onTouchMove = e => {\r\n    e.preventDefault();\r\n    if (this.touchCount < 2) {\r\n      const currentTouch = e.touches[0];\r\n      this.inputPos.x = 2.0 * (currentTouch.clientX * this.wk) - 1.0;\r\n      this.inputPos.y = -1 * (2.0 * (currentTouch.clientY * this.hK) - 1.0);\r\n\r\n      if (this.firstMove === false) {\r\n        this.firstMove = true;\r\n        this.prevInputPos.copy(this.inputPos);\r\n        this.inputDelta.copy(this.inputPos).sub(this.prevInputPos);\r\n      }\r\n    }\r\n  };\r\n\r\n  onTouchEnd = () => {\r\n    this.isInteracting = false;\r\n    this.firstMove = false;\r\n    this.touchCount = 0;\r\n  };\r\n\r\n  distort = () => {\r\n\r\n    // const {\r\n    //   uniforms\r\n    // } = this.post.passes[0];\r\n    // gsap.to(uniforms._TransitionPhase, {\r\n\r\n    //   ease: \"power1.inOut\",\r\n    //   duration: 2,\r\n    //   value: 1,\r\n    //   onComplete: () => {\r\n    //     uniforms._TransitionPhase.value = 0;\r\n    //   }\r\n\r\n    // });\r\n\r\n  }\r\n\r\n  render() {\r\n    if (this.renderToScreen === false) {\r\n      this.post.render({\r\n        scene: this.scene,\r\n        camera: this.camera,\r\n        clear: true\r\n      });\r\n    } else {\r\n      this.renderer.render({\r\n        scene: this.scene,\r\n        camera: this.camera,\r\n        clear: true\r\n      });\r\n    }\r\n  }\r\n\r\n  update = ({\r\n    deltaTime\r\n  }) => {\r\n    this.deltaTime = deltaTime * 0.001;\r\n\r\n    this.inputDelta.copy(this.inputPos).sub(this.prevInputPos);\r\n\r\n    this.mouseFlowmap.update(this.renderer, {\r\n      dt: this.deltaTime,\r\n      inputPos: this.inputPos,\r\n      inputDelta: this.inputDelta\r\n    });\r\n\r\n    this.domQuadManager.update({\r\n      dt: this.deltaTime,\r\n      inputPos: this.inputPos,\r\n      inputDelta: this.inputDelta,\r\n      flowMap: this.mouseFlowmap.Texture\r\n    });\r\n\r\n    this.render();\r\n\r\n    this.prevInputPos.copy(this.inputPos);\r\n  };\r\n\r\n  onResize = () => {\r\n    if (this.resizeContext) this.resizeContext.kill();\r\n\r\n    const w = window.innerWidth;\r\n    const h = window.innerHeight;\r\n\r\n    this.wk = 1.0 / w;\r\n    this.hK = 1.0 / h;\r\n\r\n    this.resizeContext = gsap.delayedCall(0.05, () => {\r\n      this.renderer.setSize(w, h);\r\n      const aspectRatio = w / h;\r\n      this.camera.perspective({\r\n        aspect: aspectRatio\r\n      });\r\n\r\n      this.post.resize();\r\n      this.post.passes[0].uniforms.uResolution.value.set(\r\n        this.gl.canvas.width,\r\n        this.gl.canvas.height\r\n      );\r\n\r\n      this.mouseFlowmap.Aspect = w / h;\r\n    });\r\n  };\r\n}","import eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events.js';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\nimport globals from '../utils/globals.js';\r\n\r\nexport default class LoadingScreen {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.body.querySelector('.loader');\r\n\r\n        this.loadingProgress = document.body.querySelector('.loader__progress');\r\n\r\n        this.totalContent = 0;\r\n        this.contentCount = 0;\r\n\r\n        this.currentScale = 0;\r\n        this.targetScale = 0;\r\n\r\n        this.reveal();\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.UPDATE_CONTENT_COUNT, (count) => {\r\n            this.totalContent += count;\r\n        });\r\n\r\n        emitter.on(events.TEXTURE_LOADED, this.updateProgress);\r\n        emitter.on(events.UPDATE, this.update);\r\n\r\n    }\r\n\r\n    reveal() {\r\n\r\n    }\r\n\r\n    hide = () => {\r\n\r\n        gsap.to(this.loadingProgress, {\r\n            delay: 1.5,\r\n            duration: 1.0,\r\n            ease: \"power1.inOut\",\r\n            y: -this.loadingProgress.getBoundingClientRect().height,\r\n            onComplete: () => {\r\n                gsap.delayedCall(0.5, () => {\r\n                    this.el.classList.add('loaded');\r\n                    globals.CONTENT_LOADED = true;\r\n                    emitter.emit(events.LOADING_ANIM_COMPLETED);\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    updateProgress = (phase) => {\r\n\r\n        this.contentCount++;\r\n        this.targetScale = this.contentCount / this.totalContent;\r\n        this.loadingProgress.innerText = `${Math.round(this.targetScale * 100.0)}`;\r\n        if (this.contentCount === this.totalContent) this.hide();\r\n\r\n    }\r\n\r\n    update = () => {\r\n\r\n        this.currentScale += (this.targetScale - this.currentScale) * 0.1;\r\n\r\n    }\r\n\r\n}","import gif from '../static/img/*.gif';\r\nimport eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events.js';\r\n\r\nexport default class NoMobileCTA {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.classList.add('no-mobile-cta');\r\n\r\n        const twitterLink = document.createElement('a');\r\n        twitterLink.href = \"https://twitter.com/DougLilliequist\";\r\n        twitterLink.innerText = \"visit my twitter 👀\";\r\n        twitterLink.classList.add('no-mobile-cta__contact-link');\r\n\r\n        const emailLink = document.createElement('a');\r\n        emailLink.href = \"mailto:douglas@adventureclub.io\";\r\n        emailLink.innerText = \"or say hello 👋\";\r\n        emailLink.target = \"_blank\";\r\n        emailLink.classList.add('no-mobile-cta__contact-link');\r\n        // this.el.appendChild(twitterLink);\r\n\r\n        const greetingGif = new Image();\r\n        greetingGif.classList.add('no-mobile-cta__greeting-gif');\r\n\r\n        greetingGif.crossOrigin = \"*\";\r\n        greetingGif.onload = () => {\r\n            this.el.appendChild(greetingGif);\r\n            this.el.appendChild(twitterLink);\r\n            this.el.appendChild(emailLink);\r\n        }\r\n        greetingGif.src = gif.gaben;\r\n        document.body.appendChild(this.el);\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.LOADING_ANIM_COMPLETED, () => {\r\n            document.body.appendChild(this.el);\r\n        });\r\n\r\n    }\r\n\r\n}","import eventEmitter from './EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../utils/events';\r\n\r\nimport StickyComponent from './StickyComponent.js';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\n\r\nexport default class Navigation {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.querySelector('.navigation__links');\r\n\r\n        this.links = this.el.querySelectorAll('.link');\r\n\r\n        this.active = false;\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        this.links.forEach((link) => {\r\n            link.addEventListener('mouseenter', () => {\r\n                this.onHover(link);\r\n            });\r\n            link.addEventListener('mouseleave', () => {\r\n                this.onLeave(link);\r\n            });\r\n            link.addEventListener('click', () => {\r\n                this.onSelect(link);\r\n            });\r\n        })\r\n\r\n        emitter.on(events.ENTER_SCROLL_MODE, () => {\r\n            this.links.forEach((link) => {\r\n                link.classList.add('deactivated');\r\n                // link.stickyComponent.enable = false;\r\n            });\r\n        });\r\n        emitter.on(events.EXIT_SCROLL_MODE, () => {\r\n            this.links.forEach((link) => {\r\n                link.classList.remove('deactivated');\r\n                // link.stickyComponent.enable = true;\r\n            });\r\n        });\r\n\r\n        window.viewMediator.on('NAVIGATE_IN', ({\r\n            to,\r\n            location\r\n        }) => {\r\n            // this.updateSelectionState(location);\r\n\r\n        });\r\n\r\n        emitter.on(events.LOADING_ANIM_COMPLETED, this.enableLinks);\r\n        emitter.on(events.TRANSITIONING, this.updateActiveState);\r\n\r\n    }\r\n\r\n    updateSelectionState(location = null) {\r\n\r\n        this.links.forEach((link) => {\r\n\r\n            link.classList.remove('link--active');\r\n            link.selected = false;\r\n\r\n            const currentLocation = location ? location.href : window.location.href;\r\n\r\n            if (link.href === currentLocation) {\r\n                link.classList.add('link--active');\r\n                link.selected = true;\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    enableLinks = () => {\r\n\r\n        gsap.fromTo(this.el, {\r\n            opacity: 0.0\r\n        }, {\r\n            opacity: 1.0,\r\n            duration: 0.8,\r\n            z: 0,\r\n            onStart: () => {\r\n                this.links.forEach((link) => {\r\n                    if (link.href === window.location.href) {\r\n                        link.selected = true;\r\n                        gsap.set(link, {\r\n                            opacity: 1.0\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            onComplete: () => {\r\n                this.updateActiveState({\r\n                    state: true\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    updateActiveState = ({\r\n        state\r\n    }) => {\r\n\r\n        this.active = state;\r\n\r\n        this.links.forEach((link) => {\r\n\r\n            if (this.active) {\r\n                link.classList.remove('link--disabled');\r\n            } else {\r\n                link.classList.add('link--disabled');\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    animateHoverState({\r\n        link,\r\n        state\r\n    }) {\r\n        if (link.selected) return;\r\n        if (this.hoverAnim) this.hoverAnim.kill();\r\n        this.hoverAnim = gsap.to(link, {\r\n            duration: 0.1,\r\n            ease: state ? \"power1.out\" : \"power1.in\",\r\n            opacity: state ? 0.7 : 0.4,\r\n            z: 0\r\n        });\r\n\r\n    }\r\n\r\n    onHover = (link) => {\r\n        globals.HOVERING_LINK = true;\r\n        emitter.emit(events.HOVERING_NAV_LINK, true);\r\n        this.animateHoverState({\r\n            link,\r\n            state: true\r\n        });\r\n\r\n    }\r\n\r\n    onLeave = (link) => {\r\n\r\n        globals.HOVERING_LINK = false;\r\n        emitter.emit(events.HOVERING_NAV_LINK, false);\r\n        this.animateHoverState({\r\n            link,\r\n            state: false\r\n        });\r\n\r\n    }\r\n\r\n    onSelect = (selectedLink) => {\r\n\r\n        this.links.forEach((link) => {\r\n            if (link === selectedLink) {\r\n                link.selected = true;\r\n                gsap.set(link, {\r\n                    opacity: 1\r\n                });\r\n            } else {\r\n                link.selected = false;\r\n                gsap.to(link, {\r\n                    duration: 0.2,\r\n                    ease: \"power1.out\",\r\n                    opacity: 0.4,\r\n                    z: 0\r\n                });\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n}","import eventEmitter from '../EventEmitter.js';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\nimport globals from '../../utils/globals.js';\r\n\r\n/**\r\n * Make this available if not using mobile\r\n */\r\n\r\nexport default class Cursor {\r\n\r\n    constructor() {\r\n\r\n        this.dpr = Math.min(2.0, window.devicePixelRatio);\r\n\r\n        this.canvas = document.querySelector('.main-cursor');\r\n\r\n        this.width = this.canvas.width = window.innerWidth * this.dpr;\r\n\r\n        this.height = this.canvas.height = window.innerHeight * this.dpr;\r\n\r\n        this.ctx = this.canvas.getContext('2d');\r\n\r\n        this.ctx.scale(this.dpr, this.dpr);\r\n\r\n        this.initCursor();\r\n\r\n        this.initCursorArrows();\r\n\r\n        this.initCta();\r\n\r\n        this.initEvents();\r\n\r\n    }\r\n\r\n    initCursor() {\r\n\r\n        this.position = {\r\n\r\n            x: window.innerWidth * 0.5,\r\n            y: window.innerHeight * 0.5,\r\n\r\n        }\r\n\r\n        this.prevPosition = {\r\n\r\n            x: window.innerWidth * 0.5,\r\n            y: window.innerHeight * 0.5,\r\n\r\n        }\r\n\r\n        this.delta = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n\r\n        this.inputPos = {\r\n            x: window.innerWidth * 0.5,\r\n            y: window.innerHeight * 0.2,\r\n        }\r\n\r\n        this.target = {\r\n\r\n            x: 0,\r\n            y: 0\r\n\r\n        }\r\n\r\n        this.inScrollMode = false;\r\n\r\n        this.inViewProjectMode = false;\r\n\r\n        this.defaultRadius = 15.0;\r\n\r\n        this.scrollModeRadius = 22.0;\r\n\r\n        this.hoverRadius = 1.0;\r\n\r\n        this.radius = this.defaultRadius;\r\n\r\n        // this.strokeWidth = 0.5;\r\n        this.strokeWidth = 0.5;\r\n\r\n        this.startAngle = 0;\r\n\r\n        this.strokeAlpha = 1.0;\r\n\r\n        this.fillAlpha = 0.0;\r\n\r\n        this.visible = true;\r\n\r\n        this.hoveringSticky = false;\r\n\r\n        this.endAngle = Math.PI * 2.0;\r\n\r\n        this.ease = 0.2;\r\n\r\n    }\r\n\r\n    initCursorArrows() {\r\n\r\n        this.arrowOriginOffset = {\r\n\r\n            x: 4,\r\n            y: 4\r\n\r\n        }\r\n\r\n        this.arrowLocalPos = {\r\n\r\n            x: 4,\r\n            y: 9\r\n\r\n        }\r\n\r\n        this.cursorArrowAlpha = 0.0;\r\n\r\n        this.inputPhase = 0.0;\r\n\r\n        this.inputDirection = 0.0;\r\n\r\n    }\r\n\r\n    initCta() {\r\n\r\n        this.holdMessage = this.createCanvasText({\r\n            word: \"Hold\",\r\n            fontSize: 12\r\n        });\r\n        this.dragMessage = this.createCanvasText({\r\n            word: \"Drag\",\r\n            fontSize: 12\r\n        });\r\n\r\n        this.ctaPosOffset = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n\r\n        this.ctaTextAlpha = 1.0;\r\n\r\n        this.removeCTA = false;\r\n\r\n        this.drawMessage = false;\r\n\r\n        this.inputTravel = 0;\r\n\r\n        this.inputTravelThreshold = 100;\r\n\r\n    }\r\n\r\n    createCanvasText({\r\n        word,\r\n        fontSize\r\n    }) {\r\n\r\n        this.ctx.font = `${fontSize}px Mulish`;\r\n        const messageBounds = this.ctx.measureText(word);\r\n        return {\r\n            word,\r\n            width: messageBounds.width,\r\n            fontSize\r\n        };\r\n\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        emitter.on(events.LOADING_ANIM_COMPLETED, this.reveal)\r\n        emitter.on(events.SHOW_CLICKDRAG_CTA, this.showCTAText);\r\n        emitter.on(events.HIDE_CLICKDRAG_CTA, this.hideCTAText);\r\n\r\n        emitter.on(events.MOUSE_MOVE, this.onMouseMove);\r\n        emitter.on(events.ENTER_SCROLL_MODE, this.onMouseDown);\r\n        emitter.on(events.EXIT_SCROLL_MODE, this.onMouseUp);\r\n\r\n        // emitter.on(events.HOVERING_STICKY_COMPONENT, this.animateHoverMode);\r\n        // emitter.on(events.LEAVING_STICKY_COMPONENT, this.animateLeaveHoverMode);\r\n        // emitter.on(events.HOVERING_LINK, this.animateHoverMode);\r\n        // emitter.on(events.LEAVING_LINK, this.animateLeaveHoverMode);\r\n        // emitter.on(events.)\r\n\r\n        emitter.on(events.UPDATE_STICKY_TARGET, this.updateStickyTarget);\r\n        emitter.on(events.LINK_SELECTED, this.onLinkSelected);\r\n\r\n        emitter.on(events.HOVERING_NAV_LINK, this.updateNavlinkState);\r\n\r\n        emitter.on(events.SHOW_PROJECT, () => this.inViewProjectMode = true);\r\n        emitter.on(events.CLOSE_PROJECT, () => this.inViewProjectMode = false);\r\n\r\n        emitter.on(events.UPDATE, this.update);\r\n        emitter.on(events.RESIZE, this.onResize);\r\n\r\n    }\r\n\r\n    onMouseDown = () => {\r\n\r\n        this.inScrollMode = true;\r\n\r\n        // if(this.hoveringSticky === false) {\r\n        // this.prevPosition.x = this.target.x;\r\n        // this.prevPosition.y = this.target.y;\r\n        // }\r\n\r\n        this.animateScrollMode();\r\n\r\n    }\r\n\r\n    onMouseMove = (event) => {\r\n\r\n        if (this.visible === false) {\r\n            this.visible = true;\r\n            this.restoreAlpha();\r\n        }\r\n\r\n        this.inputPos.x = event.clientX;\r\n        this.inputPos.y = event.clientY;\r\n\r\n        if (this.inScrollMode) {\r\n\r\n            this.inputTravel = this.inputTravel < this.inputTravelThreshold ? this.inputTravel + 1 : this.inputTravelThreshold;\r\n            if (this.inputTravel >= this.inputTravelThreshold) {\r\n                this.removeCTAText();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    onMouseUp = () => {\r\n\r\n        this.restore();\r\n\r\n    }\r\n\r\n    //include kill animation\r\n    //make this to TL animation\r\n    animateScrollMode() {\r\n\r\n        if (this.inScrollMode) {\r\n\r\n            if (this.scrollModeAnim) this.scrollModeAnim.kill();\r\n\r\n            this.scrollModeAnim = gsap.timeline({});\r\n\r\n            this.scrollModeAnim.to(this, {\r\n                duration: 0.2,\r\n                radius: this.scrollModeRadius,\r\n                cursorArrowAlpha: 0.5,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n            this.scrollModeAnim.to(this.arrowOriginOffset, {\r\n                duration: 0.2,\r\n                y: 10,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n            this.scrollModeAnim.fromTo(this.ctaPosOffset, {\r\n                y: 24\r\n            }, {\r\n                y: 0,\r\n                duration: 0.5,\r\n                ease: \"power1.out\"\r\n            }, \"<\");\r\n\r\n        }\r\n\r\n    }\r\n\r\n    restore = () => {\r\n\r\n        if (this.restoreAnim) this.restoreAnim.kill();\r\n\r\n        this.restoreAnim = gsap.timeline({\r\n            onComplete: () => this.inScrollMode = false\r\n        });\r\n\r\n        this.restoreAnim.to(this, {\r\n            duration: 0.2,\r\n            radius: this.defaultRadius,\r\n            ctaTextAlpha: this.removeCTA ? 0.0 : 1.0,\r\n            cursorArrowAlpha: 0.0,\r\n            ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n        this.restoreAnim.to(this.arrowOriginOffset, {\r\n            duration: 0.2,\r\n            y: 4,\r\n            ease: \"power1.out\"\r\n        }, \"<\");\r\n\r\n    }\r\n\r\n    reveal = () => {\r\n\r\n        const revealAnim = gsap.timeline({});\r\n        revealAnim.fromTo(this, {\r\n            radius: 0,\r\n            ctaTextAlpha: 0\r\n        }, {\r\n            duration: 0.2,\r\n            radius: this.defaultRadius,\r\n            ctaTextAlpha: 1.0,\r\n            ease: \"circ.out\"\r\n        });\r\n\r\n    }\r\n\r\n    animateHoverMode = (event) => {\r\n\r\n        if (this.hoveringSticky === false) {\r\n\r\n            this.hoveringSticky = true;\r\n            const {\r\n                rect\r\n            } = event;\r\n            const {\r\n                width,\r\n                height\r\n            } = rect;\r\n\r\n            // this.hoverRadius = Math.sqrt((width * width) + (height * height)) * 0.3115;\r\n            this.hoverRadius = Math.sqrt((width * width) + (height * height)) * 0.35;\r\n\r\n            if (this.hoverModeAnim) this.hoverModeAnim.kill();\r\n            this.hoverModeAnim = gsap.to(this, {\r\n                duration: 0.4,\r\n                ease: \"power1.out\",\r\n                radius: this.hoverRadius,\r\n                onStart: () => {\r\n                    if (this.visible === false) return;\r\n                    this.hideCTAText();\r\n                    this.strokeAlpha = 0;\r\n                    this.fillAlpha = 1;\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    //fade out cursor here\r\n    animateLeaveHoverMode = () => {\r\n\r\n        if (this.hoveringSticky) {\r\n            this.hoveringSticky = false;\r\n            if (this.leaveHoverModeAnim) this.leaveHoverModeAnim.kill();\r\n            this.leaveHoverModeAnim = gsap.to(this, {\r\n                duration: 0.4,\r\n                ease: \"power1.out\",\r\n                radius: this.defaultRadius,\r\n                onStart: () => {\r\n\r\n                    if (this.visible === false) return;\r\n                    this.showCTAText();\r\n                    this.strokeAlpha = 1;\r\n                    this.fillAlpha = 0;\r\n\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    onLinkSelected = () => {\r\n        gsap.to(this, {\r\n            duration: 0.2,\r\n            ease: \"power1.out\",\r\n            alpha: 0.0,\r\n            radius: this.hoverRadius * 1.2,\r\n            onComplete: () => {\r\n                this.visible = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    updateNavlinkState = (state) => {\r\n\r\n        if (this.navlinkHoverAnim) this.navlinkHoverAnim.kill();\r\n\r\n        if (state === true) {\r\n\r\n            this.navlinkHoverAnim = gsap.to(this, {\r\n                duration: 0.2,\r\n                ease: \"power1.out\",\r\n                radius: 0,\r\n                onStart: () => {\r\n                    this.hideCTAText();\r\n                }\r\n            })\r\n\r\n        } else {\r\n\r\n            this.navlinkHoverAnim = gsap.to(this, {\r\n                duration: 0.2,\r\n                ease: \"power1.in\",\r\n                radius: this.defaultRadius,\r\n                onComplete: () => {\r\n                    this.showCTAText();\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    updateStickyTarget = (event) => {\r\n\r\n        const {\r\n            target\r\n        } = event;\r\n        this.target.x = target.x;\r\n        this.target.y = target.y;\r\n\r\n    }\r\n\r\n    restoreAlpha() {\r\n\r\n        gsap.to(this, {\r\n            duration: 0.2,\r\n            ease: \"power1.out\",\r\n            alpha: 1.0,\r\n            onComplete: () => {\r\n                this.visible = true;\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    drawCursorArrows() {\r\n\r\n        //top arrow\r\n        this.ctx.beginPath();\r\n        const topArrowAlpha = Math.min(1, this.cursorArrowAlpha + (this.inputDirection > 0 ? this.inputPhase : 0));\r\n        this.ctx.fillStyle = `rgba(${0.0}, ${0.0}, ${0.0}, ${topArrowAlpha})`;\r\n\r\n        const topArrowScale = Math.min(2, this.inputDirection > 0 ? this.inputPhase : 0);\r\n        this.ctx.moveTo(this.position.x - (4 + topArrowScale), this.position.y - (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x + (4 + topArrowScale), this.position.y - (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x, this.position.y - (this.radius + this.arrowOriginOffset.y + 5.0 + topArrowScale));\r\n\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n\r\n        // //bottom arrow\r\n        this.ctx.beginPath();\r\n        const bottomArrowAlpha = Math.min(1.0, this.cursorArrowAlpha + (this.inputDirection < 0 ? this.inputPhase : 0));\r\n        this.ctx.fillStyle = `rgba(${0.0}, ${0.0}, ${0.0}, ${bottomArrowAlpha})`;\r\n\r\n        const bottomArrowScale = Math.min(2, this.inputDirection < 0 ? this.inputPhase : 0);\r\n        this.ctx.moveTo(this.position.x - (4 + bottomArrowScale), this.position.y + (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x + (4 + bottomArrowScale), this.position.y + (this.radius + this.arrowOriginOffset.y));\r\n        this.ctx.lineTo(this.position.x, this.position.y + (this.radius + this.arrowOriginOffset.y + 5 + bottomArrowScale));\r\n\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n\r\n    }\r\n\r\n    drawCursorCircle() {\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.fillStyle = `rgba(${0.0},${0.0},${0.0}, ${this.fillAlpha})`;\r\n        this.ctx.strokeStyle = `rgba(${0.0},${0.0},${0.0}, ${this.strokeAlpha})`;\r\n        this.ctx.arc(this.position.x, this.position.y, this.radius, this.startAngle, this.endAngle, false);\r\n        this.ctx.lineWidth = this.strokeWidth;\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n\r\n    }\r\n\r\n    drawCTAText() {\r\n\r\n        const message = this.inScrollMode ? this.dragMessage : this.holdMessage;\r\n        this.ctx.fillStyle = `rgba(${0.0},${0.0},${0.0}, ${this.ctaTextAlpha})`;\r\n        this.ctx.font = `${12}px Arial`;\r\n        this.ctx.textBaseline = \"middle\";\r\n        // this.ctx.fillText(message.word, this.position.x + 40, this.position.y + this.ctaPosOffset.y);\r\n        this.ctx.fillText(message.word, this.position.x - 60, this.position.y + this.ctaPosOffset.y);\r\n\r\n    }\r\n\r\n    showCTAText = () => {\r\n\r\n        if (this.removeCTA || this.inViewProjectMode) return;\r\n        this.drawMessage = true;\r\n        gsap.to(this, {\r\n            duration: 0.5,\r\n            ctaTextAlpha: 1,\r\n            ease: \"power1.out\"\r\n        });\r\n    }\r\n\r\n    hideCTAText = () => {\r\n\r\n        if (this.removeCTA || this.inViewProjectMode) return;\r\n        this.drawMessage = false;\r\n        gsap.to(this, {\r\n            duration: 0.5,\r\n            ctaTextAlpha: 0,\r\n            ease: \"power1.out\"\r\n        });\r\n    }\r\n\r\n    removeCTAText() {\r\n\r\n        if (this.removeCTA === false) {\r\n            this.removeCTA = true;\r\n            gsap.to(this, {\r\n                duration: 0.5,\r\n                ctaTextAlpha: 0,\r\n                ease: \"power1.out\"\r\n            });\r\n        }\r\n    }\r\n\r\n    draw() {\r\n\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n        this.drawCursorCircle();\r\n        if (this.inScrollMode) this.drawCursorArrows();\r\n\r\n        if(globals.CURRENT_VIEW !== \"work\") return;\r\n        if (this.drawMessage) this.drawCTAText();\r\n\r\n    }\r\n\r\n    update = () => {\r\n\r\n        this.position.x += (this.target.x - this.position.x) / 6.0;\r\n        this.position.y += (this.target.y - this.position.y) / 6.0;\r\n\r\n        // this.position.x = this.target.x;\r\n        // this.position.y = this.target.y;\r\n        if (this.hoveringSticky === false) {\r\n            this.target.x = this.inputPos.x;\r\n            this.target.y = this.inputPos.y;\r\n        }\r\n\r\n        this.delta.x = this.position.x - this.prevPosition.x;\r\n        this.delta.y = this.position.y - this.prevPosition.y;\r\n        this.inputDirection = Math.sign(this.delta.y) * -1; //coordinates are flipped in canvas\r\n\r\n        this.updateInputphase();\r\n\r\n        this.draw();\r\n\r\n        this.prevPosition.x = this.position.x;\r\n        this.prevPosition.y = this.position.y;\r\n\r\n    }\r\n\r\n    updateInputphase() {\r\n\r\n        if (this.inScrollMode) this.inputPhase += Math.abs(this.delta.y) * 0.01;\r\n        this.inputPhase *= this.inputPhase < 0.001 ? 0.0 : 0.90;\r\n\r\n    }\r\n\r\n    onResize = () => {\r\n\r\n        this.width = this.canvas.width = window.innerWidth * this.dpr;\r\n        this.height = this.canvas.height = window.innerHeight * this.dpr;\r\n        this.ctx.scale(this.dpr, this.dpr);\r\n\r\n    }\r\n\r\n}","import {\r\n    gsap\r\n} from 'gsap';\r\n\r\nclass TransitionSlide {\r\n\r\n    constructor() {\r\n\r\n        this.el = document.querySelector('.transition-slide');\r\n\r\n        gsap.set(this.el, {\r\n            xPercent: 0,\r\n            yPercent: 100,\r\n            z: 0\r\n        });\r\n\r\n    }\r\n\r\n    animate({\r\n        leaving\r\n    }) {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n            const ease = leaving ? \"power1.in\" : \"power1.out\";\r\n            const duration = 1.0\r\n\r\n            gsap.to(this.el, {\r\n                xPercent: 0,\r\n                yPercent: leaving ? 0 : -100,\r\n                z: 0,\r\n                ease,\r\n                duration,\r\n                onComplete: () => {\r\n\r\n                    gsap.set(this.el, {\r\n                        xPercent: 0,\r\n                        yPercent: leaving ? 0 : 100,\r\n                        z: 0\r\n                    });\r\n\r\n                    resolve();\r\n\r\n                }\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\n// const transitionSlide = new TransitionSlide();\r\n// export default transitionSlide;","import Highway from \"@dogstudio/highway\";\r\nimport eventEmitter from '../EventEmitter';\r\nconst emitter = eventEmitter.emitter;\r\nimport events from '../../utils/events.js'\r\nimport transitionSlide from '../TransitionSlide';\r\n\r\nimport {\r\n    gsap\r\n} from 'gsap';\r\n\r\nexport default class Transition extends Highway.Transition {\r\n\r\n    in ({\r\n        from,\r\n        to,\r\n        done\r\n    }) {\r\n\r\n        from.remove();\r\n        done();\r\n\r\n    }\r\n\r\n    out({\r\n        from,\r\n        done\r\n    }) {\r\n\r\n        emitter.emit(events.PREPARE_UNMOUNT);\r\n        gsap.to(this, {\r\n            duration: 1.0,\r\n            onComplete: () => {\r\n                done();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}","import Highway from \"@dogstudio/highway\";\r\n\r\nexport default class ViewMediator extends Highway.Core {\r\n  constructor({\r\n    work,\r\n    about,\r\n    transition\r\n  } = {}) {\r\n    const highwayArgs = {\r\n      renderers: {\r\n        work: work,\r\n        about: about\r\n      },\r\n      transitions: {\r\n        default: transition\r\n      }\r\n    };\r\n\r\n    super(highwayArgs);\r\n\r\n  }\r\n}","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),o=Math.max(i,s),a=0,u=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var a=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),o=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(o.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var o=e[t];\"string\"==typeof o?(i[t]=o,s+=1):\"object\"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),u=a.default.find(o,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=a.default.find(o,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=a.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var o=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return{name:s.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var o=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var o=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})}));","import Work from \"./Views/Work/Work.js\";\r\nimport About from \"./Views/About/About.js\";\r\n\r\nimport WebGLContext from \"./WebGL/WebGLContext.js\";\r\n\r\nimport LoadingScreen from './LoadingScreen.js';\r\nimport NoMobileCTA from './NoMobileCTA.js';\r\nimport Navigation from './Navigation.js';\r\nimport Cursor from '../src/CanvasComponents/Cursor.js';\r\n\r\nimport Transition from \"./Transitions/Transition.js\";\r\nimport ViewMediator from \"./Views/ViewMediator.js\";\r\nimport Bowser from \"bowser\";\r\nimport globals from '../utils/globals.js';\r\n\r\nexport default class App {\r\n    constructor() {\r\n\r\n        window.globals = globals;\r\n\r\n        const browser = Bowser.getParser(window.navigator.userAgent);\r\n        const {\r\n            type\r\n        } = browser.parsedResult.platform;\r\n\r\n        window.isMobile = type !== \"desktop\";\r\n\r\n        // if (window.isMobile) {\r\n        //     new NoMobileCTA();\r\n        //     return;\r\n        // }\r\n\r\n        new LoadingScreen();\r\n\r\n        if (!window.isMobile) {\r\n            this.cursor = new Cursor();\r\n        }\r\n\r\n        new WebGLContext({\r\n            canvas: document.querySelector('.webgl-canvas')\r\n        });\r\n\r\n        window.viewMediator = new ViewMediator({\r\n            work: Work,\r\n            about: About,\r\n            transition: Transition\r\n        });\r\n\r\n       new Navigation();\r\n\r\n    }\r\n\r\n}\r\n\r\nwindow.onload = () => new App();","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}